{"path":"iCloudDrive/bks/Calculus/Handouts/integration_compiled.pdf","text":"A ditya Ghosh Integration : Theory and Problems (Day 1) Aditya Ghosh 1 How to formally deﬁne the area? You might have heard that ∫ b a f (x)dx denotes the area under the graph1 of f (x) from x = a to x = b. But what does that really mean? Recall how we learnt the concept of area since childhood. First we deﬁne a certain shape, suppose a square, to have a ‘unit area’. Then for any rectangle, we measure the sides in that unit and say that area of the rectangle is length times breadth (l ×b), which essentially means that the area of the rectangle is lb times the unit area. For a triangle, we perform a similar procedure (we compare its area with a rectangle). But how to deﬁne area of some arbitrary shape? Intuition says that we should try to cover up the shape using those unit squares and ﬁnd out how many of the unit squares are needed. Let us now try to make this intuition precise. Given a function f deﬁned on [a, b], we wish to deﬁne the quan- tity ∫ b a f (x) dx such that it represents the signed area of the region in the xy-plane that is bounded by the graph of f, the x-axis and the vertical lines x = a and x = b. The area above the x-axis adds to the total and that below the x-axis subtracts from the total. For the time being, assume that the graph of f (x) is ‘simple’, like the ones shown here. In order to approximate the area (as noted above), we divide the interval [a, b] into some disjoint sub- intervals, suppose using the points a = x0 < x1 < · · · < xn−1 < xn = b, and pick a point ti in each [xi−1, xi] such that f (ti) would be the height of a suitable rectangle that approximates the area under the curve within that sub-interval. Then we can use the sum of the areas of these rectangles to approximate the desired area. However, there is a little problem. How do we choose those ti’s? Choosing ti to be one of the endpoints might not always serve the purpose. Let us consider two extreme cases: when ti is chosen such that f (ti) is the minimum or the maximum value of f within the sub-interval [xi−1, xi]. We know that if f is continuous on a closed bounded interval (like [xi−1, xi]) then it attains a minimum and a maximum within that interval. But not every bounded function f has this property 2, we should use sup and inf instead of max and min, respectively. 1Here graph of f : [a, b] → R means a curve that consists of the points {(t, f (t)) : a ≤ t ≤ b} 2Take f (x) = x(1 − x) if x ̸= 1/2 and set f (1/2) = 1/8. Then f does not attain a maximum value within a sub-interval that contains the point 1/2. 1 A ditya Ghosh For each 1 ≤ i ≤ n, we deﬁne Mi = sup{f (t) : xi−1 ≤ t ≤ xi}, and mi = inf{f (t) : xi−1 ≤ t ≤ xi}. Then, for any choice of ti’s, we have n∑ i=1 mi(xi − xi−1) ≤ n∑ i=1 f (ti)(xi − xi−1) ≤ n∑ i=1 Mi(xi − xi−1). (1) Given the partition P = {a = x0 < x1 < · · · < xn−1 < xn = b}, the LHS of (1) is the worst under-estimate of the desired area with this partition (worst over all possible choices of ti) and the RHS is the worst over-estimate. Keeping aside the ti’s for the moment, we might also write n∑ i=1 mi(xi − xi−1) ≤ desired area ≤ n∑ i=1 Mi(xi − xi−1). (2) Note that these under-estimate and over-estimate depend only on the partition P (and on f of course!), so we can denote them by L(P, f ) and U (P, f ), respectively. The quantity in the middle of (1) is called a Riemann-sum approximation of the desired area. Example 1.1. Let us consider the function f (x) = x on [0, 1]. Take the partition P that divides [0, 1] into n intervals of equal length, i.e., Pn = {0, 1/n, 2/n, . . . , 1}. Write xi = i/n for 0 ≤ i ≤ n. Note that for x ∈ [xi−1, xi], the maximum possible value of f (x) is Mi = f (xi) and the minimum possible value is mi = f (xi−1). Hence, U (Pn, f ) = n∑ i=1 Mi(xi − xi−1) = 1 n n∑ i=1 f (xi) = 1 n n∑ i=1 i n = n(n + 1) 2n2 and L(Pn, f ) = n∑ i=1 mi(xi − xi−1) = 1 n n∑ i=1 f (xi−1) = 1 n n∑ i=1 i − 1 n = n(n − 1) 2n2 . In this simple example, we already know what the area should be, because the region under the curve y = f (x) = x for x ∈ [0, 1] (and bounded below by the x-axis) is just a triangle which has area 1/2. Observe that U (Pn, f ) is a slight over-estimate, while L(Pn, f ) is a slight under-estimate, which is exactly what we expect. In fact, letting n → ∞, we see that both U (Pn, f ) and L(Pn, f ) converges to 1/2. Note that in the above example, we just considered a speciﬁc sequence of partitions. But there always is a plethora of partitions to choose from! Then how to develop a general notion of the area? Let us go back to equation (1) once again. The Riemann-sum approximation ∑n i=1 f (ti)(xi − xi−1) is always an estimate of the area, regardless of how we choose the ti’s. Intuition says that if the sub-intervals are made smaller and smaller, then this approximation will get closer and closer to the actual area. Having this in mind, let us try to perceive the 2 A ditya Ghosh following deﬁnition of integrals given by Riemann: Deﬁnition 1.1 (Riemann’s deﬁnition of integrability). We say that f is (Riemann-)integrable on [a, b] if there exists a real number A such that for every ε > 0 there exists δ > 0 such that whenever a partition P = {a = x0 < x1 < · · · < xn = b} of [a, b] has the property that the length of each sub-interval is less than δ, then it holds that \f \f \f \f \f n∑ i=1 f (ti)(xi − xi−1) − A \f \f \f \f \f < ε, irrespective of the choice of the points ti’s where ti ∈ [xi−1, xi]. If the above holds, we write ∫ b a f (x)dx = A. Informally, the above deﬁnition says that by making the length of each sub-interval suﬃciently small, we can ensure the Riemann-sum approximation to be as close to ∫ b a f (x)dx as we please. In particular, if we take n sub-intervals of equal length (i.e., each of length b−a n ) and let n → ∞, we get the following theorem: Theorem 1.1. If f is integrable on [a, b], then it holds that lim n→∞ b − a n n∑ k=1 f ( a + k · b − a n ) = ∫ b a f (x)dx. On one hand, this theorem can be used to calculate integrals of very simple functions (e.g., x, x 2, e x, sin x etc.), while on the other hand, it can be used to calculate certain limits which can be expressed as the limit in the above LHS. This latter idea is extensively used for creating and solving competition problems. We shall see some interesting examples soon! Corollary 1.1. If f is integrable on [0, 1] then lim n→∞ 1 n n∑ k=1 f ( k n ) = ∫ 1 0 f (x)dx. Question 1. If lim n→∞ 1 n n∑ k=1 f ( k n ) = ℓ, does it always imply that ∫ 1 0 f (x)dx = ℓ? It is undeniable that even understanding the statement of Deﬁnition 1.1 takes a lot of eﬀort, let alone the struggle of learning how to use it to prove that a given function is integrable. This is where Darboux’s alternate deﬁnition (of Riemann integral) comes to our rescue. We consider all possible partitions of [a, b] and try to ﬁnd what are the best under-estimate and 3 A ditya Ghosh best over-estimate of the desired area, best over the choice of P, i.e., over the class of all partitions of [a, b]. Intuition suggests that best under-estimate is the largest one among all such under-estimates L(P, f ) and best over-estimate is the smallest one among all such over- estimates U (P, f ). Again, here a smallest or a largest one may not exist, so we use inf and sup : best over-estimate = inf U (P, f ), best under-estimate = sup L(P, f ) (3) where the inﬁmum and the supremum are taken over P, i.e., over all possible partitions of [a, b]. Note that inf U (P, f ) exists because for any partition P, the quantity L(P, f ) is a lower bound on the set of all possible values of U (P, f ). A similar argument shows why sup L(P, f ) exists. Also note that the best over-estimate is always greater than or equal to the best under- estimate, but if the former is strictly bigger than the later, then how can we deﬁne the area? Having this notion in mind, we settle for the following deﬁnition of the area/integral: Deﬁnition 1.2 (Darboux’s deﬁnition of Riemann-integrability). We say that f is Riemann-integrable on [a, b] if the ‘best over-estimate’ and the ‘best under- estimate’, as deﬁned in (3) are equal and their common value is denoted by ∫ b a f (x)dx. The reader who is not lost yet might wonder, how can there be two deﬁnitions of the same thing? Of course this is not the ﬁrst time it is happening in this Calculus course, we already had seen two equivalent deﬁnitions of continuity (ε − δ deﬁnition and sequential deﬁnition). What we just need here is a proof that shows the above two deﬁnitions to be equivalent. There are such proofs, but let us skip that for now, since it will obviously be very much involved. If you are interested, you can look it up in any undergraduate-level textbook on Real Analysis. It should however be noted that the above deﬁnition only attaches a meaning to the symbol ∫ b a f (x)dx, it does not give any method to calculate it. Moreover, the set of all partitions is so huge that even for very simple functions, it is notoriously diﬃcult to verify the above deﬁnition, i.e., to show that inf U (P, f ) and sup L(P, f ) are equal. However, there is a result that is very handy when one tries to prove that a given function is integrable, which is as follows. Result 1.1. A function f is integrable on [a, b] if and only if for every ε > 0 there exists a partition P of [a, b] such that U (P, f ) − L(P, f ) < ε holds. We shall not prove this result here either. However, let us use this result to ﬁnd out some common classes of functions that are Riemann-integrable. Result 1.2. If f is monotone on [a, b] then it is integrable on [a, b] as well. Result 1.3. If f is continuous on [a, b] then it is integrable on [a, b] as well. 4 A ditya Ghosh Proof of Result 1.2. Without loss of generality, we may assume that f is increasing. Then, for any partition P = {a = x0 < x1 < · · · < xn−1 < xn = b}, we have U (P, f ) = n∑ i=1 f (xi)(xi − xi−1), and L(P, f ) = n∑ i=1 f (xi−1)(xi − xi−1). Hence, if we choose P such that the length of each sub-interval [xi−1, xi] is small, say less than δ, then U (P, f ) − L(P, f ) = n∑ i=1 (f (xi) − f (xi−1)) (xi − xi−1) ≤ n∑ i=1 (f (xi) − f (xi−1)) · δ = (f (b) − f (a)) · δ. So by choosing δ > 0 such that δ · (f (b) − f (a)) ≤ ε, we are through. □ Proof of Result 1.3. Since f is continuous, it attains a maximum and a minimum value in each sub-interval. Now, we wish to make the sub-intervals very small such that in each of them the diﬀerence between the maximum and minimum value of f is small enough. To achieve this, uniform continuity would help. Since f is continuous on this closed and bounded interval [a, b], we know that f must be uniformly continuous on [a, b]. Hence, for every ε > 0 there exists δ > 0 such that for any x, y ∈ [a, b] such that |x − y| < δ we have |f (x) − f (y)| < ε. Now, if we choose the partition P such that length of each sub-interval is less than this δ, then we know that Mi − mi is less than ε, for each i. Hence U (P, f ) − L(P, f ) = n∑ i=1 (Mi − mi)(xi − xi−1) < ε n∑ i=1 (xi − xi−1) = ε(b − a), which completes the proof. (We could have started with ε′ = ε/(b − a) instead.) □ We shall assume the following results without proof. A curious reader can locate the proofs in any UG-level textbook on Real Analysis. Result 1.4. If f and g are integrable on [a, b], then so are f ± g, cf (where c is a constant). Result 1.5. If f is integrable on [a, b], and g is continuous on the range of f , then g ◦ f is integrable. You are encouraged to use whatever learnt till now to answer the following questions. Question 2. If f is integrable on [a, b], is it necessary that |f | is also integrable? Question 3. Suppose that f and g are integrable on [a, b]. Is it necessary that their product f g is also integrable on [a, b]? What about max{f, g} and min{f, g}? 5 A ditya Ghosh Till now we have not seen any function which is not integrable. Following is a classical example of such kind. Example 1.2 (Dirichlet function). Let f : [0, 1] → R be a function deﬁned as f (x) =    0 if x ∈ Q, 1 if x /∈ Q. Take any partition P. In each sub-interval, there is at least one rational and at least one irrational number, which implies that Mi = 1 and mi = 0 holds for each i. Therefore, U (P, f ) = n∑ i=1 1 · (xi − xi−1) = 1 · (1 − 0) = 1, L(P, f ) = n∑ i=1 0 · (xi − xi−1) = 0, for any partition P. Hence we can say that f is not integrable on [0, 1], by noting that f does not meet the requirements in Darboux’s deﬁnition. Remark 1.1. If we change the value of f at just one point, that does not have any inﬂuence on the integrability of f or on the value of the integral. Hence, if a function f is continuous everywhere except at just one point inside [a, b], then f would be integrable, provided f is bounded. (It requires a proof though, which we skip for now.) Remark 1.2. Note that from the very beginning we have imposed a condition that f must be bounded. How to deﬁne integrals of functions such as f (x) = log x on the interval [0, 1] or g(x) = tan x on the interval [0, π] (with f (0) and g(π/2) being deﬁned something forcibly)? Integral of such functions are called improper integrals and will be discussed later. For now you can just keep in mind that they are deﬁned using limits, e.g., ∫ 1 0 log x dx def = lim a→0+ ∫ 1 a log x dx. Question 4. If f is continuous on [a, b] except only at 10 10 many points, will f be necessarily integrable? Question 5. Is it possible to have a function f which is integrable but discontinuous at inﬁnitely many points? If you know the distinction between countably inﬁnite and uncountably inﬁnite, try to answer the following question. Question 6. If we change the value of f at countably many points, will it have any inﬂuence on the integrability of f ? 6 A ditya Ghosh 2 Some basic properties Result 2.1. If f, g are integrable on [a, b] then ∫ b a (f + g) = ∫ b a f + ∫ b a g. Proof. As we mentioned earlier, there is a result which says that f + g is integrable if f, g are integrable. Hence we can use Theorem 1.1 to get ∫ b a (f + g) = lim n→∞ hn n∑ k=1 (f (a + khn) + g (a + khn)) ( where hn = b − a n ) = lim n→∞ hn n∑ k=1 f (a + khn) + lim n→∞ hn n∑ k=1 g (a + khn) = ∫ b a f + ∫ b a g where in the last step we used Theorem 1.1 again. □ In a similar manner we can prove the following results using Theorem 1.1 (and the reader is strongly encouraged to write their proofs, before proceeding further). Result 2.2. Let f, g be integrable on [a, b]. Then, ∫ b a (αf + βg) = α ∫ b a f + β ∫ b a g, for any constants α, β. Result 2.3. Let f be integrable on [a, b]. Then, \f \f \f \f ∫ b a f (x)dx\f \f \f \f ≤ ∫ b a |f (x)| dx. Result 2.4. If f is integrable on [a, b] and f (x) ≥ 0 for all x ∈ [a, b] then ∫ b a f (x)dx ≥ 0. However, the proof of the following result involves U (P, f ) and L(P, f ), so we skip its proof for now. Result 2.5. Suppose that f is integrable on [a, c] and on [c, b]. Then f must be integrable on [a, b] and ∫ b a f (x)dx = ∫ c a f (x)dx + ∫ b c f (x)dx. Answers to the Questions 1 through 7 1. No. Take, for instance, the Dirichlet function (in Example 1.2). 2. Yes, by applying Result 1.5, because g(x) = |x| is continuous everywhere. 7 A ditya Ghosh 3. Yes, by applying Result 1.5, because we can write f g = ((f + g) 2 − (f − g) 2)/4, max{f, g} = (f + g + |f − g|)/2 and min{f, g} = (f + g − |f − g|)/2. 4. Yes, by repeated application of Remark 1.1. 5. Yes, it is possible. Take f (x) = 1 if x = 1/n for some n ∈ N, and f (x) = 0 otherwise. You may use the U (P, f ) − L(P, f ) < ε approach to show that f is integrable. It can also be shown that ∫ 1 0 f (x)dx = 0. 6. If f is integrable and g is obtained from f by changing f at countably many points, then g need not be integrable. E.g., take g to be the Dirichlet function and f (x) = 1 for all x. 7. No, because we may start with f ≡ 0 and change its value at just one point. For instance, take f (x) = 0 if x ̸= 1 and f (1) = 2. Then, ∫ 2 0 f (x)dx = 0, but f is not identically zero. 3 Some problems Problem 3.1. (MVT for integrals) Let f be continuous and g be integrable on [a, b] and assume that g is positive. Show that there exists c ∈ [a, b] such that ∫ b a f (x)g(x)dx = f (c) ∫ b a g(x)dx. Solution. Since f is continuous on [a, b], we know that f attains a minimum and a maximum on [a, b], say f (m) ≤ f (x) ≤ f (d) for every x ∈ [a, b]. Since g is positive, we have f (m)g(x) ≤ f (x)g(x) ≤ f (d)g(x), for every x ∈ [a, b], and hence f (m) ∫ b a g(x)dx ≤ ∫ b a f (x)g(x)dx ≤ f (d) ∫ b a g(x)dx Now the conclusion follows from the intermediate value property of f. □ Question 7. Suppose that f is integrable and non-negative on [a, b]. If ∫ b a f (x)dx = 0, is it necessary that f must be identically zero on [a, b]? As you might have guessed, the answer to the above question is in the negative (try to ﬁnd a counter-example then). However, if we impose an additional assumption that f must be continuous, then the following result holds. Problem 3.2. Let f be continuous and non-negative on [a, b]. If ∫ b a f (x)dx = 0, then show that f must be identically zero on [a, b]. 8 A ditya Ghosh Intuition says that if f is strictly positive at some point, then there will be a part of the curve y = f (x) that lies strictly above the x-axis, which implies that the area under the curve can not be zero. Let us now try to write a rigorous proof, with the help of ε and δ. Solution. Let, if possible, there be a point c ∈ (a, b) such that f (c) > 0. By continuity, for ε = f (c)/2, there exists a δ > 0 such that |f (x) − f (c)| < ε for every |x − c| < δ. Note that |f (x) − f (c)| < ε =⇒ ε > |f (x) − f (c)| > |f (c)| − |f (x)| =⇒ f (x) > f (c)/2. Since f ≥ 0 on [a, b], we have ∫ b a f = ∫ c−δ a f + ∫ c+δ c−δ f + ∫ b c+δ f ≥ ∫ c+δ c−δ f (x)dx ≥ ∫ c+δ c−δ f (c) 2 dx = f (c) · δ > 0 which violates the given condition that ∫ b a f = 0. Therefore, for ∫ b a f (x)dx to be 0, we need f (x) = 0 for all x ∈ (a, b). Finally, the continuity of f ensures that f (a) = 0 = f (b). □ Problem 3.3. Suppose that f : R → R is continuous and satisﬁes ∫ 1 0 f (x)(1 − f (x))dx = 1 4. What can you say about f ? Solution. First note that ∫ 1 0 f (x)(1 − f (x))dx = 1 4 ⇐⇒ ∫ 1 0 (f (x) − 1/2) 2dx = 0. Since the function g(x) = (f (x) − 1/2) 2 is continuous and non-negative, this implies that g(x) = 0, i.e., f (x) = 1/2 for every x ∈ [0, 1]. However, having no information on f outside the interval [0, 1], we are unable to conclude anything about f beyond [0, 1]. □ Problem 3.4 (Cauchy-Schwarz inequality). Let f, g be integrable on [a, b]. Prove that ( ∫ b a f (x)2dx)( ∫ b a g(x) 2dx ) ≥ ( ∫ b a f (x)g(x)dx)2 Furthermore, if f, g are continuous, then equality holds if and only if f (x) = λg(x) for some constant λ and for all x ∈ [a, b]. One way to prove this is to use Theorem 1.1, which I encourage you to write down. This proof, however, fails to provide a justiﬁcation for the equality case here. So we shall give another proof below, which essentially mimics the proof of C-S inequality for real numbers. 9 A ditya Ghosh Solution. For t ∈ R deﬁne h(t) = ∫ b a (f (x) − tg(x)) 2dx = At 2 − 2Bt + C, where A = ∫ b a g(x)2dx, B = ∫ b a f (x)g(x)dx, C = ∫ b a f (x)2dx. Now, h(t) is a quadratic in t, which is always non-negative, with leading coeﬃcient A > 0 (the case A = 0 is trivial, in view of the Result 3.2). Hence3 it follows that the discriminant 4B2 − 4AC must be non-positive, i.e., B2 ≤ AC. This is precisely the C-S inequality that we wanted to show. For equality to hold, we must have discriminant equal to zero, which says that the function h(t) has a real root, say t = λ. After a little algebra, this is seen to be same as saying that h(λ) = ∫ b a (f (x) − λg(x)) 2dx = 0. Since the function (f (x) − λg(x)) 2 is continuous and non-negative, Result 3.2 implies that f (x) − λg(x) must be identically zero on [a, b]. □ 3We can express h(t) = At2 − 2Bt + C as h(t) = (At − B)2 A − 4B2 − 4AC 4A . So, the minimum value of h(t) is the negative of its discriminant, divided by 4A. That minimum value has to be non- negative here, and since A > 0, its numerator must be non-negative too. Hence the discriminant must be non-positive. 10 A ditya Ghosh Exercise 1 on Integration 1. Deﬁne f (x) = ∫ 1 0 |t − x|t dt, for x ∈ R. Sketch the graph of f (x). What is the minimum value of f (x)? 2. For any positive integer n, let C(n) denote the number of points which have integer coor- dinates and lie inside the circle x2 + y2 = n 2. Show that the limit lim n→∞ C(n) n2 exists and also evaluate this limit. Can you explain the result intuitively? 3. Let f, g be polynomials of degree n such that ∫ 1 0 xkf (x)dx = ∫ 1 0 xkg(x)dx holds for each k = 0, 1, . . . , n. Show that f = g. 4. Let f, g be continuous and positive functions deﬁned on [0, 1] satisfying ∫ 1 0 f (x)dx = ∫ 1 0 g(x)dx. Deﬁne yn = ∫ 1 0 (f (x)) n+1 (g(x))n dx, for every integer n ≥ 0. Show that {yn}n≥0 is an increasing sequence. 5. Suppose that f is integrable on [a, b]. Deﬁne F (x) = ∫ x a f (t)dt, for a ≤ x ≤ b. Then, (i) F is continuous on [a, b], and (ii) if f is continuous at c ∈ [a, b], then F will be diﬀerentiable at c, with F ′(c) = f (c). 6. If f is diﬀerentiable on [a, b] such that f ′ is continuous on [a, b], then ∫ b a f ′(x)dx = f (b) − f (a). 7. If f is continuous on [a, b], show that ∫ b a f (t)dt = f (c)(b − a) must hold for some c ∈ (a, b). 8. Let f : [0, 1] → R be a continuous function such that ∫ 1 0 f (x)dx = 1. Show that there exists a point c ∈ (0, 1) such that f (c) = 3c2. 9. Prove the inequalities: π2 9 ≤ ∫ π/2 π/6 x sin x dx ≤ 2π2 9 . 11 A ditya Ghosh Solutions to Exercise 1 1. Let f (x) = ∫ 1 0 |t − x|t dt, deﬁned for x ∈ R. Sketch the graph of f (x). What is the minimum value of f (x)? Solution. Note that for 0 ≤ x ≤ 1, we have f (x) = ∫ 1 0 |t − x|t dt = ∫ x 0 (x − t)t dt + ∫ 1 x (t − x)t dt = x3 3 − x 2 + 1 3. For x < 0, f (x) = ∫ 1 0 |t − x|t dt = ∫ 1 0 (t − x)t dt = t 3 3 − x t 2 2 \f \f \f1 0 = 1 3 − x 2 . Finally, for x > 1, f (x) = ∫ 1 0 |t − x|t dt = ∫ 1 0 (x − t)t dt = xt 2 2 − t 3 3 \f \f \f1 0 = x 2 − 1 3. It is quite easy to draw the graph of this function f (x), because for x ∈ [0, 1] it is just a cubic polynomial and for both x ≤ 0 and x ≥ 1 it is a straight line. The minimum value can be determined by diﬀerentiating f . It turns out that f attains its global minimum at x = 1/ √2, and the minimum value is 1 3(1 − 1√2). □ 2. For any positive integer n, let C(n) denote the number of points which have integer coor- dinates and lie inside the circle x2 + y2 = n 2. Show that the limit lim n→∞ C(n) n2 exists and also evaluate this limit. Can you explain the result intuitively? Solution. By symmetry, it is enough to ﬁnd the number of lattice points (points having integer coordinates) in the ﬁrst quadrant. This can be calculated by ﬁrst ﬁxing the x- coordinate to be k and then summing up for k = 1, 2, . . . , n. Note that # {(x, y) : x = k, y ∈ Z, y ≥ 0 and x2 + y2 ≤ n2} = ⌊√ n2 − k2⌋. 12 A ditya Ghosh Hence, C(n) = 4 n∑ k=1⌊√n2 − k2⌋ + 1 where the last +1 is for the origin (0, 0). Next, in order to calculate the limit of C(n)/n 2 as n → ∞, observe that it is enough to calculate the limit of n−2 ∑n k=1⌊√ n2 − k2⌋ and we can handle the ﬂoor function using sandwich principle.The inequality x − 1 ≤ ⌊x⌋ ≤ x produces the following bounds 1 n2 ( n∑ k=1 √n2 − k2 − n ) ≤ 1 n2 n∑ k=1⌊√n2 − k2⌋ ≤ 1 n2 ( n∑ k=1 √n2 − k2) . Observe that lim n→∞ 1 n2 ( n∑ k=1 √n2 − k2 − n ) = lim n→∞ 1 n2 n∑ k=1 √ n2 − k2 = ∫ 1 0 √1 − x2 dx. This integral calculates the area of one quarter of the unit circle, hence equals π/4. (Al- ternately, you can use integration by parts.) Finally, applying the Sandwich theorem we conclude that lim n→∞ C(n) n2 = lim n→∞ 4 n2 n∑ k=1⌊√n2 − k2⌋ = 4 × π 4 = π. This is intuitive, because the area of the circle x2 + y2 ≤ n2 being πn 2 (square units), it should include approximately πn 2 many unit squares. The above limit makes this idea precise. 3. Let f, g be polynomials of degree n such that ∫ 1 0 xkf (x)dx = ∫ 1 0 xkg(x)dx holds for each k = 0, 1, . . . , n. Show that f = g. Solution. Since h(x) = f (x) − g(x) is a polynomial of degree less than or equal to n, and h satisﬁes ∫ 1 0 xkh(x)dx = 0 for each k = 0, 1, . . . , n, we can easily deduce that ∫ 1 0 h(x) 2dx = 0. But h(x) 2 is a non-negative and continuous function, so the above equation can hold if and only if h is identically zero on [0, 1]. Therefore, f (x) = g(x) for every x ∈ [0, 1]. Since f and g are polynomials, this is enough to conclude that f = g. □ 13 A ditya Ghosh 4. Let f, g be continuous and positive functions deﬁned on [0, 1] satisfying ∫ 1 0 f (x)dx = ∫ 1 0 g(x)dx. Deﬁne yn = ∫ 1 0 (f (x)) n+1 (g(x))n dx, for every integer n ≥ 0. Show that {yn}n≥0 is an increasing sequence. Solution. To start with, note that y0 = ∫ 1 0 f = ∫ 1 0 g, and y1 = ∫ 1 0 f 2/g. How to show y0 ≤ y1? Well, the Cauchy-Schwarz inequality gives (∫ 1 0 f 2 g ) (∫ 1 0 g) ≥ (∫ 1 0 f )2 =⇒ y1y0 ≥ y2 0 =⇒ y1 ≥ y0. Let’s proceed by strong induction. Suppose that yk ≤ yk+1 holds for all k ≤ n − 1. How can we show that yn ≤ yn+1. Cauchy-Schwarz inequality gives (∫ 1 0 f n+2 gn+1 ) (∫ 1 0 f n gn−1 ) ≥ (∫ 1 0 f n+1 gn )2 which tells us that yn+1yn−1 ≥ y2 n. Hence yn+1/yn ≥ yn/yn−1 and yn/yn−1 ≥ 1 holds by induction hypothesis. This completes the induction and hence the proof. □ 5. Suppose that f is integrable on [a, b]. Deﬁne F (x) = ∫ x a f (t) dt, for a ≤ x ≤ b. Then, (i) F is continuous on [a, b], and (ii) if f is continuous at c ∈ [a, b], then F will be diﬀerentiable at c, with F ′(c) = f (c). Solution. To be discussed in the next class. ⊠ 6. If f is diﬀerentiable on [a, b] such that f ′ is continuous on [a, b], then ∫ b a f ′(x) dx = f (b) − f (a). Solution. Deﬁne F (x) = ∫ x a f ′(t) dt for t ∈ [a, b]. Then by the previous exercise, we can say that F is diﬀerentiable on [a, b], with F ′(t) = f ′(t) for every t ∈ [a, b]. In other words, the function g = F − f will be a diﬀerentiable function having derivative equal to 0 on entire [a, b], which implies that g must be a constant function (this may be justiﬁed using MVT). Thus, F (x) − f (x) = c for every x ∈ [a, b]. Putting x = a, and using F (a) = 0 (from its deﬁnition), we get that c = −f (a). Therefore, ∫ b a f ′(t) dt = F (b) = f (b) + c = f (b) − f (a), which completes the proof. □ 14 A ditya Ghosh 7. If f is continuous on [a, b], show that ∫ b a f (t) dt = f (c)(b − a) must hold for some c ∈ (a, b). Solution. Easy. Just apply Rolle’s theorem or the Mean Value Theorem on the function F (x) = ∫ x a f (t)dt, x ∈ [a, b] which is diﬀerentiable here since f is continuous. □ 8. Let f : [0, 1] → R be a continuous function such that ∫ 1 0 f (x) dx = 1. Show that there exists a point c ∈ (0, 1) such that f (c) = 3c2. Solution. Deﬁne g(x) = ∫ x 0 f (t) dt − x3, x ∈ [0, 1]. Note that g(1) = g(0) = 0, and invoking the FTC we can say that g is continuous on [0, 1] and diﬀerentiable on (0, 1). Hence we can apply Rolle’s theorem on g, which gives the desired conclusion. □ 9. Prove the following inequalities: π2 9 ≤ ∫ π/2 π/6 x sin xdx ≤ 2π2 9 . Solution. Using the fact that f (x) = sin x being an increasing function on [0, π/2], for π/6 < x < π/2 we have 1/2 < sin x < 1. Hence ∫ π/2 π/6 x 1 dx ≤ ∫ π/2 π/6 x sin xdx ≤ ∫ π/2 π/6 x 1/2dx. Observing that ∫ π/2 π/6 xdx = π2 9 , we are done! □ 15 A ditya Ghosh Integration : Theory and Problems (Day 2) Aditya Ghosh 1 Connection with derivatives It would not be much of an overstatement if we say that derivatives and integrals are the two main pillars of the whole of Calculus. Derivatives represent the rate of change of a function and integrals represent the area under the curves. In this section we shall try to ﬁnd the connection between these two seemingly diﬀerent concepts. Suppose that f is diﬀerentiable on [a, b]. Let us take a partition of [a, b], say P = {a = x0 < x1 < · · · < xn−1 < xn = b}. Observe that we can write f (b) − f (a) = n∑ i=1 (f (xi) − f (xi−1)) = n∑ i=1 f (xi) − f (xi−1) xi − xi−1 · (xi − xi−1). (4) Now Lagrange’s Mean Value Theorem tells us that for each sub-interval [xi−1, xi], there exists ti ∈ (xi−1, xi) such that f (xi) − f (xi−1) xi − xi−1 = f ′(ti). Therefore we can write from (4) that n∑ i=1 f ′(ti) · (xi − xi−1) = f (b) − f (a). If we now assume that f ′ is integrable, then making the partition ﬁner and ﬁner makes the above LHS closer and closer to ∫ b a f ′(x)dx. In fact, Theorem 1.1 applies here and tells us that the LHS converge to ∫ b a f ′(x)dx if the maximum length of any sub-interval for P goes to zero. Hence we have the following theorem. Theorem 1.1 (FTC-integral of a derivative). If f is diﬀerentiable on [a, b] such that f ′ is integrable on [a, b], then ∫ b a f ′(x)dx = f (b) − f (a). The above theorem is known as a Fundamental Theorem of Calculus. It tells us what will be the integral of a derivative. There is one more fundamental theorem (given below) which 16 A ditya Ghosh tells us what will be the derivative of an integral. The importance of the above theorem lies in the fact that it allows us to calculate the integral of a function g provided we have another function f such that f ′ = g. Such a function f is called an anti-derivative of g. Why ‘an’ ? Because it is not unique: if f (x) is an anti- derivative of g(x), then so is f (x) + c, for any constant c. Does integrable functions always have anti-derivatives? In general the answer is ‘No’ (we’ll see such examples). However, if we impose continuity, then we get a positive answer, as given in the following theorem. Theorem 1.2 (FTC-derivative of an integral). Suppose that f is integrable on [a, b]. Deﬁne F (x) = ∫ x a f (t)dt, for a ≤ x ≤ b. Then, (i) F is continuous on [a, b], and (ii) if f is continuous at c ∈ [a, b], then F will be diﬀerentiable at c, with F ′(c) = f (c). Before proving this theorem, let us understand the what it really says and why that should be true. The theorem says that if we ‘slide’ x from a to b, the (signed) area ∫ x a f (t)dt changes continuously (as a function of x) and if f is continuous at c, then the rate of this change in area (at c) is same as value of f at that point 4. However, it might not be very clear why the rate of the change in area is same as the value of f at that point. For this, consider the diagram on the right. If we take h small enough, then the change in area from x to x + h, which is F (x + h) − F (x), can be very well approximated by the area of the rectangle that has height f (x) and width h. Hence, the rate of change in area is approx- imately f (x). We shall next prove (rigorously) that as h → 0, this rate of change converges to f (x), which is exactly what the theorem tells us. Proof of Theorem 1.2. Since integrals are deﬁned for bounded functions only, let us take M > 0 such that |f (x)| < M holds for all x ∈ [a, b]. Then, for any x ∈ [a, b] and h > 0 (such that x + h ∈ [a, b] as well) we have |F (x + h) − F (x)| = \f \f \f \f ∫ x+h x f (t)dt \f \f \f \f ≤ ∫ x+h x |f (t)| dt ≤ ∫ x+h x M dt = M h. 4An animation is given here: https://www.desmos.com/calculator/7994k6zj6c. In this animation, there is a slider that changes the value of c (from a to b) and you can see how the area from a to c changes (continuously). 17 A ditya Ghosh Similarly, for h < 0, we have |F (x + h) − F (x)| ≤ ∫ x x+h M dt = M (−h). Combining these, we may write |F (x+h)−F (x)| ≤ M |h|, which implies that F is (uniformly5) continuous on [a, b]. To prove the other part, let f be continuous at c. Observe that for h > 0, \f \f \f \fF (c + h) − F (c) h − f (c)\f \f \f \f = \f \f \f \f 1 h ∫ c+h c f (t)dt − hf (c)\f \f \f \f = 1 h \f \f \f \f ∫ c+h c (f (t) − f (c))dt \f \f \f \f ≤ 1 h ∫ c+h c |f (t) − f (c)|dt. Now, since f is continuous at c, so for any ε > 0 there exists δ > 0 such that |f (t) − f (c)| ≤ ε holds for every t ∈ [a, b] such that |t − c| ≤ δ. Hence, if we take 0 < h < δ, then we have \f \f \f \f F (c + h) − F (c) h − f (c) \f \f \f \f ≤ 1 h ∫ c+h c |f (t) − f (c)|dt ≤ ε h ∫ c+h c dt = ε. Similar result holds for h < 0. Combining them, we can say that for every ε > 0 there exists δ > 0 such that \f \f \f \f F (c + h) − F (c) h − f (c)\f \f \f \f < ε holds for 0 < |h| < δ. Therefore, from the deﬁnition of derivative, we conclude that F ′(c) = f (c). □ When I ﬁrst learned the above two theorems (Theorems 1.1 and 1.2), I had the following thought: If f is continuous and I want to ﬁnd ∫ b a f (x)dx, then Theorem 1.1 says that I need an anti-derivative F of f, and Theorem 1.2 provides one such anti-derivative. So in this manner, I can ﬁnd ∫ b a f (x)dx for any continuous function f ! Unfortunately, this is a very stupid idea. To see why, take any continuous f, say f (x) = x2. Then, note that the anti-derivative of f (x) = x2 provided by Theorem 1.2 is F (x) = ∫ x 0 tdt 5Here uniform means the δ depends only upon ε, not on x. See the note on uniform continuity here. 18 A ditya Ghosh and then Theorem 1.1 would help us calculate the integral as ∫ 2 1 xdx = F (2) − F (1). But how to get the values of F (2) and F (1)? The way F is deﬁned, we have to calculate an integral which is essentially same as the original one – we are back to square one! Thus, although Theorem 1.2 guarantees the existence of an anti-derivative of any contin- uous function, it does not provide us a way to calculate it. And without an anti-derivative how can we ﬁnd the integral using Theorem 1.1! This is why students are ﬁrst taught how to guess an anti-derivative, under the name of ‘indeﬁnite integration’. All the chapters on indeﬁnite integration actually teach us how to cleverly guess an anti-derivative for a given function. For example, we learn that an anti- derivative of x is x2/2, and we write ∫ xdx = x2/2 + c, to mean that a function F is an anti-derivative of f (x) = x if and only if F (x) = x2/2 + c for some constant c. The notation ∫ x dx is simply a placeholder for ‘an anti-derivative of f (x) = x’, it does not directly relate to an area in any way. From a computational perspective, ﬁnding an anti-derivative for a given function g is not easy (at least not as easy as ﬁnding the derivative of a function). That is why we develop diﬀerent ways to guess anti-derivatives, e.g., substitution, integration by parts, reduction formulae etc. I assume that the reader has already seen a fair amount of indeﬁnite integration (or, will see them in due course of time), here we shall mainly focus on the theory of (deﬁnite) integrals that relate to area under the curves! The following examples illustrate why one must check the conditions before applying the above theorems. Example 1.1. Deﬁne f (x) = x2 sin 1 x2 if x ̸= 0 and f (0) = 0. Note that f is diﬀerentiable on [−1, 1]. For x ̸= 0, f ′(x) = 2x sin 1 x2 − 2 x cos 1 x2 and f ′(0) = 0. Yet, it is incorrect to write that ∫ 1 −1 f ′(x)dx = f (1) − f (−1) = 0. Why? Because f ′ being unbounded near x = 0, the above integral is an improper integral, so we cannot directly apply FTC here. In fact, it turns out that the above integral does not exist, 19 A ditya Ghosh even in the improper sense. To see why, let g(x) = 2 x cos (1/x 2) and note that cos(1/x 2) ≥ 1/2 for |x| < √ 3/π = a, hence ∫ a 0 2 x cos ( 1 x2 ) dx ≥ ∫ a 0 1 xdx = lim ε→0+ ∫ a ε 1 xdx = lim ε→0+(log a − log ε) = +∞. Similarly you can show that ∫ 0 −a g(x)dx = −∞. Hence ∫ a −a g(x)dx does not exist, even though it is tempting to write ∫ a −a g(x)dx = ∫ a 0 (g(t) + g(−t))dt = 0. Example 1.2. Take f (x) = ⌊x⌋, 0 ≤ x ≤ 2. This function has discontinuity only at x = 1 and x = 2, so it is integrable. Deﬁne F (x) = ∫ x 0 f (t)dt, 0 ≤ x ≤ 2. Observe that F (x) = 0 for 0 ≤ x ≤ 1 and F (x) = x − 1 for 1 ≤ x ≤ 2. Hence, F is not diﬀerentiable at x = 1. Does it contradict FTC? No, because f is not continuous at x = 1. (In fact, this function f cannot have an anti-derivative. Because, if there were any function F such that F ′ = f, then f must have the Intermediate Value Property (derivatives always have IVP). But our f does not have IVP.) Question 8. In Example 1, f is diﬀerentiable but the derivative is not integrable, while in Example 2, f is integrable but the integral is not diﬀerentiable. Now, if f is integrable on [a, b] and the integral from a to x is diﬀerentiable w.r.t. x, is it necessary that F ′ equals f ? The answer to the above question is again in the negative, as shown by the following example. Example 1.3. Consider f : [0, 2] → R as f (x) = x for x ̸= 1, and set f (1) = 2. Deﬁne F (x) = ∫ x 0 f (t)dt, 0 ≤ x ≤ 2. Clearly, F is diﬀerentiable, but F ′(1) ̸= f (1). Theorem referred from previous class: Theorem 1.3. If f is integrable on [a, b], then it holds that lim n→∞ b − a n n∑ k=1 f ( a + k · b − a n ) = ∫ b a f (x)dx. 20 A ditya Ghosh 2 Some example problems Problem 2.1. Let f : R → R be continuous. Deﬁne g(x) = ∫ x 0 (x − t)f (t)dt for every x ∈ R. Show that g′′ = f. Solution. First we write g(x) as: g(x) = x ∫ x 0 f (t) dt − ∫ x 0 tf (t) dt. Since f is continuous on R, by the fundamental theorem of calculus (FTC) we know that F (x) = ∫ x 0 f (t) dt is diﬀerentiable at each x ∈ R and F ′ = f. Also, since h(t) = tf (t) is continuous on R, by FTC we know that H(x) = ∫ x 0 tf (t) dt is diﬀerentiable at each x ∈ R and H ′(x) = h(x) = xf (x). Therefore g(x) = xF (x) − H(x) is diﬀerentiable and g′(x) = F (x) + xf (x) − xf (x) = F (x). Hence g′ is also diﬀerentiable and g′′(x) = F ′(x) = f (x). □ Problem 2.2. Let f : R → R be continuous and periodic with period T > 0. Prove that for every a ∈ R, ∫ a+T a f (x)dx = ∫ T 0 f (x)dx. Solution. Deﬁne F (x) = ∫ x 0 f (t)dt for any x ∈ R. Also, let g(a) = ∫ a+T a f (x)dx = F (a + T ) − F (a). Since f is continuous on R, by FTC, we know that F ′(x) = f (x) at every x ∈ R. Hence d dag(a) = d da(F (a + T ) − F (a)) = f (a + T ) − f (a) = 0. Hence g is a constant function, and therefore g(a) = g(0), i.e., for every a ∈ R, ∫ a+T a f (x)dx = ∫ T 0 f (x)dx which is exactly what we had to show. □ 21 A ditya Ghosh Problem 2.3. (Leibniz Rule) Let f be continuous on [a, b], and u and v be diﬀerentiable functions from [c, d] to [a, b]. Prove that, d dx ∫ v(x) u(x) f (t)dt = f (v(x))v′(x) − f (u(x))u′(x). Solution. Deﬁne F (y) = ∫ y a f (t)dt for every y ∈ [a, b]. Now for x ∈ [c, d], I(x) = ∫ v(x) u(x) f (t)dt = F (v(x)) − F (u(x)). Since f is continuous, we know that F ′ = f. Hence, by chain rule of diﬀerentiation, I ′(x) = F ′(v(x))v′(x) − F ′(u(x))u′(x) = f (v(x))v′(x) − f (u(x))u ′(x) for every x ∈ [c, d]. □ Problem 2.4. Let a0 = 0 < a1 < a2 < · · · < an be real numbers. Suppose that p(t) is a real valued polynomial of degree n such that ∫ aj+1 aj p(t) dt = 0, for each 0 ≤ j ≤ n − 1. Prove that the polynomial p(t) must have exactly n real roots. Solution. Deﬁne F (x) = ∫ x 0 p(t)dt, for any x > 0. For each 0 ≤ j ≤ n − 1, ∫ aj+1 aj p(t) dt = F (aj+1) − F (aj) = 0. Since p(t) is continuous everywhere, we have F ′(x) = p(x). By applying Rolle’s theorem on F (x), we get a root of p(x) = F ′(x) in each (aj, aj+1). □ 22 A ditya Ghosh Exercise 2 on Integration 1. (a) For each positive integer n, deﬁne a function fn on [0, 1] by fn(x) = xn. Evaluate lim n→∞ ( ∫ 1 0 fn(x)dx) and ∫ 1 0 ( lim n→∞ fn(x) )dx. (b) Repeat the above exercise with fn(x) = nxn for 0 ≤ x < 1, and fn(1) = 0. 2. Suppose that f has an anti-derivative F on an interval I, i.e. F ′(x) = f (x) holds for all x ∈ I. Let x0 ∈ I such that lim x→x0+ f (x) = a. Prove that f (x0) = a. 3. Let f be continuous on [a, b]. Suppose that ∫ c a f (x)dx = 0 holds for every a ≤ c ≤ b. Show that f must be identically zero on [a, b]. 4. Let f be continuous on R. Suppose that for some T > 0, ∫ a+T a f (x)dx = ∫ T 0 f (x)dx holds for every a ∈ R. Show that f (x + T ) = f (x) for every x ∈ R. 5. Deﬁne In = ∫ 1 0 xn √x2 + 1 dx, for every n ∈ N. Prove that, lim n→∞ nIn = 1 √2. 6. Prove the inequality: 0.4 < ∫ 1 0 xsin x+cos xdx < 0.5. 7. Find a ∈ R which maximises the value of the following integral ∫ a+1 a−1 1 1 + x8 dx. 8. Let f : [0, ∞) → R be a non-decreasing function. Then show that the following inequality holds for all x, y, z such that 0 ≤ x < y < z. (z − x) ∫ z y f (u)du ≥ (z − y) ∫ z x f (u)du. 9. Let f (u) be a continuous function and, for any real number u, let [u] denote the greatest integer less than or equal to u. Show that for any x > 1, ∫ x 1 [u]([u] + 1)f (u)du = 2 [x]∑ n=1 n ∫ x n f (u)du. 23 A ditya Ghosh Solutions to Exercise 2 1. (a) For each positive integer n, deﬁne a function fn on [0, 1] by fn(x) = xn. Evaluate lim n→∞ ( ∫ 1 0 fn(x)dx) and ∫ 1 0 ( lim n→∞ fn(x) )dx. (b) Repeat the above exercise with fn(x) = nxn for 0 ≤ x < 1, and fn(1) = 0. Solution. (a) This is really straightforward. On one hand we have lim n→∞ ( ∫ 1 0 fn(x)dx) = lim n→∞ ( ∫ 1 0 xndx) = lim n→∞ 1 n + 1 = 0, while on the other hand we have lim n→∞ fn(x) = lim n→∞ xn =    0 if 0 ≤ x < 1, 1 if x = 1. Hence ∫ 1 0 ( lim n→∞ fn(x)) dx = 0. (b) First note that lim n→∞ ( ∫ 1 0 fn(x)dx) = lim n→∞ ( ∫ 1 0 nxndx) = lim n→∞ n n + 1 = 1. Next, we show that lim n→∞ fn(x) = lim n→∞ nx n = 0, for every 0 ≤ x ≤ 1. This is trivial for x = 0 and x = 1 (since fn(1) = 0 for all n ≥ 1). For 0 < x < 1, we take the help of r = 1/x > 1, and see that 0 < nx n = n (1 + r − 1)n ≤ n ( n 2)(r − 1)2 = 2 (r − 1)2(n − 1) → 0 (as n → ∞). Therefore in this problem we have ∫ 1 0 ( lim n→∞ fn(x))dx = 0 ̸= 1 = lim n→∞ ( ∫ 1 0 fn(x)dx). 2. Suppose that f has an anti-derivative F on an interval I, i.e. F ′(x) = f (x) holds for all x ∈ I. Let x0 ∈ I such that lim x→x0+ f (x) = a. Prove that f (x0) = a. 24 A ditya Ghosh Solution. For any x > x0, we apply MVT on F to say that there exists cx ∈ (x0, x) such that F (x) − F (x0) x − x0 = F ′(cx) = f (cx). (5) Now letting x → x+ 0 , the above LHS converges to F ′(x0) = f (x0). What about the RHS? Since x0 < cx < x =⇒ cx → x+ 0 , so the RHS of (5) converges to limx→x+ 0 f (cx) = limcx→x+ 0 f (cx) = a. Hence we get the desired conclusion. □ 3. Let f be continuous on [a, b]. Suppose that ∫ c a f (x)dx = 0 holds for every a ≤ c ≤ b. Show that f must be identically zero on [a, b]. Solution. One way to attack this problem is by means of contradiction6. But a simpler way is to use FTC, as follows. Deﬁne F (x) = ∫ x a f (t)dt for x ∈ [a, b]. Since f is continuous, it holds by FTC that F is diﬀerentiable and F ′ = f on (a, b). But it is given that F is a constant function, implying that f (x) = F ′(x) = 0 for any x ∈ (a, b). Finally, continuity ensures that f must also vanish at the endpoints of [a, b]. □ 4. Let f be continuous on R. Suppose that for some T > 0, ∫ a+T a f (x)dx = ∫ T 0 f (x)dx holds for every a ∈ R. Show that f (x + T ) = f (x) for every x ∈ R. Solution. Deﬁne F (x) = ∫ x a f (t)dt for x ∈ R. Since f is continuous, it holds by FTC that F is diﬀerentiable and F ′ = f on R. Now, g(a) def = ∫ a+T a f (t)dt = F (a + T ) − F (a) is given to be a constant function (since g(a) = g(0) for every a ∈ R). Hence for every a ∈ R, we must have g′(a) = 0. But g′(a) = F ′(a + T ) − F ′(a) = f (a + T ) − f (a). So we get the desired conclusion that f (a + T ) = f (a) must hold for every a ∈ R. □ 5. Deﬁne In = ∫ 1 0 xn √x2 + 1 dx, for every n ∈ N. Prove that, lim n→∞ nIn = 1 √2. Solution. Since x2 + 1 ≥ 2x > 0, we have In = ∫ 1 0 xn √x2 + 1 dx ≤ ∫ 1 0 xn √2xdx = 1 √2(n + 1/2). Can we also give a similar lower bound so that Sandwich principle can be applied? Giving a lower bound turns out be actually easier. Note that 0 ≤ x ≤ 1 =⇒ x2 + 1 ≤ 2, 6You should try this. Write an alternate proof using ε − δ’s which ultimately gives you a contradiction. 25 A ditya Ghosh which gives the following lower bound: In = ∫ 1 0 xn √x2 + 1 dx ≥ ∫ 1 0 xn √2dx = 1 √2(n + 1) . Combining the above inequalities and invoking the sandwich principle, we conclude that lim n→∞ nIn = 1 √2. □ 6. Prove the inequality: 0.4 < ∫ 1 0 xsin x+cos xdx < 0.5. Solution. First recall that 1 < sin x + cos x < √ 2 for every x ∈ (0, π/2). Also recall that, when x ∈ (0, 1), a > b actually implies xa < x b (not its opposite). Therefore, ∀x ∈ (0, 1], x√2 < x sin x+cos x < x 1. (At x = 0 these are all equal.) Upon integration, the above inequalities produce the following: ∫ 1 0 x√2dx < ∫ 1 0 xsin x+cos xdx < ∫ 1 0 x1dx. (Do you see why strict inequality holds here?) Finally note that ∫ 1 0 x√2dx = √2 − 1 > 0.4. Thus we get the desired inequality 0.4 < ∫ 1 0 x√2dx < ∫ 1 0 xsin x+cos xdx < ∫ 1 0 x1dx = 0.5. □ 7. Find a ∈ R which maximises the value of the following integral ∫ a+1 a−1 1 1 + x8 dx. Solution. We start by deﬁning I(a) = ∫ a+1 a−1 1 1 + x8 dx. Applying the Leibniz rule, we get I ′(a) = 1 1 + (a + 1)8 − 1 1 + (a − 1)8 . Note that, I ′(a) = 0 ⇐⇒ (a + 1)8 = (a − 1) 8 ⇐⇒ a = 0. Now I ′(a) is of the form I ′(a) = c(a) · ((a − 1) 2 − (a + 1)2) = c(a) · (−4a), where c(a) is positive for any a ∈ R. Therefore, I ′(a) changes its sign only when a = 0. 26 A ditya Ghosh Furthermore, note that I ′(a) > 0 for a < 0 and I ′(a) < 0 for a > 0. Hence I(a) is maximised at a = 0. (Ans) 8. Let f : [0, ∞) → R be a non-decreasing function. Then show that the following inequality holds for all x, y, z such that 0 ≤ x < y < z. (z − x) ∫ z y f (u)du ≥ (z − y) ∫ z x f (u)du. Solution. If f had an anti-derivative, the problem would have been much easier. How? Suppose that F ′ = f. Since F ′ = f is non-decreasing, F must be convex. Also, ∫ b a f (u)du = F (b) − F (a) for any a, b ≥ 0. Hence, the given inequality simpliﬁes as follows: (z − x) ∫ z y f (u)du ≥ (z − y) ∫ z x f (u)du ⇐⇒ (z − x)(F (z) − F (y)) ≥ (z − y)(F (z) − F (x)) ⇐⇒ F (z) − F (y) z − y ≥ F (z) − F (x) z − x ⇐⇒ F (y) ≤ z − y z − xF (x) + y − x z − x F (z) (∗) Now observe that y = λx + (1 − λ)z ⇐⇒ λ = (z − y)/(z − x). So (∗) is same as saying F (λx + (1 − λ)z) ≤ λF (x) + (1 − λ)F (z) which follows from the convexity of F. Another way to ﬁnish the above solution is as follows. Observe that F (z) − F (y) z − y ≥ F (z) − F (x) z − x ⇐⇒ F (z) − F (y) z − y ≥ F (y) − F (x) y − x by simple algebraic manipulation. Now by MVT, there exists c1 ∈ (x, y) and c2 ∈ (y, z) such that F (y) − F (x) y − x = F ′(c1) = f (c1), and F (z) − F (y) z − y = F ′(c2) = f (c2). Since c1 < y < c2 and f is non-decreasing, we get f (c1) ≤ f (c2), which completes the proof. Next, let us discuss a proof that do not rely on the assumption that f has an anti-derivative. 27 A ditya Ghosh (z − x) ∫ z y f (u)du ≥ (z − y) ∫ z x f (u)du ⇐⇒ (z − x) ∫ z y f (u)du ≥ (z − y) ∫ y x f (u)du + (z − y) ∫ z y f (u)du ⇐⇒ (y − x) ∫ z y f (u)du ≥ (z − y) ∫ y x f (u)du Since f is non-decreasing, for any u ∈ (y, z) we have f (u) ≥ f (y) and for any u ∈ (x, y) we have f (u) ≤ f (y). Therefore, (y − x) ∫ z y f (u)du ≥ (y − x) ∫ z y f (y)du = (y − x)(z − y)f (y) = ∫ y x f (y)du ≥ (z − y) ∫ y x f (u)du. This completes the proof. □ 9. Let f (u) be a continuous function and, for any real number u, let [u] denote the greatest integer less than or equal to u. Show that for any x > 1, ∫ x 1 [u]([u] + 1)f (u)du = 2 [x]∑ n=1 n ∫ x n f (u)du. Solution. Let [x] = m. The LHS divided by 2 can be written as ∫ x 1 [u]([u] + 1) 2 f (u)du = m−1∑ k=1 k(k + 1) 2 ∫ k+1 k f (u)du + m(m + 1) 2 ∫ x m f (u)du. (6) On the other hand, the RHS divided by 2 can be simpliﬁed as [x]∑ n=1 n ∫ x n f (u)du = ∫ x 1 f (u)du + 2 ∫ x 2 f (u)du + · · · + m ∫ x m f (u)du (7) Now we can break each integral on the RHS of (7) as sum of ‘consecutive’ integrals, e.g., ∫ x 1 f (u)du = ∫ 2 1 f (u)du + ∫ 3 2 f (u)du + · · · + ∫ m m−1 f (u)du + ∫ x m f (u)du. In this manner, note that for any 1 ≤ k ≤ m − 1, the integral ∫ k+1 k f (u)du appears on the RHS of (7) exactly (1 + 2 + · · · + k) = k(k + 1)/2 times, while the integral ∫ x m f (ud)du 28 A ditya Ghosh appears m(m + 1)/2 times. Therefore, the RHS of (7) is same as the RHS of (6) which completes the proof. □ Alternate proof. (of the fact that the RHS of (7) and (6) are the same). [x]∑ n=1 n ∫ x n f (u)du = ∑ 1≤n≤m ∑ n≤k≤m−1 ∫ k+1 k nf (u)du + ∑ 1≤n≤m ∫ x m nf (u)du = ∑ 1≤k≤m−1 ∑ n≤k ∫ k+1 k nf (u)du + m(m + 1) 2 ∫ x m nf (u)du = ∑ 1≤k≤m−1 k(k + 1) 2 ∫ k+1 k nf (u)du + m(m + 1) 2 ∫ x m nf (u)du. Although the above proof uses less words (and more symbols), some students might ﬁnd it rather diﬃcult to understand. The key idea in this proof is the swapping of the order of summation. Think of the points {(n, k) : 1 ≤ n ≤ m, n ≤ k ≤ m − 1} which are just a bunch of lattice points arranged as a triangular array in the 2D-plane, with n varying along the x-axis and k along the y-axis. Initially we were ﬁxing each column and ﬁrst sum over the column (i.e., sum over k) and then add up these column-sums (i.e., sum over n). This should be same as ﬁrst summing over each row (i.e., ﬁrst sum over n) and then add up these row-sums (i.e., sum over k). That’s the trick! 29 A ditya Ghosh Integration : Theory and Problems (Day 3) Aditya Ghosh 1 Applications of the Fundamental Theorems of Calculus 1.1 Integrating by parts Suppose that f, g are diﬀerentiable functions, such that their derivatives are integrable on [a, b]. Since (f g) ′ = f ′g + f g′, we can write ∫ b a f (x)g′(x)dx = ∫ b a ((f (x)g(x)) ′ − f ′(x)g(x)) dx. Now applying FTC, we get ∫ b a f (x)g′(x)dx = f (x)g(x) \f \f \fx=b x=a − ∫ b a f ′(x)g(x)dx. This formula is commonly known as integrating by parts. It is particularly useful when it is diﬃcult to ﬁnd an anti-derivative of f g′, but easy to do the same for f ′g. For example, if f (x) = tan −1 x and g(x) = x, then note that it is diﬃcult to directly ﬁnd an anti-derivative of f (x)g′(x) = tan −1 x, but for f ′(x)g(x) = x 1+x2 we immediately see that 1 2 log(1 + x2) is an anti-derivative. This is the key idea behind integration by parts: we split f g′ into two parts, namely (f g) ′ and f ′g, each of which are easier to integrate. An alternate form of integration by parts is found in Indian textbooks. Suppose that g(x) is an anti-derivative of some function h(x). Note that, ∫ b a f (x)h(x)dx = ∫ b a f (x)g′(x)dx = f (x)g(x) \f \f \fx=b x=a − ∫ b a f ′(x)g(x)dx. Since g is an anti-derivative of h, we may write g(x) = ∫ h(x)dx. Then, the above equation takes the form ∫ b a f (x)h(x)dx = (f (x) ∫ h(x)dx) \f \f \f \f x=b x=a − ∫ b a ( f ′(x) ∫ h(x)dx) dx. (8) Here I emphasise on the fact that ∫ h(x)dx is just a short-hand notation for an anti-derivative of h; it does not represent any area or anything like that. This is why it will be wrong to write that ∫ b a f (x)h(x)dx = (f (x) ∫ b a h(x)dx) \f \f \f \f x=b x=a − ∫ b a ( f ′(x) ∫ b a h(x)dx) dx, 30 A ditya Ghosh even though the by parts formula for indeﬁnite integration reads ∫ f (x)h(x)dx = ( f (x) ∫ h(x)dx ) − ∫ (f ′(x) ∫ h(x)dx) dx. Remark 1.1. While calculating the indeﬁnite integral of h in (8), we need not put an arbitrary constant c, because it would get cancelled out (can you see why?). Example 1.1. Calculate ∫ 1 0 log x dx. Solution. Note that this is actually an improper integral, since log is unbounded near 0. So let us instead calculate ∫ 1 a log x dx ﬁrst, and then we will take a limit at a → 0 +. To evaluate the last integral, we integrate by parts. Set f (x) = log x and g(x) = x and write ∫ 1 a log x dx = ∫ 1 a f g′ = f (x)g(x) \f \f \f \f x=1 x=a − ∫ 1 a f ′g = x log x\f \f \f \f x=1 x=a − ∫ 1 a x 1 x dx = −a log a + a − 1. Now we can show that 7 lim a→0+ a log a = 0. Hence ∫ 1 0 log x dx = −1. □ 1.2 Substitution formula Suppose that f, g are diﬀerentiable functions such that (f ◦ g)(x) = f (g(x)) is well-deﬁned, say for x ∈ [a, b]. Then the chain rule of diﬀerentiation states that d dxf (g(x)) = f ′(g(x))g′(x). Integrating this equation from x = a to b, we obtain (using FTC) ∫ b a f ′(g(x))g′(x)dx = ∫ b a (f ◦ g)′(x)dx = f (g(b)) − f (g(a)) = ∫ g(b) g(a) f ′(u)du. This is exactly the substitution formula that you are possibly aware of, from high-school textbooks. Usually in high-school, our teachers tell the same thing in a slightly diﬀerent manner. They say the following: Substitute u = g(x), so that du = g′(x)dx. Now u = g(a) when x = a, and u = g(b) when x = b. Hence ∫ b a f ′(g(x))g′(x)dx = ∫ g(b) g(a) f ′(u)du 7e.g. by L’hˆopitals rule, or using the fact that ey ≥ y2/2 which implies a log a = −y/e y → 0 as y = − log a → ∞. 31 A ditya Ghosh While the above is suﬃcient for a ﬁrst course in Calculus, it is now a good time to learn rigorously when the above holds, and when it does not. If you are still under the impression that the above holds always, let me weaken your conﬁdence for a moment, by giving the following example. Example 1.2. Let ϕ(θ) = tan θ and f (x) = 1/(1 + x2). Observe that ∫ π 0 f (ϕ(θ))ϕ ′(θ)dθ = ∫ π 0 sec2 θ 1 + tan2 θ dθ = ∫ π 0 dθ = π. Now, if we blindly apply the substitution formula, we get ∫ π 0 f (ϕ(θ))ϕ′(θ)dθ = ∫ ϕ(π) ϕ(0) f (x)dx = ∫ 0 0 f (x)dx = 0. But this is absurd, because it yields that π = 0. Where is the mistake? You should try yourself ﬁnding out what’s wrong in the above example, I shall answer it later (in this note though). By now you should be convinced that we need to check some conditions before applying the substitution formula. The following theorem answers that, by putting minimal conditions on the function for the substitution (here, u = ϕ(t)). Theorem 1.1. Let ϕ : [a, b] → I be a diﬀerentiable function, where I ⊆ R is an interval. Suppose that ϕ ′ is integrable on [a, b]. Let f : I → R be a continuous function. Then, ∫ b a f (ϕ(t))ϕ ′(t)dt = ∫ ϕ(b) ϕ(a) f (x)dx. Proof. Choose any c ∈ I and deﬁne F (y) = ∫ y c f (x)dx, y ∈ I. Since f is continuous, we can apply FTC-I (or the Leibniz rule) which tells us that F (y) must be diﬀerentiable w.r.t. y on I, with F ′(y) = f (y). Hence, using the chain rule of diﬀerentiation, ∫ b a f (ϕ(t))ϕ ′(t)dt = ∫ b a F ′(ϕ(t))ϕ ′(t)dt = ∫ b a (F ◦ ϕ) ′(t)dt. Applying FTC-II here, we can say that ∫ b a (F ◦ ϕ)′(t)dt = F (ϕ(b)) − F (ϕ(a)) = ∫ ϕ(b) ϕ(a) f (x)dx. The last equality follows from the deﬁnition of F . □ 32 A ditya Ghosh There is another formulation of the substitution formula, where we don’t restrict f to be continuous (we just need f to be integrable); however we need pay it oﬀ by restricting ϕ to be bijective. This version is stated in the following theorem. Theorem 1.2. Let ϕ : [a, b] → I be a diﬀerentiable, bijective function, where I ⊆ R is an interval. Suppose that ϕ ′ is integrable on [a, b]. Let f : I → R be an integrable function. Then, ∫ b a f (ϕ(t))ϕ ′(t)dt = ∫ ϕ(b) ϕ(a) f (x)dx. Proof of the last theorem is not as simple as the ﬁrst one, let us skip it for now. Let us now go through some more examples. Example 1.3. Suppose we want to calculate ∫ 2 0 x cos(x2 + 1) dx. Here we make the substitu- tion u = ϕ(x) = x2 + 1. The substitution formula gives ∫ 2 0 t cos(t 2 + 1) dt = ∫ 2 0 1 2 cos(ϕ(t))ϕ ′(t) dt = 1 2 ∫ ϕ(2) ϕ(0) cos xdx = sin 5 − sin 1 2 . Note that in this example we used the substitution formula from left to right. Example 1.4. Suppose we want to calculate ∫ 1 0 √ 1 − x2 dx. As usual, we substitute x = sin θ here. So, f (x) = √1 − x2 and x = sin θ = ϕ(θ). Using the substitution formula, we get ∫ 1 0 √1 − x2 dx = ∫ ϕ(π/2) ϕ(0) f (x) dx = ∫ 1 0 f (ϕ(t))ϕ ′(t)dt = ∫ π/2 0 cos 2 u du = π 4 . The last integral is calculated using 2 cos 2 u = 1 + cos 2u. Note that in this example we used the substitution formula from right to left. Note that this example actually gives us a proof of the fact that area of a circle is πr2 where r is the radius of the circle. Using the substitution formula, we can prove the following simple results, which are fre- quently used to manipulate deﬁnite integrals. 1. ∫ b a f (x)dx = ∫ b a f (a + b − x)dx. 2. ∫ a 0 f (x)dx = ∫ a 0 f (a − x)dx. 3. ∫ 2a 0 f (x)dx = ∫ a 0 (f (x) + f (2a − x))dx. 4. ∫ a −a f (x)dx = ∫ a 0 (f (x) + f (−x))dx =    0 if f is an odd function 2 ∫ a 0 f (x)dx if f is an even function . 33 A ditya Ghosh Proofs of these formulae are straightforward and hence left as an exercise for the reader. Question 9. Can you calculate the following integral to get the WiFi password? Example 1.2 (continuing from p. 32). One reason why the substitution formula failed in this example is that ϕ(θ) = tan θ is not really a function from [0, π] to an interval I ⊆ R, because tan(π/2) is undeﬁned. If instead you ﬁrst break the integral into two parts, one from (0, π/2) and another from (π/2, π), then we have no conﬂict: π = ∫ π 0 sec 2 θ 1 + tan2 θ dθ = ∫ π 0 f (ϕ(θ))ϕ ′(θ)dθ = lim a→(π/2)− ∫ a 0 f (ϕ(θ))ϕ ′(θ)dθ + lim b→(π/2)+ ∫ π b f (ϕ(θ))ϕ ′(θ)dθ = lim a→(π/2)− ∫ ϕ(a) ϕ(0) f (u)du + lim b→(π/2)+ ∫ ϕ(π) ϕ(b) f (u)du = lim a→(π/2)− [tan −1(u) ]ϕ(a) ϕ(0) + lim b→(π/2)+ [ tan −1(u)]ϕ(π) ϕ(b) = lim a→(π/2)− tan −1(tan(a)) − lim b→(π/2)+ tan −1(tan(b)) = π/2 − (−π/2) = π. If you are still wondering exactly where did the proof fail, take F (x) = tan−1(x) so that F ′ = f, and note that following equality marked with red fails here. ∫ π 0 F ′(g(x))g′(x)dx = ∫ π 0 (F ◦ g)′(x)dx = F (g(π)) − F (g(0)) = ∫ g(π) g(0) F ′(u)du. Why does that fail? FTC does not apply here since the integrand is not even continuous at t = π/2, as (F ◦ ϕ)(t) = tan−1 tan(t) =    t if 0 ≤ t ≤ π/2 t − π if π/2 ≤ t ≤ π. Our bag of tools is now almost complete. In the next few classes we shall discuss more problems and touch upon a few other areas (e.g., improper integrals). A list of useful theorems and results is given at the end of this note. Let us end today’s class with a few problems. 34 A ditya Ghosh 2 Some example problems Problem 2.1. Determine, with proof, the value of lim n→∞ n√n!/n. Solution. Observe that lim n→∞ log ( n√n!/n ) = lim n→∞ 1 n n∑ k=1 log k n = ∫ 1 0 log x dx. We calculated this integral in the Example 1 in today’s class. Thus lim n→∞ 1 n n∑ k=1 log k n = ∫ 1 0 log x dx = −1. Finally, since x 7→ ex is continuous we conclude that the desired limit is e −1. (Ans.) Problem 2.2. Let f (x) be a continuous function, whose ﬁrst and second derivatives are continuous on [0, 2π] and f ′′(x) ≥ 0 for all x ∈ [0, 2π]. Show that ∫ 2π 0 f (x) cos x dx ≥ 0. Solution. The key idea is to integrate by parts. ∫ 2π 0 f (x) cos x dx = [f (x) ∫ cos x dx]2π 0 − ∫ 2π 0 ( f ′(x) ∫ cos x dx) dx = − ∫ 2π 0 f ′(x) sin xdx. (∗) (Integrating by parts again) = [−f ′(x) ∫ sin xdx ]2π 0 − ∫ 2π 0 [−f ′′(x) ∫ sin xdx] dx = f ′(2π) − f ′(0) − ∫ 2π 0 f ′′(x) cos xdx = ∫ 2π 0 f ′′(x)dx − ∫ 2π 0 f ′′(x) cos xdx. In the last step we could use Fundamental Theorem of Calculus since f ′′ is continuous (and hence integrable). Now observe that cos x < 1 =⇒ f ′′(x) cos x ≤ f ′′(x) =⇒ ∫ 2π 0 f ′′(x) cos x dx ≤ ∫ 2π 0 f ′′(x) dx. This gives us the desired inequality. □ 35 A ditya Ghosh Why is the continuity of f ′′ crucial in the above solution? Because otherwise we cannot use ∫ b a g′(x)dx = g(b) − g(a) with g = f ′. By blindly using the above formula one may end up into horribly wrong results, such as: ∫ 1 −1 1 x2 dx = −2. (This is wrong, since integral of a positive function cannot be negative! By the way, can you give a correct evaluation of this integral?) It turns out that here one can also give an alternate solution that does not rely upon the continuity of f ′′. We can write from (∗) that ∫ 2π 0 f (x) cos x dx = − ∫ 2π 0 f ′(x) sin xdx = − ∫ 2π π f ′(x) sin xdx − ∫ π 0 f ′(x) sin xdx. Now, substitute x = y + π in the ﬁrst integral above, to arrive at ∫ 2π 0 f (x) cos x dx = − ∫ π 0 f ′(y + π) sin(y + π) dy − ∫ π 0 f ′(x) sin x dx = ∫ π 0 f ′(x + π) sin x dx − ∫ π 0 f ′(x) sin x dx = ∫ π 0 (f ′(x + π) − f ′(x)) | {z } ≥0 since f ′′≥0 sin x| {z } also ≥0 dx ≥ 0. This completes the proof. □ Problem 2.3. Suppose that f : [0, 1] → R is a continuous function satisfying xf (y)+yf (x) ≤ 1 for every x, y ∈ [0, 1]. Show that ∫ 1 0 f (x)dx ≤ π/4. (9) Find a function satisfying the given condition for which equality is attained here. Solution. Substituting x = sin θ in the integral, and using ∫ a 0 f (x)dx = ∫ a 0 f (a − x)dx, we obtain ∫ 1 0 f (x)dx = ∫ π 2 0 f (sin θ) cos θ dθ = ∫ π 2 0 f ( sin ( π 2 − θ)) cos (π 2 − θ)dθ = ∫ π 2 0 f (cos θ) sin θ dθ. 36 A ditya Ghosh Adding up these two expressions for the same integral, 2 ∫ 1 0 f (x)dx = ∫ π 2 0 (f (sin θ) cos θ + f (cos θ) sin θ) dθ ≤ ∫ π 2 0 1dθ = π 2 which gives the desired inequality (9). For equality to hold, it is suﬃcient to have f (sin θ) cos θ + f (cos θ) sin θ = 1 which holds for f (x) = √1 − x2. How to check that this function does satisfy the given condition for all x, y ∈ [0, 1]? Well, we can apply the Cauchy-Schwarz inequality to conclude that for any 0 ≤ x, y ≤ 1, xf (y) + yf (x) = x√1 − y2 + y√1 − x2 ≤ √ (1 − y2 + y2)(x2 + 1 − x2) = 1. This completes the proof that f (x) = √ 1 − x2 is indeed a function satisfying the given con- dition for which equality is attained in (9). □ Problem 2.4. Suppose f is a diﬀerentiable function such that f (f (x)) = x holds for all x ∈ [0, 1]. Also, f (0) = 1. For any n ∈ N, ﬁnd the value of ∫ 1 0 (x − f (x)) 2ndx. Solution. Since f is one-one and continuous, it must be monotone. And f (0) = 1 implies f (1) = f (f (0)) = 0. Therefore, f is monotonically decreasing and range of f is [0, 1]. So we can apply the substitution formula, with ϕ = f ( i.e. substituting x = f (t)) and get I = ∫ 1 0 (x − f (x)) 2ndx = − ∫ f (1) f (0) (x − f (x)) 2ndx = − ∫ 1 0 ( f (t) − f (f (t)) )2nf ′(t)dt. Next, using f (f (t)) = t, we can write the last integral as ∫ 1 0 ( f (t) − t)2nf ′(t)dt. Therefore, I = ∫ 1 0 (x − f (x)) 2ndx = − ∫ 1 0 ( f (x) − x)2nf ′(x)dx. Adding up these two alternate expressions for I, we get 2I = ∫ 1 0 ( f (x) − x)2n(1 − f ′(x))dx. 37 A ditya Ghosh Since this integrand is just the derivative of (f (x) − x) 2n+1 2n + 1 , we apply FTC to obtain 2I = 1 2n + 1 (f (x) − x)2n+1 \f \f \fx=1 x=0 = 2 2n + 1 which implies that ∫ 1 0 (x − f (x)) 2ndx = 1 2n + 1 . (Ans) Problem 2.5. For n = 1, 2, 3, 4, deﬁne In = ∫ nπ 0 sin x 1 + x dx. Arrange I1, I2, I3, I4 in the increasing order. Solution. We can roughly sketch the graph of y = sin x 1 + x and using it we can guess the ordering. (The actual graph is shown in Figure 1.) Figure 1: Graph of y = sin x/(1 + x) Once we have guessed that the desired ordering is I1 > I3 > I4 > I2, it remains to show each of these inequalities one by one. First note that for any integer m, ∫ (m+1)π mπ sin x 1 + xdx = ∫ π 0 (−1) m sin y 1 + y + mπ dy. (This can be seen by substituting y = x − mπ.) Hence, I4 − I2 = ∫ 3π 2π sin x 1 + xdx + ∫ 4π 3π sin x 1 + x dx = ∫ π 0 ( sin y 1 + 2π + y − sin y 1 + 3π + y )dy > 0. In the last step, we used the fact that integral of a positive and continuous function is positive. Similarly, I3 − I1 = ∫ 3π 2π sin x 1 + x dx + ∫ 2π π sin x 1 + xdx = ∫ π 0 ( sin y 1 + 2π + y − sin y 1 + π + y ) dy < 0. Finally, I3 − I4 = − ∫ 4π 3π sin x 1 + x dx = ∫ π 0 sin y 1 + 3π + y dx > 0. 38 A ditya Ghosh Exercise 3 on Integration 1. Evaluate the following limits: (a) lim n→∞ 1 k + 2k + · · · + nk nk+1 (k ∈ N) (b) lim n→∞ 1 n n√ (n + 1)(n + 2) · · · (n + n) (c) lim n→∞ n 2 ( 1 n3 + 13 + 1 n3 + 23 + · · · + 1 2n3 ) (d) lim n→∞ 1 n log (2n n ) 2. Evaluate the following integrals: ∫ e 1/e | log x| dx, ∫ π/2 0 1 1 + tann x dx, ∫ π/4 0 sin x sin x + cos x dx, ∫ π 0 x sin x 1 + cos2 x dx. 3. Suppose f is continuous on [0, 1]. Prove that ∫ π 0 xf (sin x) dx = π ∫ π/2 0 f (sin x) dx. Hence (or otherwise) calculate ∫ π 0 x sin2n x sin 2n x + cos2n x dx. 4. Prove the following inequality ∫ π 0 \f \f \f \fsin nx x \f \f \f \f dx ≥ 2 π ( 1 + 1 2 + · · · + 1 n ) . 5. For every positive integer n, evaluate the integrals ∫ π/2 0 sin n x dx, ∫ π/2 0 cos n x dx, ∫ π/4 0 tan 2n x dx, and ∫ π/2 0 sin(2n + 1)x sin x dx. 6. For any n ∈ N, evaluate the integral ∫ 1 0 (1 − x2)ndx and hence calculate the following sum 1 1 ( n 0 ) − 1 3 ( n 1 ) + 1 5 (n 2 ) − · · · + (−1) n 1 2n + 1 (n n ). 7. Let f : [1, ∞) → R be deﬁned by f (x) = ∫ x 1 log t 1 + t dt. Find all x ∈ R that satisﬁes the equation f (x) + f (1/x) = 2. 39 A ditya Ghosh 8. Let f be continuous on R. If ∫ a −a f (x)dx = 0 holds for every a ∈ R, show that f must be an odd function. 9. Let f : R → (0, ∞) be a continuously diﬀerentiable function which satisﬁes f ′(t) ≥ √ f (t) for all t ∈ R. Show that for every x ≥ 1, √ f (x) ≥ √ f (1) + 1 2 (x − 1). 10. Let f : [1, ∞) → R be a function satisfying f (1) = 1, and f ′(x) = 1 x2 + f (x)2 for every x ≥ 1. Prove that lim x→∞ f (x) exists and this limit is less than 1 + π/4. 11. Let f (x) = x3 − 3 2 x2 + x + 1 4 . For every n ∈ N let f n denote f composed n-times, i.e., f n(x) = f ◦ f ◦ · · · ◦ f | {z } n times (x). Evaluate ∫ 1 0 f 2020(x)dx. 12. Suppose that f : [0, ∞) → R is continuous. Deﬁne an = ∫ 1 0 f (x + n)dx, for every n ≥ 0. Suppose also that lim n→∞ an = a. Find the limit lim n→∞ ∫ 1 0 f (nx)dx. 13. Let f : [a, b] → R be a continuously diﬀerentiable function. Prove that, lim n→∞ ∫ b a f (x) sin nxdx = 0. 40 A ditya Ghosh Solution to Exercise 3 1. Evaluate the following limits: (a) lim n→∞ 1 k + 2k + · · · + nk nk+1 (k ∈ N) (b) lim n→∞ 1 n n√ (n + 1)(n + 2) · · · (n + n) (c) lim n→∞ n 2 ( 1 n3 + 13 + 1 n3 + 23 + · · · + 1 2n3 ) (d) lim n→∞ 1 n log (2n n ) Solution. (a) It equals ∫ 1 0 xkdx = 1 k + 1 . (Ans) (b) Taking log, we get lim n→∞ 1 n n∑ k=1 log ( 1 + k n ) = ∫ 1 0 log(1 + x)dx = x log x − x\f \f \fx=2 x=1 = 2 log 2 − 1. So the desired limit equals exp(2 log 2 − 1) = 4/e. (Ans) (c) It equals ∫ 1 0 1 1 + x3 dx. Evaluating this is usually carried out using a partial fraction decomposition: by assuming that 1 (1 + x)(1 − x + x2) = A x + 1 + Bx + C 1 − x + x2 is an identity we solve for A, B, C, and then use standard integrals. Another way is to do some algebra and cleverly write it as 1 6 ∫ 1 0 1 x + 1 dx − 1 6 ∫ 1 0 2x − 1 x2 − x + 1 dx + 1 2 ∫ 1 0 1 x2 − x + 1 dx. Anyway, these are some very standard methods that I hope you already are (or, going to be) familiar with them. The ﬁnal answer is 1 3 log 2 + π 3 √3. (Ans) (d) Since ( 2n n ) = n∏ k=1 n + k k , the given limit equals ∫ 1 0 log ( 1 + 1 x ) dx = ∫ 2 1 log xdx − ∫ 1 0 log xdx = (2 log 2 − 1) − (−1) = log 4. (Ans) 2. Evaluate the following integrals: ∫ e 1/e | log x| dx, ∫ π/2 0 1 1 + tann x dx, ∫ π/4 0 sin x sin x + cos x dx, ∫ π 0 x sin x 1 + cos2 x dx. 41 A ditya Ghosh Solution. The ﬁrst one can be calculated as follows. ∫ e 1/e | log x| dx = ∫ 1 1/e | log x| dx + ∫ e 1 | log x| dx = ∫ 1 1/e − log x dx + ∫ e 1 log x dx = x − x log x\f \f \fx=1 x=1/e + x log x − x\f \f \fx=e x=1 = 2(1 − 1/e). (Ans) For the next one, the result ∫ a 0 f (x)dx = ∫ a 0 f (a − x)dx will help us, as follows. I = ∫ π/2 0 1 1 + tann x dx = ∫ π/2 0 1 1 + tann(π/2 − x) dx = ∫ π/2 0 tan n x 1 + tann x dx. Adding up these two expressions for I, we get 2I = ∫ π/2 0 1dx = π/2 =⇒ I = π/4. (Ans) To calculate the next one, we note that (sin x + cos x)′ = cos x − sin x. So, writing 2 sin x = (sin x + cos x) − (cos x − sin x) does the trick: ∫ π/4 0 sin x sin x + cos x dx = 1 2 ∫ π/4 0 2 sin x sin x + cos x dx = 1 2 ∫ π/4 0 1 dx − 1 2 ∫ π/4 0 (sin x + cos x) ′ sin x + cos x dx = π 8 − 1 2 [ log(sin x + cos x)]x=π/4 x=0 = π 8 − 1 4 log 2. (Ans) Let us now calculate the last one. I1 = ∫ π 0 x sin x 1 + cos2 x dx = ∫ π 0 (π − x) sin(π − x) 1 + cos2(π − x) dx = ∫ π 0 (π − x) sin x 1 + cos2 x dx Adding up these two expressions for I1 we get 2I1 = ∫ π 0 π sin x 1 + cos2 x dx = π ∫ 1 −1 1 1 + u2 du = π (tan −1(1) − tan −1(−1) ) and hence I1 = π2/4. (Ans) 3. Suppose f is continuous on [0, 1]. Prove that ∫ π 0 xf (sin x)dx = π ∫ π/2 0 f (sin x)dx. 42 A ditya Ghosh Hence (or otherwise) calculate ∫ π 0 x sin2n x sin 2n x + cos2n x dx. Solution. First we write I = ∫ π 0 xf (sin x)dx = ∫ π 0 (π − x)f (sin(π − x))dx = ∫ π 0 (π − x)f (sin x)dx and then adding up these two alternate expressions for the same integral, we get 2I = π ∫ π 0 f (sin x)dx = 2π ∫ π/2 0 f (sin x)dx where in the last step we used ∫ 2a 0 f (x)dx = ∫ a 0 (f (x) + f (2a − x))dx. □ Using the above formula/idea, we get ∫ π 0 x sin 2n x sin 2n x + cos2n x dx = π ∫ π/2 0 sin 2n x sin 2n x + cos2n x dx Now using ∫ a 0 f (x)dx = ∫ a 0 f (a − x)dx, I = ∫ π/2 0 sin 2n x sin 2n x + cos2n x dx = ∫ π/2 0 cos 2n x sin2n x + cos2n xdx = 1 2 ∫ π/2 0 dx = π 4 . Therefore, the desired integral equals π2/4. (Ans) 4. Prove the following inequality ∫ π 0 \f \f \f \fsin nx x \f \f \f \f dx ≥ 2 π ( 1 + 1 2 + · · · + 1 n ) . Solution. First we substitute y = nx to write ∫ π 0 \f \f \f sin nx x \f \f \fdx = ∫ nπ 0 \f \f \fsin y y/n \f \f \f dy n = ∫ nπ 0 \f \f \f sin y y \f \f \fdy. Now break the integral as the sum of integrals ∫ π 0 , ∫ 2π π , etc. as follows. 43 A ditya Ghosh ∫ nπ 0 \f \f \fsin y y \f \f \fdy = n∑ k=1 ∫ kπ (k−1)π | sin y| y dy ≥ n∑ k=1 ∫ kπ (k−1)π | sin y| kπ dy (since (k − 1)π < y < kπ =⇒ 1/y > 1/kπ) = n∑ k=1 1 kπ ∫ π 0 | sin y|dy = 2 π (1 + 1 2 + · · · + 1 n ) as required. □ Corollary. ∫ ∞ 0 \f \f \f \fsin y y \f \f \f \f dy = lim T →∞ ∫ T 0 \f \f \f \f sin y y \f \f \f \f dy = ∞. (Since 1 + 1/2 + 1/3 + · · · diverges.) But, it is an interesting fact that ∫ ∞ 0 sin y y dy exists (which we will show in a later class) and, in fact, it equals π/2. 5. For every positive integer n, evaluate the integrals ∫ π/2 0 sin n x dx, ∫ π/2 0 cos n x dx, ∫ π/4 0 tan 2n x dx, and ∫ π/2 0 sin(2n + 1)x sin x dx. Solution. Let me do the ﬁrst two, and leave the rest for you. For n ≥ 1, deﬁne In = ∫ π/2 0 sin n x dx = ∫ π/2 0 cos n x dx. For instance, I0 = π/2, and I1 = 1. How to calculate In for a general n? The idea is to get a recursion for In and then solve that recursion. For n > 1, we integrate by parts to get In = ∫ π/2 0 (sin x)n−1 · sin x dx = [ (sin x) n−1 ∫ sin xdx]π/2 0 − ∫ π/2 0 d dx (sin x) n−1( ∫ sin xdx )dx = [ −(sin x) n−1 cos x]π/2 0 + ∫ π/2 0 (n − 1)(sin x) n−2 cos 2 x dx = 0 + ∫ π/2 0 (n − 1)(sin x) n−2(1 − sin 2 x) dx = (n − 1)(In−2 − In). Thus, In = (n − 1)(In−2 − In), which can also be written as In = n − 1 n In−2, n ≥ 2. 44 A ditya Ghosh Now, for an even n, say n = 2k where k ≥ 1, we have I2k = 2k − 1 2k I2k−2 = 2k − 1 2k 2k − 3 2k − 2I2k−4 = · · · = 1 × 3 × · · · × (2k − 1) 2 × 4 × · · · × 2k I0. Similarly, for odd n, say n = 2k + 1 where k > 1, we have I2k+1 = 2k 2k + 1 I2k−1 = 2k 2k + 1 2k − 2 2k − 1 I2k−3 = · · · = 2 × 4 × · · · × 2k 3 × 5 × · · · × (2k + 1) I1. We can also write In =  ||| ||| (2k − 1)!! (2k)!! π 2 = ( 2k k ) π 22k+1 if n = 2k ≥ 0, (2k)!! (2k + 1)!! = 2 2k 2k + 1 (2k k )−1 if n = 2k + 1 ≥ 1. (10) These integrals (In) are commonly known as Wallis’ integrals. 6. For any n ∈ N, evaluate the integral ∫ 1 0 (1 − x2)ndx and hence calculate the following sum 1 1 ( n 0 ) − 1 3 ( n 1 ) + 1 5 (n 2 ) − · · · + (−1) n 1 2n + 1 (n n ). Solution. Using the Binomial theorem, (1 − x2) n = n∑ k=0 ( n k ) (−x2)k. Integrating both sides, and noting that the RHS being a ﬁnite summation we can pass the integral sign inside the summation, we get ∫ 1 0 (1 − x2)ndx = n∑ k=0 (n k ) ∫ 1 0 (−x2) kdx = n∑ k=0 (n k ) (−1) k 2k + 1 . Now, we can calculate the integral on the LHS directly (using by parts or by substitution) and hence get an expression for the sum on the RHS. ∫ 1 0 (1 − x2) ndx = ∫ π/2 0 (1 − sin 2 θ)n cos θ dθ = ∫ π/2 0 (cos θ)2n+1 dθ = 2 × 4 × · · · × 2k 1 × 3 × · · · × (2n + 1) where the last integral was evaluated using (10). Therefore, 1 1 (n 0 ) − 1 3 ( n 1 ) + 1 5 ( n 2 ) − · · · + (−1) n 1 2n + 1 ( n n ) = (2n)!! (2n + 1)!! . (Ans) 45 A ditya Ghosh 7. Let f : (0, ∞) → R be deﬁned by f (x) = ∫ x 1 log t 1 + t dt. Find all x ∈ R that satisﬁes the equation f (x) + f (1/x) = 2. Solution. For any x > 1, we calculate the following integral by substituting u = 1/t ∫ 1/x 1 log t 1 + t dt = ∫ x 1 log(1/u) 1 + 1/u −1 u2 du = ∫ x 1 log u 1 + u du u . Therefore, f (x) + f (1/x) = ∫ x 1 log t 1 + t dt + ∫ x 1 log t 1 + t 1 t dt = ∫ x 1 log t t dt = 1 2(log t) 2\f \f \f \f x 1 = 1 2 (log x) 2. So, f (x) + f (1/x) = 2 ⇐⇒ (log x) 2 = 4 ⇐⇒ log x = ±2 ⇐⇒ x = e2 or e−2. (Ans) 8. Let f be continuous on R. If ∫ a −a f (x)dx = 0 holds for every a ∈ R, show that f must be an odd function. Solution. Using the formula ∫ a −a f (x)dx = ∫ a 0 (f (x) + f (−x))dx, we get ∫ a 0 g(x)dx = 0 for all a ∈ R where g(x) = f (x) + f (−x). In a previous exercise we saw that this implies g ≡ 0, which here forces f to be an odd function. □ 9. Let f : R → (0, ∞) be a continuously diﬀerentiable function which satisﬁes f ′(t) ≥ √ f (t) for all t ∈ R. Show that for every x ≥ 1, √ f (x) ≥ √ f (1) + 1 2 (x − 1). Solution. The derivative of √x is 1 2x1/2−1 = 1/2 √ x. So, d dx √ f (x) = f ′(x) 2 √ f (x). Now we can proceed in many ways. One way is to say that the function g(x) = √ f (x) − 1 2x has derivative g′(x) = f ′(x) 2 √ f (x) − 1 2 ≥ 0, hence g is increasing and therefore for any x ≥ 1, we have g(x) ≥ g(1), which gives the desired inequality. □ 46 A ditya Ghosh Another way: for any t ≥ 1, we have f ′(t) 2 √ f (t) ≥ 1 2 which implies that ∫ x 1 1 2 dt ≤ ∫ x 1 f ′(t) 2 √ f (t)dt = ∫ x 1 (√ f (t) )′dt = √ f (x) − √f (1). which gives us the desired inequality. □ 10. Let f : [1, ∞) → R be a function satisfying f (1) = 1, and f ′(x) = 1 x2 + f (x)2 for every x ≥ 1. Prove that lim x→∞ f (x) exists and this limit is less than 1 + π/4. Solution. First note that f ′(x) > 0 so f is increasing. Hence for x ≥ 1, we can say that f (x) ≥ f (1) = 1. Therefore, f ′(x) = 1 x2 + f (x)2 ≤ 1 x2 + 1 for all x ≥ 1. (11) Now f (x) − f (1) = ∫ x 1 f ′(t)dt ≤ ∫ x 1 1 1 + t2 dt = tan −1 x − tan −1 1 < π 2 − π 4 = π 4 . Since f is increasing and bounded above, we can say that limx→∞ f (x) exists, and from the above inequalities, it is immediate that the limit should be less than or equal to π/4. But how to claim that the limit is strictly less than π/4? Showing that is quite tricky, because even if you have f (x) < g(x) for all x, taking limit as x → ∞ (or x → a) would change the < sign to a ≤ sign. Here we adopt the following approach. If f never crosses c where 1 < c < 1 + π/4 then it is trivial that lim x→∞ f (x) ≤ c < 1 + π/4. Else, f (x0) > c for some x0 > 1, then f (x) ≥ f (x0) > c for all x > x0, and hence f ′(t) = 1 t2 + f (t)2 ≤ 1 t2 + c2 , for t ≥ x0. Integrating this inequality from x0 to x and integrating (11) from 1 to x0, we obtain f (x) − f (1) ≤ ∫ x0 1 1 t2 + 1 dt + ∫ x x0 1 t2 + c2 dt 47 A ditya Ghosh for every x > x0. Letting x → ∞ here, we get lim x→∞ f (x) ≤ 1 + ∫ x0 1 1 1 + t2 dt + ∫ ∞ x0 1 t2 + c2 dt < 1 + ∫ ∞ 1 1 t2 + 1 dt = 1 + π 4 . 11. Let f (x) = x3 − 3 2 x2 + x + 1 4 . For every n ∈ N let f n denote f composed n-times, i.e., f n(x) = f ◦ f ◦ · · · ◦ f | {z } n times (x). Evaluate ∫ 1 0 f 2020(x)dx. Solution. First observe that f (x) + f (1 − x) = 1 for every x ∈ R. Then note that f (f (1 − x)) = f (1 − f (x)) = 1 − f (f (x)). In fact, you can do induction on n to show that if g be f composed with itself n times, then g also satisﬁes g(x) + g(1 − x) = 1. Hence, for any n ≥ 1, we can write I = ∫ 1 0 f n(x) dx = ∫ 1 0 f n(1 − x) dx = ∫ 1 0 (1 − f n(x)) dx and then add up these two alternate expressions for I to show that I = 1/2. (Ans) 12. Suppose that f : [0, ∞) → R is continuous. Deﬁne an = ∫ 1 0 f (x + n)dx, for every n ≥ 0. Suppose also that lim n→∞ an = a. Find the limit lim n→∞ ∫ 1 0 f (nx)dx. Solution. We observe that ∫ 1 0 f (nx)dx = 1 n ∫ n 0 f (y)dy = 1 n n−1∑ k=0 ∫ k+1 k f (y)dy = 1 n n−1∑ k=0 ∫ 1 0 f (u + k)du = 1 n n−1∑ k=0 ak. Now you have to use the following fact: if (an)n≥0 be a sequence that converges to a, then the sequence (bn)n≥1 deﬁned by bn = 1 n n−1∑ k=0 ak also converges to a. This tells us that the desired limit also equals a. (Ans) Do you recall how to prove the fact used in the above proof? We just have to write |bn − a| = \f \f \f \f 1 n n−1∑ k=0(ak − a)\f \f \f \f ≤ 1 n n−1∑ k=0 |(ak − a)| 48 A ditya Ghosh and truncate the sum at N where N is such that |ak − a| < ε/2 holds for every k ≥ N. Then we would have |bn − a| ≤ 1 n N −1∑ k=0 |(ak − a)| + 1 n n−1∑ k=N |(ak − a)| ≤ B n + n − N n ε 2 where B = ∑N −1 k=0 |ak − a|. It then follows that taking n large enough so that B/n < ε/2 also holds, one obtains |bn − a| < ε for all suﬃciently large n, which completes the proof. 13. Let f : [a, b] → R be a continuously diﬀerentiable function. Prove that, lim n→∞ ∫ b a f (x) sin(nx)dx = 0. Solution. Applying integration by parts, we get ∫ b a f (x) sin(nx)dx = [f (x) ∫ sin(nx)dx]b a − ∫ b a ( f ′(x) ∫ sin(nx)dx) dx = f (a) cos na − f (b) cos nb n − 1 n ∫ b a f ′(x) cos(nx)dx. (†) Now, since f is continuously diﬀerentiable on [a, b], we can say that f ′ is bounded on [a, b]. In other words, we can ﬁnd an M > 0 such that |f ′(x)| < M holds for every x ∈ [a, b]. So, 0 ≤ |f ′(x) cos nx| ≤ M also holds for x ∈ [a, b] and therefore we obtain from (†) that 0 ≤ \f \f \f \f ∫ b a f (x) sin(nx)dx\f \f \f \f ≤ \f \f \f \ff (a) cos na − f (b) cos nb n \f \f \f \f + \f \f \f \f 1 n ∫ b a f ′(x) cos(nx)dx\f \f \f \f ≤ |f (a) cos na| + |f (b) cos nb| n + 1 n ∫ b a |f ′(x) cos(nx)|dx ≤ |f (a)| + |f (b)| n + M (b − a) n → 0, as n → ∞. This proves that the desired limit is 0. □ 49 A ditya Ghosh Integration : Theory and Problems (Day 4) Aditya Ghosh 1. (a) For n ≥ 1 deﬁne an = 1 + 1 2 + 1 3 + · · · + 1 n − log n. Prove that lim n→∞ an exists. (b) Hence (or otherwise) show that ( 1 − 1 2 + 1 3 − 1 4 + · · · ) = log 2. Solution. We have an = 1 + 1 2 + 1 3 + · · · + 1 n − log n. When x ∈ [k, k + 1], we have 1/k > 1/x > 1/(k + 1), so 1 k = ∫ k+1 k dx k ≥ ∫ k+1 k dx x ≥ ∫ k+1 k dx k + 1 = 1 k + 1 . Hence, n−1∑ k=1 1 k ≥ n−1∑ k=1 ∫ k+1 k dx x = ∫ n 1 dx x = log n which shows that an > 1/n for each n ≥ 1. On the other hand, n−1∑ k=1 1 k + 1 ≤ n−1∑ k=1 ∫ k+1 k dx x = ∫ n 1 dx x = log n which gives an < 1 for all n ≥ 1. Thus, an is bounded (between 0 and 1). But we could 50 A ditya Ghosh not apply Sandwich to the bounds 1/n < an < 1. However, we are lucky here: an is monotonically decreasing, as seen below. an+1 − an = 1 n + 1 − (log(n + 1) − log n) = 1 n + 1 − ∫ n+1 n dx x = ∫ n+1 n ( 1 n + 1 − 1 x| {z } ≤0 )dx which shows that an+1 ≤ an for every n ≥ 1. Since an is monotonically decreasing and bounded below, we can say that limn→∞ an exists. This limit is known as Euler-Mascheroni constant (γ). It does not have any other closed form expression, nor we know whether it is irrational or not (that is still an open problem). Let us now do the second part of the problem. Consider the sequence bn = n∑ k=1 (−1)k−1 k , n ≥ 1. Note that b2n = 1 − 1 2 + 1 3 − 1 4 + · · · + 1 2n − 1 − 1 2n = 1 + 1 2 + 1 3 + 1 4 + · · · + 1 2n − 1 + 1 2n − 2 ( 1 2 + 1 4 + · · · + 1 2n ) = a2n + log(2n) − (an + log n) = a2n − an + log 2. Since limn→∞ an exists, say γ, then limn→∞(a2n − an) = γ − γ = 0. Hence we can say that lim n→∞ b2n = log 2. For b2n+1 − b2n = 1/(2n + 1) → 0, we can also see that lim n→∞ b2n+1 = log 2. This completes the argument. □ 2. Let f : R → R be a continuous function, satisfying f (x) = 1 t ∫ t 0 (f (x + y) − f (y)) dy for all x ∈ R and all t > 0. Then show that f (x) = cx for all x, where c is a constant. 51 A ditya Ghosh Solution. We ﬁx x write the given equation as tf (x) = ∫ t 0 (f (x + y) − f (y))dy. Since the integrand is continuous, we can apply FTC to diﬀerentiate both sides w.r.t. t and get f (x) = f (x + t) − f (t). Thus, we have f (x + t) = f (x) + f (t) for every x ∈ R and t > 0. Putting x = 0, we get f (0) = 0. Then putting x = −t where t > 0, we get f (0) = f (−t)+f (t) =⇒ f (−t) = −f (t) for any t > 0. Now for t < 0, say t = −s where s > 0, we can write f (x + t) = f (x − s) = f (x) − f (s) = f (x) + f (−s) = f (x) + f (t). Thus, we have now shown that f (x + t) = f (x) + f (t) for every x, t ∈ R. Now we can proceed in many ways. One way is to ﬁrst show that f (q) = qf (1) for every q ∈ Q and then use the continuity of f to conclude that f (x) = cx for all x ∈ R where c = f (1). Another way is to ﬁx a t > 0 and rewrite the given equation as tf (x) = ∫ x+t x f (y)dy − ∫ t 0 f (y)dy and use FTC to say that the above RHS is diﬀerentiable w.r.t. x and hence so is the LHS. Therefore, f is diﬀerentiable, and the equation f (x + y) = f (x) + f (y) gives, upon diﬀerentiating w.r.t. x, f ′(x + y) = f ′(x) for any y ∈ R. Thus, f ′ is a constant function on R and hence f (x) = cx + d for all x where f ′ ≡ c. Putting x = 0, we get d = 0. □ 3. Let f : (0, ∞) → R be a continuous function such that for all x ∈ (0, ∞), it holds that f (2x) = f (x). Show that the function g deﬁned by the equation g(x) = ∫ 2x x f (t) t dt for x > 0 is a constant function. Solution. Fix x0 > 0 and pick 0 < a < x0 and let F (x) = ∫ x a f (t)/t dt. Then for any x > a we have F ′(x) = f (x)/x and since g(x) = F (2x) − F (x), we get g′(x) = 2F ′(2x) − F ′(x) = 2 f (2x) 2x − f (x) x = 0. In particular, we get g′(x0) = 0. Thus g′(x0) = 0 for every x0 ∈ R and hence g must be a constant function. □ 52 A ditya Ghosh 4. Let f : R → R be a twice diﬀerentiable function. Suppose that for all x, y ∈ R, the function f satisﬁes f ′(x) − f ′(y) ≤ 3|x − y|. Show that for all x, y ∈ R we must have |f (x) − f (y) − f ′(y)(x − y)| ≤ 1.5(x − y) 2. Also ﬁnd the largest and smallest possible values of f ′′(x). Solution. First, let x > y. For any t > y, we have f ′(t) − f ′(y) ≤ 3|t − y| = 3(t − y). Integrating both sides of this inequality w.r.t. t to arrive at ∫ x y (f ′(t) − f ′(y)) dt ≤ ∫ x y 3(t − y)dt which gives f (x) − f (y) − f ′(y)(x − y) ≤ 3(x − y) 2/2. (12) Again, for any t > y, we also have f ′(y) − f ′(t) ≤ 3|y − t| = 3(t − y). Integrating both sides of this inequality w.r.t. t to arrive at ∫ x y (f ′(y) − f ′(t)) dt ≤ ∫ x y 3(t − y)dt which gives us f (y) − f (x) − f ′(y)(y − x) ≤ 3(x − y) 2/2. (13) Combining (12) and (13) we showed that for any x > y, |f (x) − f (y) − f ′(y)(y − x)| ≤ 1.5(x − y) 2. For x < y, a similar argument applies (check!). And for x = y it is trivial. Again, note that we have here |f ′(x) − f ′(y)| ≤ 3|x − y| for all x, y ∈ R, from which we can easily show that |f ′′(x)| ≤ 3 for every x ∈ R. Now we can show by means of an example that both of these extreme values (±3) can be attained: for f (x) = 3 cos x the given inequality holds, since | sin x − sin y| ≤ |x − y| for all x, y ∈ R, and we have f ′′(x) = −3 cos x whose maximum possible value is 3 and minimum possible value is −3. □ 5. Let f : [0, 1] → R be diﬀerentiable. Suppose that 0 ≤ f ′(x) ≤ 2f (x) holds for every x ∈ [0, 1] and f (0) = 0. Prove that f (x) = 0 for all x ∈ [0, 1]. Solution. Note that (e −2xf (x)) ′ = e −2x(f ′(x) − 2f (x)) ≤ 0 for every x ∈ [0, 1]. Hence g(x) = e−2xf (x) is a decreasing function. We ﬁnd out that 0 ≥ ∫ x 0 g′(t)dt = g(x) − g(0) = e −2xf (x). 53 A ditya Ghosh Thus, f (x) ≤ 0 for all x ∈ [0, 1]. But f ′(x) ≥ 0 implies that f is increasing and hence for any x ∈ [0, 1], f (x) ≥ f (0) = 0. Hence f ≡ 0. □ 6. Let f : [0, ∞) → (0, ∞) be a continuously diﬀerentiable function. Prove that it is not possible that f ′(x) ≥ (f (x)) 2 holds for all x ≥ 0. Solution. Using the given inequality we get, for any x ≥ 0, x = ∫ x 0 dt ≤ ∫ x 0 f ′(t) f (t)2 dt = 1 f (0) − 1 f (x) < 1 f (0). But x can be taken to be larger than 1/f (0), producing a contradiction. □ 7. Suppose f : R → R such that f (0) = 0, f ′(0) = 3 and f ′′(x) = f (x) for all x ∈ R. Find f (log 2019). Solution. First we multiply both sides of the given equation with f ′(x) to get f ′(x)f ′′(x) = f (x)f ′(x) and now we can integrate! Hence we get ∫ x 0 f ′(t)f ′′(t)dt = ∫ x 0 f (t)f ′(t)dt =⇒ f ′(x)2 − f ′(0) 2 = f (x)2 − f (0) 2. Using the given initial values, we get f ′(x) 2 = f (x)2 + 32, x ∈ R. This says that f ′(x) = ± √f (x)2 + 32. Is it possible that f ′(a) = −√ f (a)2 + 32 for some a ∈ R? If this happens, then from f ′(0) > 0 and f ′(a) < 0 we can say that there must exist b ∈ R such that f ′(b) = 0 which is possible iﬀ f (b) 2 = −3 2 which is not possible. Therefore, we conclude that f ′(x) = √ f (x)2 + 32, x ∈ R. Now we can integrate to ﬁnd f (x). We have, x = ∫ x 0 dt = ∫ x 0 f ′(t) √ f (t)2 + 32 dt = log (f (t) + √ f (t)2 + 32) \f \f \f \f t=x t=0 which gives f (x) + √ f (x)2 + 32 = 3ex for every x ∈ R. Hence √ f (x)2 + 32 − f (x) = 3 2 √ f (x)2 + 32 + f (x) = 3e−x and hence f (x) = 3 2(ex − e −x). Ans: 3 2 ( 2019 − 1 2019) . □ 54 A ditya Ghosh 8. Let f be a twice diﬀerentiable function satisfying f (x) + f ′′(x) = −xg(x)f ′(x) for every x ∈ R, where g(x) ≥ 0 for all x ∈ R. Show that f (x) is bounded. Solution. First we write f (x)f ′(x) + f ′(x)f ′′(x) = −xg(x)f ′(x) 2. For x > 0, the above RHS is ≤ 0, hence for any x > 0 we have ∫ x 0 f (t)f ′(t)dt + ∫ x 0 f ′(t)f ′′(t)dt ≤ 0 which gives f (x)2 ≤ f (x) 2 + f ′(x) 2 ≤ f (0) 2 + f ′(0) 2 = M 2 say, where M > 0. Hence |f (x)| ≤ M for every x > 0. For x < 0, we have −xg(x)f ′(x)2 ≥ 0 and hence 8 ∫ 0 x f (t)f ′(t)dt + ∫ 0 x f ′(t)f ′′(t)dt ≥ 0 which gives f (x)2 ≤ f (x) 2 + f ′(x) 2 ≤ f (0) 2 + f ′(0) 2 = M 2 say, where M > 0. Hence |f (x)| ≤ M for every x < 0. □ Comment. You should have noted by now that the common idea in the last few problems is to multiply both sides of the given equations with a suitable function and then just integrate it. It is indeed a simple idea that will help you again and again. 9. Suppose that f : [0, 1] → R has a continuous derivative and ∫ 1 0 f (x)dx = 0. Prove that for every α ∈ (0, 1) we have, \f \f \f \f ∫ α 0 f (x)dx \f \f \f \f ≤ 1 8 max 0≤x≤1 |f ′(x)|. Solution. Note that we can write ∫ α 0 f (x)dx = α ∫ 1 0 f (αy)dy = α ∫ 1 0 (f (αy) − f (y)) dy. (Finding out the above identity is undeniably tricky, but as we will see, it is the most crucial part of this solution.) 8for ∫ x 0 the inequality will get reversed. Recall that h ≥ 0 =⇒ ∫ b a h(t)dt ≥ 0 provided a < b. 55 A ditya Ghosh Now, for any ﬁxed y, we can apply MVT to say that f (y) − f (αy) y − αy = f ′(cy), for some cy ∈ (αy, y). We are given that f ′ is continuous on [0, 1] and hence bounded. Let M = max0≤x≤1 |f ′(x)|. Then, for any y ∈ [0, 1], we get from the above equation that |f (y) − f (αy)| = |f ′(cy)||y − αy| ≤ M (1 − α)y (14) and hence, \f \f \f \f ∫ α 0 f (x)dx\f \f \f \f = \f \f \f \fα ∫ 1 0 (f (αy) − f (y)) dy\f \f \f \f ≤ α ∫ 1 0 |f (αy) − f (y)| dy (triangle inequality for integrals) ≤ α(1 − α)M ∫ 1 0 ydy (by the upper bound (14)) ≤ 1 8 max 0≤x≤1 |f ′(x)| (by AM-GM inequality, α(1 − α) ≤ 1/4) as desired. □ 10. Let f : [0, 1] → [0, ∞) be a continuous function satisfying (f (t)) 2 ≤ 1 + 2 ∫ t 0 f (u)du for every t ∈ [0, 1]. Show that f (t) ≤ 1 + t must hold for all 0 ≤ t ≤ 1. Solution. Deﬁne a function g(t) = 1+2 ∫ t 0 f (u)du, t ∈ [0, 1]. We are given that f (t)2 ≤ g(t) and f (t) ≥ 0, so we get f (t) ≤ √ g(t). Now, by FTC, g′(t) = 2f (t) ≤ 2 √ g(t). We can now integrate: √g(x) − √g(0) = ∫ x 0 g′(t) 2 √ g(t)dt ≤ ∫ x 0 dt = x and g(0) = 1, so we get f (x) ≤ √ g(x) ≤ x + 1, which completes the proof. □ 56 A ditya Ghosh Few more problems 1. Determine, with proof, the following limit: lim x→0 1 x2 ∫ x2 0 e √1+tdt. 2. Let f be a diﬀerentiable function on [0, 1]. Show that there exists c ∈ (0, 1) such that ∫ 1 0 f (x)dx = f (0) + 1 2 f ′(c). 3. Let f : R → R be a twice diﬀerentiable function such that 1 2y ∫ x+y x−y f (t) dt = f (x) holds for every x ∈ R and y > 0. Show that there exist a, b ∈ R such that f (x) = ax + b for all x ∈ R. 4. Let f : [0, 1] → R be a continuous function that satisﬁes |f (x)| ≤ ∫ x 0 f (t)dt for every x ∈ [0, 1]. Show that f (x) = 0 for all x ∈ [0, 1]. 5. Let f be continuous on [−1, 1] and diﬀerentiable at 0. For x ̸= 0, deﬁne g(x) = f (x)−f (0) x . Find a suitable value for g(0) that makes g continuous on [−1, 1]. Then show that the following limit exists. lim r→0+ (∫ −r −1 f (x) x dx + ∫ 1 r f (x) x dx) 6. Suppose that f is decreasing and continuous on [a, b]. Show that, ∫ f (a) f (b) f −1(y)dy = af (a) − bf (b) + ∫ b a f (x)dx. 7. Let p, q be positive real numbers. Prove that ∫ 1 0 (1 − xp)1/qdx = ∫ 1 0 (1 − xq) 1/pdx. 8. Suppose that f is an increasing and continuous function, with f (0) = 0. Prove that for a, b > 0 we have the inequality ∫ a 0 f (x)dx + ∫ b 0 f −1(x)dx ≥ ab. with equality if and only if b = f (a). 57 A ditya Ghosh 9. For every integer n ≥ 0, deﬁne Pn(x) = 1 2nn! dn dxn [ (x2 − 1)n] . (With the usual convention that f (0)(x) = d0 dx0 f (x) = f (x).) Prove that, (a) Pn(x) has n distinct real roots in the interval (−1, 1). (b) ∫ 1 −1 Pm(x)Pn(x)dx = 0 if m ̸= n. (c) ∫ 1 −1(Pn(x)) 2dx = 2 2n + 1 for all n. (d) Any polynomial P (x) of degree n can be written as P (x) = c0P0(x) + c1P1(x) + · · · + cnPn(x), where ck = 2k + 1 2 ∫ 1 −1 P (x)Pk(x)dx. 10. Let f be a twice diﬀerentiable function on [−1, 1] such that f (0) = 1. Suppose f also satisﬁes f (x) ≥ 0, f ′(x) ≤ 0 and f ′′(x) ≤ f (x), for all x ≥ 0. Show that f ′(0) ≥ − √2. Extra topics Following are some topics that we can discuss in the next few classes (if not already done). 1. Improper integrals 2. L’hˆopital’s rule 3. Taylor’s theorem 4. Convexity Following are some notes from my blog on speciﬁc topics that you can read yourself: 1. Uniform Continuity 2. Several routes connecting to the number e 3. A simple proof that pi is irrational 4. Stirling’s formula for n! 58","libVersion":"0.3.1","langs":""}