{"path":"iCloudDrive/bks/Calculus/Books/Jay Cummings - Real Analysis (2019) LONG FORM.pdf","text":"Real Analysis A Long-Form Mathematics Textbook Jay Cummings 1 -- LongFormMath.com 1 2 1/2 -- . 1/3- — 1/4-- -1 / / Contents i 4 iii 117 117 121 130 134 140 43 43 45 56 60 1 1 4 8 12 19 24 28 35 65 65 66 69 85 90 94 99 102 110 Series 4.1 Sequences of Partial Sums 4.2 Series Convergence Tests . 4.3 Absolute Convergence . . 4.4 Rearrangements Exercises The Reals 1.1 Zeno’s Paradoxes 1.2 Basic Set Theory Definitions 1.3 What is a Number? 1.4 Ordered Fields 1.5 The Completeness Axiom . 1.6 Working with Sups and Infs 1.7 The Archimedean Principle Exercises 2 Cardinality 2.1 Bijections and Cardinality . . . 2.2 Counting Infinities 2.3 How Many Infinities Arc There? Exercises 3 Sequences 3.1 Basic Sequence Definitions 3.2 Bounded Sequences 3.3 Convergent Sequences 3.4 Divergent Sequences 3.5 Limit Laws 3.6 The Monotone Convergence Theorem 3.7 Subsequences 3.8 The Bolzano-Weierstrass Theorem . 3.9 The Cauchy Criterion ....................... Exercises CONTENTSiv 217 218 222 224 227 232 235 238 244 250 171 171 172 177 183 186 190 195 198 202 208 149 149 153 157 158 164 8 Integration 8.1 The Area of a Circle.............................. 8.2 Simplistic Approach.............................. 8.3 The Darboux Integral 8.4 Integrability............................................. 8.5 Integrability Criteria 8.6 Integrability of Continuous Functions . . 8.7 Integrability of Discontinuous Functions 8.8 The Measure Zero Integrability Criterion 8.9 Linearity Properties of the Integral . . • 8.10 More Properties of the Integral 8.11 The Fundamental Theorem of Calculus . 8.12 Integration Rules Exercises 6 Continuity 6.1 Approaching Continuity 6.2 Weird Examples 6.3 Functional Limits 6.4 Properties of Functional Limits . 6.5 Continuity 6.6 Topological Continuity 6.7 The Extreme Value Theorem . . 6.8 The Intermediate Value Theorem 6.9 Uniform Continuity Exercises .................................... 5 The Topology of R 5.1 Open Sets 5.2 Closed Sets 5.3 Open Covers 5.4 The Greatest Definition in Mathematics Exercises 257 . 258 . 264 . 269 . 274 . 279 . 281 . 284 . 293 . 294 297 301 306 311 7 Differentiation 7.1 Graphical Interpretations of Velocity 7.2 The Derivative 7.3 Continuity and Differentiability . . . 7.4 Differentiability Rules 7.5 Topologist’s Sine Curve Examples . . 7.6 Local Minimums and Maximums . . 7.7 The Mean Value Theorems 7.8 L'Hopital’s Rule .............................. Exercises 362 369Appendices Index 429 323 323 371 372 373 375 376 377 an Orderly Overhang A Construction of R A.l Axioms of Set Theory A.2 Constructing N . . . A.3 Constructing Z . . . A.4 Constructing Q . . . A.5 Constructing R . . . 351 353 359 B Peculiar and Pathological Examples B.l The Curious Case of the Cantor Set . . . B.2 Doubled Digits of Diametrical Degrees . . B.3 Structuring Stuff from its Shadows’ Shapes B.4 Monger’s Matterless Material B.5 Obtainable Outrageousness in B.6 A Composition Conundrum . B.7 Turning the Tables on your Teetering Troubles . . B.8 A Devilish De-Descent.......................................... B.9 A Pack of Pretty Proofs by Picture .......................... B.10 An Abundant Addition Aboundingly Ascends . . . B.ll A Smooth and Spiky Solution.................................... B.l2 Finding </> for First-Place Finishes.............................. B.l3 Peculiar and Pathological Perimeters....................... B.14 Fractal Functions Filling Foursquare Frames . . . . B.15 A Prestigious Proof of a Primal Puzzle.................... B.l6 A Topological Treatment with a Tremendous Twist B.l7 Modern Measuring’s Misfit Member.......................... B.18 Tarski’s Terrific Talents Times Two.......................... 326 331 334 342 346 349 379 381 384 386 388 391 396 398 400 404 407 408 412 414 416 419 422 424 426 9 Sequences and Series of Functions 9.1 Introduction to Pointwise Convergence .... 9.2 Continuity and Functional Convergence . . . 9.3 Other Properties with Functional Convergence 9.4 Convergence of Derivatives and Integrals . . . 9.5 Series of Functions.............................................. 9.6 Power Series............................................................ 9.7 Properties of Power Series................................. 9.8 New Power Series from Old .............................. 9.9 Taylor and Maclaurin scries.............................. 9.10 A beautiful application........................................ Exercises ............................................................... List of Results vii 101 106 107 15 15 17 18 22 24 25 26 28 30 31 33 43 47 50 53 56 57 67 81 83 85 87 90 93 95 96 97 99 1.12 Proposition (|<z| < b iff — b < a < b) 1.13 Theorem (The triangle inequality) 1.14 Corollary (The reverse triangle inequality) . ■ ■ 1.15 Corollary (Triangle inequality corollaries) . . . 1.20 Theorem (Existence and uniqueness ofW) ... 1.22 Proposition (Supreme are unique) 1.23 Theorem (Square roots exist) 1.24 Theorem (Supreme analytically) 1.26 Lemma (The Archimedean principle) 1.30 Lemma (y —x> l=>3z&Z where x < z < y) 1.31 Theorem (Q is dense in R) 1.34 Principle (Well-ordering principle) 2.1 Principle (The bijection principle) 2.8 Theorem (|Z| = |Q |) 2.9 Theorem (|R| > |N|) 2.11 Theorem (Sizes of infinity) 2.13 Theorem (|/| < |7?(/1)|) 2.14 Corollary (There exist infinitely many infinities) 3.5 Proposition (Bounded O |a„| < C) 3.19 Proposition (Limits are unique) 3.20 Proposition (Convergent => bounded) 3.21 Theorem (Sequence limit laws) 3.23 Theorem (Sequence squeeze theorem) 3.27 Theorem (The monotone convergence theorem) . . . 3.29 Proposition (Bounded S contains at, —> sup(S)) . . . 3.32 Proposition (an —> a <=> every allk -> a) 3.34 Corollary (Different subsequential limits => diverges) 3.35 Proposition (Monotone (an) has ank —> a => an —> a) 3.36 Lemma ((an) has monotone allk) 3.37 Theorem (The Bolzano-Weierstrass theorem) . . . . 3.41 Lemma (Cauchy => bounded) 3.42 Theorem (Cauchy criterion for convergence) LIST OF RESULTSviii 151 153 154 119 121 122 123 124 125 126 128 130 132 134 / or = oo) compact A => f uniformly continuous') 205 7.6 Theorem (Differentiable => continuous) 7.9 Proposition (Linearity of the derivative) 7.11 Theorem (The product rule) 7.12 Theorem (The quotient rule) 7.13 Theorem (The chain rule) 7.19 Proposition (Local maxes/mins happen where f(c) =0) ... 7.20 Theorem (Darboux’s theorem) 7.21 Theorem (Rolle’s theorem) 7.22 Theorem (The (derivative) mean value theorem) 7.23 Corollary (f(x) — 0 => f(x) = C) 4.3 Corollary (Series (limit) laws) 4.5 Proposition (k-term test) 4.8 Lemma ((r\") converges iff r G (-1,1]) 4.9 Proposition (Geometric series test) . . 4.11 Proposition (a* > 0 => converges 4.12 Proposition (Comparison test) 4.15 Proposition I diverges) 4.16 Proposition (The series p-test) .... 4.17 Proposition (Alternating series test) . 4.18 Proposition (^ |a*| converges => converges) 4.23 Theorem (Rearrangement theorem) . 225 • 227 ■ 228 ■ 229 • 230 • 235 • 237 • 239 • 241 • 242 5.3 Proposition (Open sets via arbitrary unions and finite intersections) 5.5 Theorem (Each open set = U£i(afc>M) 5.10 Theorem (Closed iff contains limit points) 5.12 Proposition (Closed sets via finite unions and arbitrary intersections) 156 5.19 Theorem (The Heine-Borel theorem) 159 5.20 Theorem (Heine-Borel, expanded) 162 183 .......................... 184 185 186 187 188 .......................... 189 open Q X) . . 192 195 196 197 198 6.11 Proposition (Functional limits are unique)............ 6.12 Theorem (lim f(x) = L iff every such f(an) -> L) . x-+c 6.14 Corollary (Func-y limit laws)................................. 6.15 Corollary (Func-y squeeze theorem)........................ 6.17 Theorem (Continuity topologically and sequentially) 6.20 Proposition (Continuity limit laws)........................ 6.24 Proposition (fig continuous => f o g is too.) .... 6.29 Theorem (f continuous <=> B open implies f~ 1(B) - 6.30 Theorem (The continuous image of a compact set is compact) . . . 6.31 Corollary (Continuous on compact set => bounded) 6.32 Theorem (The extreme value theorem) 6.36 Lemma (f continuous, f(c) > 0 => f(x) > 0 V |a: - c| < 6) 6.37 Proposition (f continuous, f(a) > 0 > f(b) => 3 c 6 (a, b), f(c) =0) 199 6.38 Theorem (The intermediate value theorem) ......................................... 200 6.40 Proposition (Continuous f on 7.24 Corollary (“Don't forget your +CI”) . . 7.25 Corollary (/' > 0 O f is increasing) . 7.26 Theorem (Cauchy mean value theorem) 7.27 Theorem (L ’Hopital’s rule) 242 243 245 245 271 273 274 278 280 281 283 286 287 294 294 296 297 298 300 302 306 307 330 332 333 337 339 340 341 . . 343 . . 344 347 . . 348 [-c,c]) . . 349 350 356 356 358 8.6 Proposition (Refinements refine) 8.7 Proposition (Lower sums < Upper sums) 8.9 Lemma (m(b — a) < L(f) < U(f) < M(b — a)) 8.13 Proposition (f > 0 => J f > 0) ................................................. 8.14 Theorem (Integrals analytically)................................................. 8.15 Corollary (f integrable =4- lim[J7(/, Pn) — L(/, Pn)] = 0) . . 8.16 Theorem (Continuous => integrable) 8.18 Porism (fa integrable for any discontinuity c) 8.19 Lemma (f integrable on [a, c] and [c, 6] <=> on [a, &]) 8.24 Theorem (f integrable <=> discontinuities have measure zero) 8.25 Proposition (fr, f = J{, f + J? f) 8.26 Proposition (Linearity of the integral) 8.28 Corollary (f < g => / f < f g) 8.29 Corollary (| f f\\ < f \\f\\) . 8.31 Proposition (The integral mean value theorem) 8.32 Theorem (The fundamental theorem of calculus) 8.34 Corollary (Integration by parts)................................................. 8.35 Corollary (w-substitution) 9.8 Proposition (fa continuous, fa —> f uniformly => f continuous) . . . 9.10 Proposition (fa bounded, fa -> f uniformly => f bounded) 9.12 Proposition (fa unif. cts., fa —> f uniformly => f unif. cts.) ............. 9.16 Proposition (fa integrable, fa-> f uniformly => f integrable) . . . . 9.17 Proposition (Uniform limit of differentiable functions) . . . 9.18 Proposition (Cauchy criterion for sequences of functions) . 9.19 Theorem (The Arzela-Ascoli theorem) 9.21 Proposition (Cauchy criterion for series of functions) . . . . 9.22 Corollary ( Weierstrass M-test).................................................. 9.26 Lemma (P.S. converges on (—xo, xq) => unif. on closed subintervals) 9.27 Theorem (P.S. converge on an interval centered at 0) . . . . 9.30 Theorem (P.S. converges absolutely at c => uniformly on 9.31 Theorem (Derivatives and integrals of P.S.) 9.38 Lemma (f equals its Taylor series <=> JSn -> 0) ................ 9.39 Theorem (Integral form of the error function)................ 9.40 Theorem (Lagrange form of the error function) I Chapter 1: The Reals Zeno’s Paradoxes1.1 Zeno’s First Paradox •> 1 How did he try to prove that motion is an illusion? He created a thought experiment. He said to imagine a race between Achilles (the Greek warrior of legend) and a tortoise (just, a regular tortoise). Suppose the race is 1,000 meters long and the tortoise is given a 100 meter head start. The gun is fired and both begin. Achilles is much faster than the tortoise, so of course you would expect him to overtake the tortoise and win the race, but Zeno said that he can prove that this is impossible. This was his reasoning: For Achilles to catch up to the tortoise, he would first have to reach the 100 meter mark, where the tortoise began the race. Nearly 2,500 years ago, Zeno of Elea wrote down a set of paradoxes to support the philosophy that change is an illusion. Specifically, one type of change is motion - the change of an object’s position. Zeno set out to show that objects do not actually move, and our senses are lying to us when we perceive motion.1 Real analysis was developed in the 17L|' century as a tool to answer some truly fundamental questions from physics, and is now applied throughout the sciences. We begin, however, long before this point, in Greece. 1... And to answer your first question, yes, Greek philosophers were believed to have experimented with psychedelic drugs. Chapter. 1: T he Reals2 -> Pl ■ > -> -> I *P2 +— P3 At this point we know that Achilles hasn’t yet caught up to the tortoise because in the time it took Achilles to reach the 100 meter mark (call this point pj), the tortoise has progressed forward some. Let’s say the tortoise has made it to the point ]>2- And now we repeat our above reasoning: Achilles is still trying to catch the tortoise, but before he can do so he will first have to reach the point p?. P2 And you see, once again, while Achilles was reaching p-> the tortoise progressed to a further point, p3. So, Zeno says, this will go on forever. Achilles will always be behind the tortoise because he is always at a point that the tortoise has already been to, and the next point he must reach will always be a place that the tortoise is currently at. But by the time he gets to that point, the tortoise will have moved on at least a little bit farther, maintaining his lead. And repeat. By induction, the most recent stage of the picture always looks essentially like this. I ______ SBu P3 P4 R eal Analysis, A Long-Form T extbook 3 Zeno’s Second Paradox First Stage Second Stage things to do, that you will 0 Third Stage In general, the arrow will always be short of its goal, and to get to the target it will first have to get halfway there, which always requires some additional amount of time. If there is always some additional amount of time remaining, it will never actually make it... right! Now, if you remember your calculus you might be able to figure out Zeno’s mistake. He was correct that the arrow must first complete the first stage, and then must complete the second stage, and then must complete the third stage, and so on. And he was correct that each stage takes some finite amount of time. And it seems to make sense that if you have to do one thing at a time, and you have infinitely many never complete all of those things... but is this correct? For the interested, Zeno had another similar paradox. Briefly, imagine an archer fires an arrow at a target. Zeno argued that the arrow will never reach the target. He said that for the arrow to reach it, it would first have to reach the halfway point, which takes some amount of time. Then, once there, there is still some distance to go and to get there it would first have to reach the point halfway between its current position and its goal, which again takes some amount of time. Then from its new position it is still not there and getting there again requires that it first gets halfway there, requiring some amount of time. We will come back to this problem in Chapter 4 (which is a chapter on series... hint hint), but the moral for now is that when things get smaller and smaller (like the time it takes Achilles to run from p, to Pi+i, for increasingly large i), weird stuff can If he can never catch up, then he will always be behind, and therefore is guaranteed to lose the race. So, what do you think? Does slow and steady win the race? It does seem paradoxical; our senses and life experiences tell us that this is obviously gibberish, but then again Zeno was a pretty smart guy, and his arguments do seem fairly logical and sound... So we have a challenge in front of us. When seemingly-good reasoning leads to a false conclusion, some part of our thinking must be wrong. In cases like this, it takes very careful thought to diagnose the issue. Zeno’s paradoxes were one of the initial motivations to study limits and develop the theory of real analysis. It will take over a hundred pages of this text before we fully understand why Zeno was mistaken, but we’ll get there. Chapter J: T he Reals4 1.2 Basic Set Theory Definitions Definition 1.1. unordered collection of distinct objects, which are called ele- • Set-builder notation looks like this: : conditions used to generate the elements}.S = {elements For example, Q Definition. / Textbook Goal. By studying the infinite, develop a ground-up understanding of the real numbers ami functions on the reals. Also, improve one’s mathematical maturity; that is. understand mathematical statements and arguments, construct proofs and find counterexamples, and appreciate the intrinsic beauty in the mathematics. happen. And it takes careful, detailed thought to avoid getting stuck in paradoxical situations. Indeed, this is essentially our goal for the book. r • A set is an merits.2 • If i is an element of a set S, we write x € S. This is read as x in S. So. that's what we are going to do. We are going to think carefully about the infinite, and as we progress through this book we will see how that careful reasoning can illustrate some pretty amazing properties of real numbers and functions. And unlike calculus where you spent most of your time studying super nice functions and intuitive situations, and very little time on weird paradoxes like the above, in analysis we will instead spend a significant amount of time on the weird situations, where our intuition may deceive us. We will build analysis from the ground-up, retraining our intuition on solid — and increasingly higher — ground. So get ready, because 1 think you will enjoy it. 2 Alternative definition: Everything. Everything is a set. Almost no definition in the world is as general as that of a set. We begin about as basic as possible — with sets. Here is a quick review of basic set theory definitions that you learned in your intro-to-proofs class. {1,4,9,16,25,...} = {n2 :n£ N}. As a second example, the rationals can be built like so. ( - :p,g e oj. I? > Real Analysis, A Long-Form Textbook 5 • The set containing no elements is called the empty set. and is denoted 0. • If x 6 B for every x € A, then A is a subset of B, which is denoted A C B. • A U B = {a; : x g A or x g B }. disjoint if A D B = 0. • The Cartesian product A x B = {(a, 6) : a g A and b g B}. • The power set of a set A is 'P(A) = {X : X C A}. • If A C U for a universal set U (typically U = R), then the complement of A in U is Ac = U \\ A. n (J Aj = Ai U A2 U • • • U A„. 2=1 n Q At = Ai nA2n---n An. i=l • If Ai, A2, A3,..., An are all sets, then the union of all of them is • A and B are • If Ai, A2, A3,..., An are all sets, then the intersection of all of them is denoted |A|. (In Chapter 2 we will investigate what “number” means when A is infinite.) 3Example #628 of why English is a confusing language: The word ‘and’ can mean either a union or4 an intersection. “Students and faculty are welcome to attend” means the union of the students and the faculty are invited. But, “If you are taking algebra and analysis this year, you’ll enjoy this lecture” refers the intersection of those taking algebra and those taking analysis. Worse still, ‘and’ can refer to quantities as well, not just to collections! ‘These three pizzas and those five make eight.” Mathematicians use symbols to avoid these ambiguities. ‘’The word ‘or’ is better. • A \\ B = {x : x & A and x £ B}. • AO B = {a: : x g A and3 x g B}. Chapter 1: The Reals6 3 {2,3,1} {apple, Joe, tt} Also, just as boxes can be empty, so can sets! {{apple, Joe, tt}, 7, ©} {0} Note the difference between the above example and three pictures back: Earlier we had the empty set; now we have a set whose one element is the empty set. Of course, the above also corresponds to {1,2,3}, {3,2,1}, and {3,1,2}; with sets, order does not matter. Also, remember that the elements do not have to be numbers. Elements of a set can be anything. © 7Joe Notice that the above set has three elements in it: (1) a set (containing three specific elements). (2) the number 7, and (3) a smiley face. Your box could also have just one thing in it: a smaller box with nothing inside it. This looks like this: Another way to think about a set is as a box, possibly with some things inside. When you look into a box, the things inside do not have any particular order; same thing with the elements of a set. Furthermore, it’s certainly possible for one box to be inside another box. Likewise, it's certainly possible for one set to be a single element inside another set. Joe 1 2 ■ R eal A nalysis, A Long-Form T extbook 7 • |A|• ^(A)• A\\B Functions on sets Now recall the following, which you also learned in your intro-to-proofs class. • A function f : A -> B is bijective if it is both injective and surjective. To test your understanding, think about what the union and intersection of two sets would look like, from this box interpretation.5 Pushing this further, if A and B are two boxes (possibly with things inside), think if you can now describe the following in terms of boxes (Exercise 1.3): • A function f : A -> B is injective (or one-to-one) if f(a) = f(b) implies that a = b. n • |J At = Aj UA2 U---UAn. i=l n • Pl Ai = Ai n a2 n • • • n An. i=l • A function f : A -> B is surjective (or onto) if, for every b G B, there exists some a G A such that f(a) = b.7 ; Definition 1.2. 5One answer: The union of two boxes A and B can be obtained by dumping everything in A and everything in B into a new box, and then removing any duplicate items. The intersection can be obtained by identifying everything in A that is also in B, and putting those items into a new box. 6To be completely precise, one can use relations to define a function f : X -> Y as a subset of the cross product X x Y . But that s enough of a pain that even in Baby Rudin that’s avoided. ?Note that using the contrapositive you can come up with equivalent definitions for injective and surjective. For the former, the contrapositive gives the (equivalent) definition that f is injective if a / h implies f(a) / f(b). For the latter, an equivalent definition is that f is surjective if there does not exist a b £ B for which f (a) / b for all a G A. • Given a pair of sets A and B, suppose that each element x G A is associated, in some way, to one element of B, which we denote /(;r). Then f is said to be a function from A to B . This is sometimes denoted : A —> B”.c o Furthermore, A is called the domain of /, and B is called the codomain of f. The set {f(x) : x G A} is called the range of f. Lastly, if Aj, A2, A3, ..., An are all boxes, think if you can now describe the following in terms of boxes (Exercise 1.4): Chapter 1: The Reals8 Miguel 1.3 What is a Number? Gottlob Frege F A surjection from {1,2,3,4} to {a, b, c} Not a surjection from {1,2,3, Miguel} to {tt, b, ©} can the Example 1.3. Here are some examples of functions on finite sets - one which is surjective, and one which is not. Integers The integers Z is the set {..., -3, -2, -1,0,1,2,3,...} where each number is 1 away from the next. The 19th century mathematician Leopold Kronecker said “God made the integers, all else is the work of man.” What do you think he meant by this? And do you agree with him? I’ve found that a class of students will have many different opinions on this question, which I think is great. ’Note that 0 is not considered a natural number.9 I will defend this to my grave. ’Theset {0.1,2,3,.} is denoted No. (Fun fact: ‘0’ was first discovered by an ancient Babylonian who asked how many of his friends wanted to talk about numbers with him.) Naturals The natural numbers N is the set {1,2,3,...}. These are the counting numbers, and if anything is a number, they certainly are.8 A sketch of how to formally, but painfully, construct all real numbers is included in Appendix A. How would you define a number? Some would say this is a philosophical question, while Appendix A demonstrates just how deep of a mathematical question this be. The German philosopher, logician, and mathematician Gottlob Frege, on other hand, believed these are one in the same. Every good mathematician is at least half a philosopher, and every good philosopher is at least half a mathematician. For now we won’t get too philosophical, but we do want to discuss how our number system is built up, and what properties are essential at each stage. 9R eal Analysis, A Long-Form T extbook Rationals The next natural set of numbers to consider is the set of rational numbers: Q := They have some nice properties: • They o o o o But they also have some problems: • It’s possible that pg Q but yet y/p 0 Q. o If we “fill in the holes,” we in fact will see that “most” numbers are not rational! o It has lots of “holes”: It’s possible that pi € Q for each i G N, but yet the sequence pi,P2,P31 • • • “converges” to some p Q. • They arc closed under addition, subtraction, multiplication and division: If p, q G Q, then p + q G Q. If p, q G Q, then p - q G Q. If p, q G Q, then p ■ q G Q. If p, q G Q, then p 4- q G Q, provided q 0. - : p, q G Z, q ± 0 > ■ <7 ) o They’re not algebraically closed: There exist polynomials with rational coeffi­ cients whose roots are not rational.\" o e.g. /(.?;) = x 2 — 5 are nested: Between any two rational numbers is another one.10 10 And hence, between any two there are infinitely many others. \"This is the one problem that the reals will only partially solve. One needs the complex numbers to have algebraic closure. 12Pythagoras’ story is cloaked in legend but fortunately the legends are all highly amusing. Aristotle wrote that Pythagoras had a golden thigh, was born with a golden wreath upon his head, and that after a deadly snake bit him, he bit the snake back, which killed it; he was supposedly the son of Apollo, and it was said that a priest of Apollo gave him a magic arrow that allowed him to fly; the philosophers Porphyry and lamblichus both reported that Pythagoras once persuaded a bull not to eat beans, and convinced a notoriously violent bear to swear that it would never harm a living thing again — and the bear was true to his word. What is odd is that none of his own writings have survived, and most of the credible writings about him were done long after his death. Some have even suggested that he was not a real person but this is certainly a minority opinion among historians. Rational numbers were studied all around the world, but the Greeks’ success is typically noted. One of the most influential of these mathematicians was Pythagoras,12 who is often credited with being the first to prove the Pythagorean theorem, which, as you know, says that if a and b are the lengths of the legs of a right triangle, and c the length of the hypotenuse, then a2 + b2 — c2. (Although, it might have been proven at the time by one of his students, and also perhaps earlier by the Babylonians.) Chapter 1: T he Reals10 1 Q 1 x/2 2k for some non-zeroThis implies1,1 that 2 | p2, and hence 2 | p. So we may write p f. Example 1.4. The number \\/2 is irrational. That is, the length of the hypotenuse of the following triangle is irrational. P q' Moreover, we may assume that this fraction is written in lowest terms, meaning that p and q have no common divisors. Then, I Proof. Assume for a contradiction that y/2 is rational. Then there must be some non-zero integers p and q where V2q = p 2q2 = p2. This theorem is significant not only for its own merits, but also because it is the key to proving that irrational numbers exist. Sadly, despite having the key, Pythagoras lived and died believing that all numbers were rational. After his death, his school of thought, called Pythagoreanism, lived on. About a century after his death, a Pythagorean named Hippasus proved what is now the classic proof of one of the classic theorems that \\/2 is irrational. As the legend goes, the other Pythagoreans were so horrified by this theorem that they took Hippasus out to sea and threw him overboard, killing him. They then made a pact to never tell the world of his discovery. This has got to be one of the worst cover-ups in history, as today his proof is probably the second most known proof in the world, only behind Euclid’s proof of the infinitude of primes. In fact, even if only to stick it to the murderous, anti-intellectual Pythagoreans one last time, let s start with Hippasus proof that \\/2 is irrational.1'1 ’ ’This is typically viewed as a classic proof by contradiction. But is it? What it means to be “irrational” is that you are “not rational.” So is this in fact a direct proof that y/2 is not rational (hence irrational)? Or is it a proof by contradiction? I’ll let you mull that one over. wBy the fundamental theorem of arithmetic. R eal A nalysis, A Long-Form T extbook 11 integer k. Plugging this in, implicit in this is that IF is closed Example 1.6. Below arc some examples and some non-examples of fields. ° The natural numbers N do not form a field; they fail the first half of Axiom 4 and both halves of Axiom 5. 15How docs that taste, Pythagoreans? Bitter? Mmmhinm. 6Note: These operations arc functions from IF x IF -> IF, so under these operations. • The integers Z almost form a field; they only fail the second half of Axiom 5: For example, given a = 2, there is no integer a~l such that 2 • a-1 = 1. (The number | is the multiplicative inverse of 2, but i is not an integer.) • One can check that the rationals Q form a field. (Run through the axioms on your own to verify this.) Therefore 2 | q2, and hence 2 | q. But this is a contradiction: We had assumed that p and q had no common factors, and yet we proved that 2 divides each. Therefore \\/2 can not be rational, meaning it is irrational.1'’ So the rationals are not quite enough. That said, they do have almost every other fundamental property we would want. To the point: They are what we call an ordered, field. But first, what’s a field? It’s a set that satisfies the classic multiplicative and additive properties we know and love. 2q2 = p2 2c/2 = (2fc)2 2c/2 = 4fc2 q2 = 2k2. ii Definition 1.5. A field is a nonempty set F, along with two binary operations16, j addition (+) and multiplication (•), satisfying the following axioms. Axiom 1 (Commutative Law). If a, b G F, then a + b = b + a and a ■ b — b ■ a. Axiom 2 (Distributive Law). If a, b, c £ F, then a ■ (b + c) = a ■ b + a • c. Axiom 3 (Associative Law). If a, b, c € F, then (a + b) + c = a + (b + c) and (a • b) ■ c = a ■ (b • c). Axiom 4 (Identity Law). There are special elements 0,1 G F, where a-f-0 = a || and a • 1 = a for all a & F. Axiom 5 (Inverse Law). For each a G F, there is an element — a G F such I that a + (—«) = 0. If a 0, then there is also an element a-1 G F such that I a ■ a~1 = I. Chapter, 1: The Reals12 1.4 Ordered Fields L. Definition. l7And for those who have studied abstract algebra, you know that the field axioms do not guarantee an infinite set. Indeed, there are many finite fields, c.g., Z/pZ where p is a prime. Definition 1.7. An ordered, field is a field F, along with the following additional axiom. Axiom 6 (Order Axiom). There is a nonempty subset P C F, called the positive elements, such that (a) If a, b e P, then a + b £ P and a • b £ P; (b) If a £ F and a / 0, then either a £ P or -a £ P, but not both. While I was a grad student, J once got an email from a student asking me about a homework question involving x, which was given to be a real number. Instead, he wrote: \"Assume that x is really a number.” Now. without meaning to, his email did suggest a good question: what really is a number? As we demonstrated in Example 1.4, if we want to include in our number system all possible lengths of triangles, or we want our system to be closed under taking square roots, or we want our system to be closed under taking limits, then the rational numbers alone do not cut it. We need more. Plug rationals into limits and roots And you won’t like what it reveals... To apply such functions, and reap their fruits, We need more... we need... The Reals! But what essential properties are we missing? What does R have that a field does not? To get warmed up, think about Q. With the definition of a field, we have almost reached the point where we have captured the essence of the rationals. Can you think of what else we need? There are three main properties that we are missing... • First, there are infinitely many rationals17 (and in some way they are “symmetric” about the 0 element). Second, the rationals have an ordering to them — not only arc the elements different from each other, but given any two different ones, one is bigger than the other. So we need to add a “<” to the mix. Lastly, we would like metric properties; that is, we would like to talk about how big a number is (how far from zero), and the distance between two numbers. Beautifully, there is a single elegant axiom that we can include to capture all of these properties, and we do it without defining any more functions or operations. And this is great: the simpler and more elegant your axiomatic system, the more general and appealing your theory is. How can we do this? The beautiful idea is to define a subset of the field which we call the positive set P, and which acts just as the positive real numbers do. R eal A nalysis, A Long-Form T extbook 13 b” if (a) If a. < b, then a + c (b) (c) If a (<1) b, then ac < be if c > 0, and ac > be if c < 0. If a 0, then a2 > 0. Why does this do the job? First, since 1 is positive18, so are 1 + 1, and 1 + 1 + 1, and 1 + 1 + 1 + 1, and so on, generating infinitely many different elements; likewise for (—1) + (—1) H------1- (-1). Second, if yon want to say that the number b is larger than the number a, it suffices to say that b - a is positive. Lastly, positive elements are all you need to define the absolute value, and hence enough to give metric properties. We begin the formal treatment of this by defining the inequality. Note 1.9. You may use any of the standard properties of inequalities. For a,b,c in an ordered field F (like R), these include: Proof. If it weren’t, then by part (b) of Axiom 6,-1 would be positive. But then, for any positive a, by part (a) we deduce that a • —1 = —a is also positive, contradicting part (b). Transitivity: If a < b and b < c, then a < c. b + c. Define “> ” similarly. Also, note that p is positive if 0 < p. In many intro-to-proofs classes, students work out boring proofs of the basic properties of inequalities. Since a student should be tortured by those at most one time in their academic, careers, we won’t do them here. As you are probably anticipating, R is going to be an ordered field. To make this clear when you look back at these pages, I will begin to indicate this fact parenthetically, like in the following note. Finally, how does defining an ordered field (with positive subset P) give us a distance function? It all comes down to the absolute value function. r! I Definition 1.8. If F is an ordered field and a, b € F, then we say that “a b — a G P. Likewise, a < b means that either a = b or a < b. 1 Chapter 1: T he Reals14 kl |x| - x when x > 0 kl ~x when x < 0 • R| = 7 • I ~ 7| = -(-7) = 7 • |2| = 2 . | —2| = —(—2) = 2 (a) |a| > 0, with equality if and only if a = 0. Definition. Note. We will prove the last three now, but as an exercise you may prove the rest. 19Sometimes two wrongs do make a right! lake that, Mom! Definition 1.10. If F is an ordered field (like R), define the absolute value function | • | : F -> F to be x, -x, x > 0 x < 0 (b) |a| = I - 4 (c) —|a| < a < |a|. (d) |a • &| = |a| • |b|- (e) l/|a| = |l/a|,ifa^0. (f) \\a/b\\ = |a|/|b|, if h / 0. (g) |a| < b if and only if -b < a < b. (h) The triangle inequality: |a + b| < |a| + |b|. (i) The reverse triangle inequality: ||a| - |6|| <\\a- b\\. It might be a little odd to see x” when the absolute value function is supposed to make everything positive. But the point is that for those x values, x < 0. So x already has a negative sign! And one way to get rid of a negative sign is to add another negative sign, canceling out the one that x already has.19 For example, Note 1.11. You may also use any of the standard properties of absolute values without proof, many of which were proven in your intro-to-proofs class. These include the following, where a and b are elements in an ordered field (like R). R eal A nalysis, A Long-Form T extbook 15 — b < a < b.if and only if|a| < b which implies that — b < a < b, as desired. I3-’ + ?y| < kl + \\y\\- Want to show: k + y\\ < |x| + |?/|. Which by the last proposition is true if and only if -(M + 11/1) < x + y < |.t| + \\y\\. Proposition. Proposition 1.12 (|a| < b iff' — b < a < b). If F is a, b G F, then Theorem 1.13 (The triangle inequality). If F is x, y G F, then an ordered field (like R) and if an ordered field (like R) and To prove the backwards direction, assume that — b < a < b. In Case 1 below we will use the “a < b” part of this assumption, and in Case 2 we will use the b < u” part of this assumption. 20More so than in other math courses, in real analysis it is helpful to do some scratch work before your proof. This is the case for a few reasons, one of which is that in many of our proofs and in many of your homework problems, one discovers the proof by starting with what we are trying to prove, and then working backwards to reach things that we already know (from other theorems, known properties, or the problem’s assumptions). Proof. First assume that |a| < b. Multiplying both sides by -1, we also have that —|a| > —b, by Note 1.9 part (c). Now, Note 1.11 part (c) says that — |a| < a < |a|. Piecing these three facts together, Scratch Work.20 Case 1: a > 0. If a > 0, then by the definition of the absolute value a — |a|, and so the assumption that a < b implies that |«| < b, as desired. Case 2: a < 0. If a < 0, then —a = |a| and hence a = — |a|. So the assumption that —b < a implies that —b < —|a|. Multiplying by —1 gives |a| < b, as desired. -b < —|a| < a < |a| < b, Chapter 1: T he R eals16 I.e. -|.t| < x < |.t| and Proof. For x,y 6 F, by Note 1.11 part (c) we have < x < |a;| - M < !J < Inl­and Adding these two together (technically by applying Exercise 1.12 part (a)) gives -kl - |j/| <x + y < |x| + |j/|. I.e., |z + ?/l < M + lz/1- □ c |f+?7| A B Perhaps surprisingly, the triangle inequality is a very important tool in analysis, and will be used over and over again. Also, it’s called the “triangle inequality” because of vectors forming a triangle. A vector x has length |f|. So if you take a pair of vectors x and y, and also consider the vector x + y, then the lengths of each of these can be pictured like this: -(M + M) < x + y < M + |?/|. And so, by Proposition 1.12, -|.-r| - \\y\\ <x + y< |.-r| + |?/|. And these sums look like they can be broken apart into -\\y\\<y< M, both of which we know to be true by Note 1.11 part (c). So if we start at the bottom of our scratch work and move upwards, we should get our conclusion... Now here’s the actual proof. Real Analysis, A Long-Form Textbook 17 |z + ?7| < |z| + l?7l■ |kl - ll/|| < That is, Rearranging, M - \\y\\ < |z - y|, That is, l(® - y) + y\\ < |-c - y\\ + |y| H < |-i; - y\\ + |j/|. 1(1/ - x) + x| < \\y - x| + |x| \\y\\ < \\y - a.-| + |x|. Corollary 1.14 (The reverse triangle inequality'). Assume that IF is an ordered field (like R) and x, y € F. Then, I-t - y\\ < |x| - |i/|. Let c = y - x Corollary. __ The shortest route between two points (on a plane) is a straight line. Therefore, the distance from A to C, which is given by |x + i/|, is the shortest route to get from A to C. It’s clearly a longer route if you go from A to B, and then from B to C, which is of distance |x| + |y|. Indeed, this is precisely what the triangle inequality says: We will use a similar approach to show that — and d — x. By the triangle inequality, |c + d|<|c| + |d|. as desired. Proof. By Proposition 1.12, it suffices to show that -|x < |x| - \\y\\ < |x-y|. That is, we have to show two separate inequalities. We will first show the right-hand one (that |x| — |y| < |x — y\\), and we will do so by applying a tricky application of the triangle inequality. Let a = x — y and b = y. Then by the triangle inequality, |a+ 6| < |a| + |b|. Consequences of the Triangle Inequality The triangle inequality has some nice corollaries', i.e., other theorems that follow quickly from it. 18 Chapter 1: T he R eals Rearranging, -\\y - < |x| - M, which by Note 1.11 part (b) implies that —I® — 3/| < kl - as desired. □ Here are two final results that follow quickly from what we have already done. And finally, with this, wc can define a distance function just how you’d expect. d(.T,y) = — 2/|. - Corollary. Definition. Definition 1.16. Let F be an ordered field. Then define the distance function d : F x F -> F by Corollary 1.15 (Triangle inequality corollaries'). For both of the following, assume that F is an ordered field (like R) and x, y G F. • k - y\\ < kl + M- Proof: Replace y with -y in the triangle inequality. • k + !/l> Proof: Replace y with —y in the reverse triangle inequality. And with that, we have described all of the axioms of the nationals. And in fact, to capture the reals we only need to add a single additional axiom, called the completeness axiom. This axiom fills in the “holes” in the rational numbers. 19R eal A nalysis, A Long-Form T extbook 1.5 The Completeness Axiom A := {a; e Q : x2 < 2}. This set looks something like this: Here are the important ideas: — |- « 1.414-4- sa -1.414 What’s in a set? That which we call the reals, By any other name would be as complete. are all bigger than 21 The Shakespeare in the parallel universe where all his plays were about math. And Jerry’s happy. • In order to get all of R, we will start with Q and then we will add in all the least upper bounds from all sets that are bounded above, like A. E.g., due to - Shakespeare in Dimension C-31421 • This set is bounded above. For example, 2 and 6 and 1.5 everything in A, so these are all upper bounds on A. • Among all these upper bounds, there is one that is special the smallest of them all. This is the least upper bound, and as you might imagine, this bound will in fact be exactly \\/2 (which by Example 1.4 is not rational). We need just one final axiom to obtain the reals, and it is called the completeness axiom. Formally, it is an axiom about bounded sets, which requires a little motivation to understand. We begin there. One of the first problems with the rationals that we mentioned was that if q is rational it need not be the case that is rational -we worked out q = 2 in detail in Example 1.4. Said differently, if q is rational, there may not be a rational number x. such that x 2 = q. We want to include \\/2 in what will be the real numbers, but we also want all of the other irrational numbers. We could say “include all the numbers y/q where q is rational,” but most irrational numbers are not of this form... We want an approach that gets all of them, identifies their ordering, etc. How do we use the rationals to identify all of the irrationals? There is a slick way to do this. Turning back to x/2, consider the set Chapter. 1: T he Reals20 -> That is the blueprint for what we are going to do. Now here it is, formally. 1 Definition 1.17. Let S be an ordered field (like R) and A C S be nonempty. I All rationals here are in A The least upper bound of A, so include this in R i- the above set A, wc include x/2 into our set R. Doing this for all such A makes R complete.22 All reals here are upper bounds on A some b € S such that x < b upper bound of A. (i) The set A is bounded above if there exists for all x G A; in this case, b is called an __ You had me al zeroA^ Definition. _________ :^_j| (ii) The least upper bound of A — if it exists — is some bo G S such that (1) bg is an upper bound of A, and (2) if b is any other upper bound of A, then bo < b. Such a bo is also called the supremum of A and is denoted sup(A). (iv) Again, like above, the greatest lower bound of A - if it exists - is some bn G S such that (1) bo is a lower bound of A, and (2) if b is any other lower bound of A, then bo > b. Such a bo is also called the infimum of A and is denoted inf(A). (v) If a set is both bounded above and bounded below, then it is simply called bounded. C' iou complete ttw^> (iii) Likewise, the set A is bounded below if there exists some b G S such that x > b for all x G A; in this case, b is called a lower bound of A. R eal A nalysis, A Long-Form T extbook 21 Note that sup(N) does not exist,23 but inf(N) = 1. • sup 1; info sup Such a set S is also called complete. No Sup For You! 2.3 Example 1.18. The below are left without proof for now. We will and talk about how to prove these claims. • The set Q has no upper or lower bounds; consequently, sup(Q) and inf(Q) do not exist. I- • The set N = {1,2,3,...} has no upper bounds. Lower bounds on N include -17,1,0.123 and - tt. Note that sup(N) does not exist,23 but inf(N) = 1. Whew, ok, so those are the basic definitions plus examples thereof. We are now ready to state the crucial definition which will “fill in the holes” in the rationals and solve nearly all the problems we discussed. come back shortly ({* : \"£”}) = -> This is the set {|, • }■ Note that the infimuni here is in the set, while the supremum is not in the set. The proof of the above is asked of you in Exercise 1.29. • As we have discussed, in Q the set {x G Q : x2 < 2} does not have a supremum. In R it will in fact, sup ({x G Q : x2 < 2}) = v/2. ({5Jt:\"Sn}) = ({£ : n e N}) = 1; inf ({£ : n G N}) = 0. —> Note that the supremum here is in the set, while the infimuni is not in the set. Definition 1.19. Let, S be an ordered field (like R). Then S has the least upper bound property if given any nonempty A C S where A is bounded above, A has a least upper bound in S. In other words, sup(A) G S for every such A. This definition only explicitly guarantees the existence of least upper bounds, however as a corollary one can prove the existence of greatest lower bounds. Indeed, if S is complete, and A C S is nonempty and bounded below, then inf(A) G S. This is a consequence of Exercise 1.33, in which you are asked to prove that inf (A) exists and moreover that inf (A) = — sup(—A). We have already argued that Q is not complete. To test your understanding, try to convince yourself that N is complete (this is asked for in Exercise 1.26). I Chapter 1: T he R eals22 - What R we talkin’ about? - At last, we have reached the big, big idea. All of these definitions have led up to the following huge theorem. com- / Theorem. A construction of R using so-called Dedekind cuts is sketched in Appendix A, and it is more nuanced and complicated than you might expect. Big idea. The reals are what you get when you start with Q and then add in just enough numbers so that it satisfies the least upper bound property. This is called completing Q. we will not add in Thus you see how By doing this we will add in numbers like \\/2 and tt, but “numbers” like the complex number 2 + i or the ordinal number w. important it is to carefully specify your axioms before developing a theory like that of real analysis. 24That is, if you had any other complete ordered field, it really is the same as R, you might just need to relabel the elements. Sometimes this is phrased as “There exists a unique complete ordered field containing Q” or “it is unique up to isomorphism.” Conditions like “containing Q” help clarify, but they are unnecessary. The fact that there is only one complete ordered field in the entire universe highlights that there is something special about the reals. If we want the properties we have discussed, then the complex numbers C, three-dimensional space R3, the extended reals R U {±00}, the hyperreals R and all other options fail at least one axiom. It is worthwhile now to sit back and reflect on what we have. If we add a completeness axiom to the six axioms we had for an ordered field, we end up with just, seven axioms which collectively give us the real numbers. And everything else that we are going to do during this text will be derived from just these seven axioms. Math is often viewed as a pyramid consisting of a wide base of knowledge and results, followed by a smaller number of mid-level theorems, and topped off by a handful of super-specific peak theorems. Theorem 1.20 (Existence and uniqueness ofW). There exists a unique24 plete ordered field. We call this field the real numbers, R. 23Real Analysis, A Long-Form Textbook resultsMid-le Lots of awesome theorems Lots and lots of random facts, that everyone knows Mid-level results, facts everyone knows Very few axioms, \\ that everyone / \\ believes / / Few \\ awesome theorems How is it that a handful of self-evident axioms can be combined to create startling theorems? It really is amazing. In my opinion, most of the best accomplishments of the (collective) human mind are in mathematics, and we have the rigors and axiomatic structure of mathematics to thank. So throughout this textbook, as we build derivatives, prove the existence of some remarkable function, or study series of functions, remember where it all started: with almost nothing. When you are proving something new, this pyramid may feel accurate, since in your mind you hold many small results and a handful of relevant mid-level results, all to prove a single new “peak” result. But for mathematics as a whole, the above pyramid is completely upside-down. Math begins with almost nothing- just a handful of structural or self-evident axioms — and from these, an entire universe is built. Chapter 1: T he Reals24 for (a) If a, b g P, then a + b € P and a ■ b G P; —a G P, but not both. 1.6 Working with Sups and Infs a least upper bound. / Note. Proposition. We now want to develop some properties of suprema and infima, to understand them better. Here is the first basic result. Proposition 1.22 {Suprema exists, then it is unique. Before moving on, below we collect the axioms which uniquely defined R your future reference. Axiom 7 (Completeness Axiom). Given any nonempty A C R where A is bounded above, A has a least upper bound. In other words, sup(.4) G R for every such A. that a + (-a) a ■ a- = 1. Axiom 6 (Order Axiom). There is a nonempty subset P C R, called the positive elements, such that (b) If a 6 JR and a 0, then either a G P or Recall t hat a supremum is the same thing as Proof. We will prove that suprema are unique, and leave the proof that infima are unique as an exercise; it’s similar. Assume for a contradiction that « and [i are distinct least upper bounds of A. In particular, both are upper bounds of A, while ot^ P- On one hand, since a is a least Note 1.21. The set R has two binary operations, addition (+) and multiplication (■), and is the unique set satisfying the following axioms. Axiom 1 (Commutative Law). If a, b G R, then a + b = b + a and a • b = b • a. Axiom 2 (Distributive Law). If a, b, c G R, then a • (b + c) = a • b + a • c. Axiom 3 (Associative Law). If a, b, c 6 R, then (a + b) + c = a + (b + c) and (a ■ b) -c = a-{b- c). Axiom 4 (Identity Law). There are special elements 0,1 g R, where </ + () = a and a ■ 1 = a for all a G R. Axiom 5 (Inverse Law). For each a g R, there is an element — a G R such 0. If a 0, then there is also an element a-1 G R such that are unique). If the supremum or infimum of A C R R eal A nalysis, A Long-Form T extbook 25 and Remember that there are always many ways to write tip a proof. For example, the below is a second way to write tip the same basic idea. I won’t go through all the details, but I do want to include a final theorem to check off one of the first indications that we (and mathematicians over the millennia) should care about more than just Q. It also ties nicely into where we began: with the square root of 2. o If you subtract just 0.01 off, you get 1 - 0.01 = 0.99. And this is not an upper bound because 0.999 is in A and is larger than 1 - 0.01. • If you subtract just 0.00012 off, you get 1-0.00012 = 0.99988. And this is again not an upper bound because 0.99999999 is in A and is larger than 1 — 0.00012. can show that \\/a = sup ({.?: G R : x 2 < a}), which is in R by upper bound and /? is an upper bound, we must have a < fl. On the other hand, since fl is a least upper bound and a is an upper bound, we must have fl < a. In summary, Second proof. Assume for a contradiction that a and fl are distinct least upper bounds of A. In particular, both are upper bounds of A, while a fl. Since R is an ordered field, either a < fl or fl < a (technically, this is a consequence of the “positive subset” that we defined); without loss of generality, assume that a < fl. But this contradicts fl being the least upper bound: a is an upper bound but yet fl £ a, as is required by the definition of the least upper bound. Now consider the set A = {0.9,0.99,0.999,0.9999,... }. One upper bound of A is 2.7. This isn’t the supremum, though, because it’s not the least upper bound. One way to think about this is that we can subtract a bit off 2.7 and the result is still an upper bound. For instance, if we subtract 0.3 off then we get to 2.4, which is still an upper bound (but is still not the supremum because it’s still not the least upper bound). Now, 1 does happen to be the supremum. And like above, one way to think about it is this: First, it is an upper bound; second, if you subtract any bit off of 1, you no longer have an upper bound. Proof idea. One completeness. Theorem 1.23 {Square roots exist). If a G R and a > 0, then y/a 6 R. n < /? and fl < a. This implies that a — fl, giving our contradiction. Chapter 1: T he Reals26 (i) a is an upper bound of A, and Likewise, inf (A) = /3 if and only if and leave the infimuin case as an exercise; “ Based Theorem. Theorem 1.24 (Supremo analytically). Let A C R. Then sup(A) — a if and only if Proof. We will prove the supremum case it’s similar. First assume that sup(A) immediate: Since sup(A) (i) is a lower bound of A, and (ii) Given any e > 0, + e is not a lower bound of A. That is, there is some x £ A for which x < /J + e. = a. We aim to prove (i) and (ii). The first of these is a, a is the least upper bound of A, which of course also implies that it is an upper bound of A. Now we will show (ii). Let e > 0. Since a — e < a, we know that a — s is not an upper bound of A. because if so that would contradict a being the least upper on a highly-scientific Ctrl-F search, this text refers to an ‘e’ a total of 993 times, and includes “s > 0\" 156 times. So, yeah, it’s pretty important in real analysis. Before we prove this, I will note that these e-terms will be used lots and lots and lots and lots and lots in your real analysis course.2'5 Always think about them as being some small, positive number. Also, in part (ii) note that the x depends on the s. In the discussion before Theorem 1.24, for example, £ = 0.01 lead to x = 0.999; and c = 0.00012 lead to x = 0.99999999. So different values of e lead to different, values of x. Ok, let’s prove the theorem now. This type of reasoning suggests the following theorem, which is an analytic way to think about suprema. Essentially, it says that “a is a least upper bound of a set A if, whenever you subtract a little bit off of a (written as “a — e”), it is no longer an upper bound (meaning that there is an element x G A that is now bigger than a - e). The reasoning is, if you could subtract off a little bit and still have an upper bound, then how is a the least upper bound? Clearly you could do better! (ii) Given any e > 0, a - e is not an upper bound of A. That is, there is some i € A for which x > a — e. As you can imagine, if you subtract off any positive number from 1, you no longer get an upper bound of A. For this reason, 1 is the least upper bound of A. In math: sup(A) = 1. Real Analysis, A Long-Form T extbook 27 e = a - P < Now we will work it out formally. Let s = a — p. is Note: the forward direction of the proof also works well by contrapositive. The contrapositive of By (ii), there is an x € A between a and a — £. + a For all e > 0 there exists some x G A such that x > a — s sup(A) = a sup(A) =£ a. Since e > 0, by (ii) there exists some x G A such that x > a — e = a-(a- P) = p. But this is a contradiction, because we assumed that P was an upper bound of A, and yet we found an element x G A that is larger than p. This completes the proof. And to prove this, just observe that the left-hand side implies that ft - e is an upper bound of A, and so sup(A) < ft - E, which of course implies that sup(A) a, as desired. There exists some s > 0 such that28 for all x G A we have x < ft — e 28Does it make sense why you don’t have to change “e > 0” to “e < 0”? A negated statement, if true, falsifies the original statement. Now, the original statement only asserts that positive e have some property, so proving anything about e < 0 tells you nothing at all about the original statement. Make sense? It’s like if you said “Every positive even integer is larger than 1,” and 1 said “Nuh-uh, what about —2??” Clearly I have not falsified your statement, because you were only ever referring to the positive case. ~+~A P = a — e . bound of A. And so, since a - E is not an upper bound, there must be some x G A which is greater than a — s, as desired. Now assume (i) and (ii). We aim to prove that sup(A) = ft. That is, we wish to show that ft is an upper bound of A (which is implied directly by (i)), and for any other upper bound /3, we have a < P- We have only the latter to prove. Assume that P is some other upper bound of A, and assume for a contradiction that P < a. Note that ()<«-/?. We will use (a - P) as our e, and then apply (ii) to contradict P being an upper bound. This will be the picture: Chapter 1: The Reals28 1.7 The Archimedean Principle Earlier we asserted, without proof, that e Nandinf = 1.= 0 sup In particular, for any e > 0 there exists Lemma. (Subtracting 2e from both sides) (Dividing both sides by 2) e>0 -e > -2e -e/2>-e. “ The scratch work to find this proof: Start with what you want to show, and do algebra until you reach something we do know (like that e > 0). -e/2 > -e (Want to show) _£ > _2j (Multiply both sides by 2) e > o (Add 2s to both sides) Now if we do this scratch work in the reverse direction, it works for our proof. 1 — : n n 1 nn e N such that Moreover, £ > 0 implies that - e < 0, and hence - e/2 < 0, which proves -e/2 G /I. In summary, we have shown that x = - e/2 has the property that x G /I and .r > 0 — e. This proves condition (ii) of Theorem 1.24, and thus concludes the proof. We aim toprove these precisely. For the former, to show that inf ({L : n G N}) = 0. we would need to show that 0 is a lower bound (this is easy), and also that 0 + g is not a lower bound for any £ > 0. That is, for any £ > 0, there is some n such that 1/n < 0 + e. This may or may not seem obvious, but either way it is something we have to prove ourselves. How we do that is by using the so-called Archimedean principle. Lemma 1.26 (The Archimedean principle). If a and b are real numbers with a > 0. then there exists a natural number n such that na > b. - : n g N 71. Example 1.25. Let A = {.r G R : x < 0}. Then sup(yl) — 0. Proof. We will use the suprema analytically theorem (Theorem 1.24). Note that 0 is clearly an upper bound of A because A is defined as the reals less than 0. This proves (i) in the theorem. To prove (ii), let f > 0. We need to show that there is some x G A such that x > 0 - e; that is, x > -e. We claim that x = —e/2 works. The following proves this.29 We know that s > 0, and hence R eal A nalysis, A Long-Form T extbook 29 m + 1 > a. Example 1.27. Show that inf = 0. Example 1.28. Show that sup = 1. - : n G N n 1 - : n G N n Solution. Let A = : n G N}. We will use the suprema analytically theorem (Theorem 1.24). We must then show that 1 is an upper bound of A and that, for all £ > 0, 1 — £ is not an upper bound of A. Solution. Let A = : n G N}. We will use the suprema analytically theorem (Theorem 1.24). We must then show that 0 is a lower bound of A and that, for all e > 0, 0 + £ is not a lower bound of A. The first of these is almost immediate: Since 1 and n arc positive for each n G N, so is 1/n. So 1/n > 0, and thus 0 is indeed a lower bound for A. Working toward the second, let E > 0. Then by the Archimedean principle (Lemma 1.26), there exists some n G N such that ~ < e. This element, -, is in A and is less than 0 + £. So 0 + e is not a lower bound of A. If a is already bigger than ft, or not too much smaller, then this is easy -a small value of n accomplishes this. The challenge is when a is super small and b is super big. Then n has to be really, really big to make up for it. The way this is sometimes phrased is: Even a teaspoon can drain an ocean. What that means is this: Think about the number a as being the volume of water in a teaspoon, and b as the volume of water in the ocean, which is obviously much, much bigger. But according to the Archimedean principle there is some integer n where, if you take a teaspoon of water from the ocean n times in a row, then you will have completely emptied it. Now let’s prove it. Proof. We aim to show that na > b for some ng N; by dividing over the a, we aim to prove that there is some n G N such that n > b/a. Now, the number b/a is just some real number that we know nothing about. In fact, let’s just call it x. So, equivalently, we are trying to prove that given any real number x, there is some integer n such that n > x. Assume for a contradiction that there is no integer larger than x. That is, assume that x is an upper bound on the set N. Then 14 is a subset of R that is bounded above, and so by the completeness of R we deduce that sup (14) exists. Call this supremum a. Since a is the least upper bound of N, we know that a — 1 is not an upper bound. That is, there exists some integer m > a — 1. Adding 1 to each side, But this is a contradiction. If a is the supremum of N, then it is an upper bound on N. But we found (m + 1) G N which is larger than a. This concludes the first statement in the principle. The second part follows directly from the first by letting a = e and 6=1, and then dividing over the n. Chapter 1: T he Reals30 1, For the below proof, recall that No = N U {0}. Proof. First assume that x and y are at least 0, and consider the set M + 1 < x + 1 < y.implies thatM <x Definition. Lemma. Lemma 1.30 (y-x > 1 => 3 z £ Z where x < z < y). Let ;r, y £ R. If y — x then there exists z 6 Z such that x < z < y. So z < y. In summary, we have shown that x < z < y, as desired. The cases where x and y are not at least 0 are similar. If both are negative, then by considering -x and -y the above argument gives an integer z where — y < z < —x, showing that -z works, since x < — z < y. If one is positive and one is negative, then 0 works. Definition 1.29. Suppose A and B are ordered field (like R). Then A is dense in B if, for any x, y £ B, there exists a £ A such that x < a < y. For example, Q is dense in Q because given any x, y £ Q, if we let « = , then one can show that a £ Q and x < a < y. Likewise, R \\ Q is dense in Q since given .t, y 6 Q, if we let a = then one can show that a € R \\ Q and ;r < a < y. Meanwhile, Z is not dense in Q. We are about to prove an important and far-reaching extension of these results, but first here is a quick lemma that we will use for the proof. Since x > 0. this set is non-empty, and since it is a set of nonnegative integers which is bounded above by x, this set is finite. So by Exercise 1.25, max(A) exists and is an element of A. Call this maximum M. We claim z M + 1 works. Note that since M £ No, also z £ No. Furthermore, since z is larger than the largest element of A, z is not in A, implying that x < z. Finally, For the first of these, note that since n > 1 for all n £ N, and by dividing over the n we have that 1 > | for all n £ N. So 1 is indeed an upper bound for A. Working towards the second, let e > 0. We need to show that there is some x £ A such that 1 - s < x. But this is always accomplished by the number 1: Clearly 1 £ A and 1 - e < 1. A = {n € No : n < a:} . Real Analysis, A Long-Form T extbook 31 <- X y X y Now think about all integer multiples of this <- -> x y -|—2—4 <- -> X y Theorem. Theorem 1.31 (Q is dense in R). The rational numbers are dense in the real numbers. 0 + 0 + 0 0 1 71 + t 2 71. + 3 71, I- 4 n -I- 4 71 + 2 71 5 71. 1 71 + t 6 71 + 2 + t 3 71 i 6 71 5 71 + Now, y — x is some positive number, and so by Archimedean principle there is some n G N with i < y — x. This is the idea, although by using Lemma 1.30 the proof hides some of these details. Now here’s the proof of Theorem 1.31. 30In Chapter 2 when we impressive and important. study the cardinalities of these sets, this result will be even more The next theorem says that between any two real numbers is a rational number. The rationals which are super nice to describe and work with —arc everywhere.30 Proof Idea. The result follows from Lemma 1.30, and does so easily enough that it would be easy to miss what is what really going on. Assume that x,y G R and assume both are positive with x < y. We aim to find a rational number between x and y. That is, with x < < y. Note that since each one is ± away from the next one, but y - x > i, it is impossible for these dashes to completely hop over the interval between x and y. That is, at least one of these must fall between x and y. 771—1 in 7h4- 1 7i n n ■I: 1: 1 I t Chapter 1: The Reals32 —x nx <m < ny. That is, which concludes the proof. □ Three final comments Definition 1.32. Let x G R. • The ceiling of x, denoted pr], is the integer n such that x < n < x + 1 • The floor of x, denoted |zj, is the integer n such that x < n < x + 1. 1Definition. m x< — < y. n m x< - < y, n Definition. I Before concluding the first chapter, here a few miscellaneous comments. First, the proof of Lemma 1.30 also implies that, for any x G R, there exists an integer M such that M < x < M + 1. In particular, it implies that the floor and ceiling functions exist. Proof. Pick any x, y € R where x < y. We need to show that there exists some ~ G Q (with m, n G Z) such that Second, we haven’t formally defined the notion of an interval, but it’s exactly as you would suspect. First note that if x < 0 < y then we are done, since 0 G Q. Furthermore, if we can show the theorem holds in the case that x and y are positive, then it implies that it o), soholds when they are we may assume x and y are positive. Since y-x > 0, by the Archimedean principle (Lemma 1.26) there exists some n G N such that n(y - x) > 1; i.e., ny - nx > 1. And so, by Lemma 1.30, there is some integer m with negative (0 < x < — < y implies - y < —— \\ n n Definition 1.33. Define the closed interval [a,b] to be {a: G R : a < x < &}. Likewise the open interval (a,b) is defined to be {a; G R : a . < x < b}, and half-open intervals and intervals to ±oo are again exactly as you would expect. Real Analysis, A Long-For.m Textbook 33 Principle. Principle 1.34 (Well-ordering principle). Every non-empty subset of natural numbers contains a smallest element. Lastly, the formal construction of 1R (see Appendix A) contains an assertion of the soundness of the principle of mathematical induction, and we will therefore use induction without hesitation. This principle is equivalent to the so-called well-ordering principle, which we record now before moving on to cardinality. Chapter 1: T he R eals34 Notable Exercises ACUBC (A U B)c = Ac n B c.and / • Exercise 1.13 is an early example of an analytic statement, in which a property is asserted to hold “for all £ > 0.” Properties of this from will soon be filling up the pages of this text, and are ubiquitous in the field of real analysis. Recall that we already have one particular theorem of this form: The suprema analytically theorem (Theorem 1.24). Exercise 1.30 and others provide further work in this direction. • Exercise 1.23 will be used several times in this book, most notably in Chapters 4 and 8. • Exercise 1.34 is a special case of an important topological property we will study iu Chapter 5. We will also look at the limitations of this property, which are alluded to in Exercise 1.35. You are asked to prove a generalization of it in Exercise 5.11 (b), although the best way to prove Exercise 1.34 at this point utilizes only things we discussed in this chapter. • In Exercise 1.8 we prove De Morgan’s laws, which arc quite useful in set theory and beyond, as they describe how the compliment operation distributes over unions and intersections. They say this: Exercises test your knowledge and develop your understanding. Many are written simply for this purpose, while others hold a greater significance for one reason or another. Before each chapter’s exercises I will comment on a few of the exercises which are in this second camp31 They will become useful again when we study topology in Chapter 5, when' we will utilize an infinite form of these laws (sec Fact 5.11). They are also particularly important in mathematical logic (under the guise of laws of Boolean algebra) — but that’s a topic for another long-from textbook. De Morgan’s laws highlight a certain symmetry between unions and intersections, and between a universal set X and the empty set 0. This is an example of a duality property, which pop up all over mathematics. 3'For instructors: 1 do not mean to single these out as suggestions as to what to assign for homework, and indeed the others are oftentimes just as good or better suited for assignments. R eal A nalysis, A Long-Form T extbook 35 Exercises • You must prove all of your answers (unless stated otherwise). be found at LongFormMath.com. (a) (b) £ N, there is an integer n G N such that m > n. (c) There is an 6 N such that for every n G N, m > n.m (<1) There is G N such that for every m G N, m > n.an n (e) There is G R such that for every rn G R, m > n.an n (f) For every pair x < y of integers, there is an integer z such that x < z < y. (g) y of real numbers, there is a real number z such that x < z < y. • Remember the proof techniques that you learned in your intro-to- proofs class: Direct, by contradiction, by using the contrapositive, by induction, and/or by cases. And you can disprove something by exhibiting a counterexample. are true? Give a short explanation Note: Hints and solutions to select exercises can For every n For every pair x Exercise 1.2. Which of the following statements for each of your answers. x2 = m2 - y1 = xy - y2 (® + y)(x - y) = y(x - y) x + y = y %y = y 2 = 1. For every m Exercise 1.1. Explain the error in the following “proof’ that 2=1. Let x = y. Then G N, there is an integer m G N such that rn > n. Chapter 1: T he Reals36 (b) P(A)(a) A\\B (c) Ml Exercise 1.5. Prove that each of the following holds for any sets A and 13. (a) A U B = A if and only if B C A. (b) A Cl B = A if and only if A C B. (b) Prove that (X U B)‘ = Ac D Bc.ACUBC. Exercise 1.9. Exercise 1.4. If .41, A2,A:i, ••• ,An are all boxes (possibly with things inside), describe the following in terms of boxes: (c) A \\ B = A if and only if 4 D B = 0. (d) A \\ B = 0 if and only if 4 C B. n (a) (J4f = 4iU42U-\"U4n. i=i n (b) P]4i = 41n42n--n4„. Exercise 1.8. The following are Exercise 1.6. Suppose f : X -> Y and AC X and B C Y. (a) Prove that /(/\"'(B)) C B. (b) Give an example where /(/-1(B)) B. (c) Prove that A C / -1(/(4)). (d) Give an example where A / -1(/(4)). (a) Prove that \\/3 is irrational. (b) What goes wrong when you try to adapt your argument from part (a) to show that y/4 is irrational (which is absurd)? (c) In part (a) you proved that \\/3 to be irrational, and essentially the same proof shows that \\/5 is irrational. By considering their product or otherwise, prove that -\\/3 — \\/5 and \\/3 + \\/5 are either both rational or both irrational. Deduce that they must both be irrational. (a) Prove that (XDB)6 Exercise 1.3. If A and B are two boxes (possibly with things inside), describe the following in terms of boxes: Exercise 1.7. Suppose that f : X -> Y and g : Y —> A are functions and that the composite go f is the identity function id : X —> X. (The identity function sends every element to itself: id(rr) — x.) Show that f must be a one-to-one function and that g must be an onto function. special cases of De Morgan's laws. Real Analysis, A Long-Form Textbook 37 Exercise 1.10. Prove that the multiplicative identity in a field is unique. (a) Show that a + c b + d. For each of the following, find all numbers (a) |rz; — 4| = 7 (e) |z- 1| + |z + 1| 1 (b) |:r-4| 7 (f) |x-l| - |iz:+ 1| > 1 (e) |.7: + 2| 1 (d) |:r - 1| + - 2| > 1 max{j;,y} — and min{x,7/} = (b) Prove that it is not necessarily true that ac < bd. Note whenever you use an axiom. (b) Use part (a) to show that if |a — b| < e for all e > 0, then a = b. Note whenever you use an axiom. (g) |z - 1| • |z + 1| = 0 (h) |.-c - 1| ■ |a; + 2| = 3 max {.7;, y, z} and min{.7;, y, z}. (a) Give an Assume that F is an ordered field and a, b,c,d g F with a x which satisfy theExercise 1.15. expression. x + y + \\y - j--| 2 Exercise 1.14. Prove that the equality |ctb| = |a| • |b| holds for all real numbers a and b. Exercise 1.16. Let inax{.'r,?/} denote the maximum of the real numbers x and y, and let min{x,?/} denote the minimum. For example, min{-l,4} = min{-l,-1} = —1. Prove that Exercise 1.12. and c < d. Exercise 1.11. Given an ordered field F, recall that we defined the positive elements to be a nonempty subset P C F that satisfies both of the following conditions: (i) If a, b g P, then a + b g P and a ■ b g P; Exercise 1.13. Let a, b and e be elements of an ordered field. (a) Show that if a < b + e for every £ > 0, then a < b. (ii) If a g F and a 0, then cither a g P or -a g P, but not both. Then find a formula for x + y-\\y- a-1 2 example of some Pi C R that satisfies (i) but not (ii). (b) Give an example of some P> C R that satisfies (ii) but not (i). Chapter. 1: The Reals 38 Exercise 1.18. Prove that if ai,a2,.. |«i + a2 + ■ • - + a„| < |ai| + |a2| + ... + |a„|. Determine which natural numbers, n, have the property t hat x/n Exercise 1.21. Let / : X -> Y, and /(Ainx2)c/(Ai)n/(A2)- bounded above. Prove that. (a) Prove that sup(A) = M. Exercise 1.26. Prove that N is complete. Exercise 1.20. is irrational. __ 1_ k(k +1) (b) Prove that inf(B) = m. n for every natural number n. n + 1 n Exercise 1.19. Prove that k=l Exercise 1.24. Suppose A C JR has a maximal element -that, is, there is an element M G A such that x < M for all x G A. Likewise, assume B C R has a minimal element m. Exercise 1.25. Suppose that A is a nonempty set containing finitely many elements. Prove by induction that A has a maximal element, and that max(/l) G A. h\" for any •, an are real numbers, then assume Aj, A2 Q X- Show that Recall that, if A is a set, then /(A) = {/(;r); x G 4). Exercise 1.22. Give an example of a function f, and a pair of sets A and B, for wliich Exercise 1.17. Prove that if a.b G JR and 0 < a < k, then a\" positive integer n. f(ACiB) / f(A')Clf(B'). Recall that, if A is a set, then /(A) = {/(.t) : x G A}. Exercise 1.23. Assume that A C B and both are sup(A) < sup(B). Exercise 1.27. For each item, compute the requested supremum or infiniuni or carefully explain why it. does not exist. Either way, prove that your answer is correct. (a) Determine sup A for A = : n G n|. (b) Fix a G (0,1). Determine inf(B) for B = {an : n G N}. (c) Fix a G (l,oo). Determine sup(C) for C = {an : n G N}. 39Real Analysis, A Long-Form Textbook Prove the infimum case of Theorem 1.24.Exercise 1.28. Exercise 1.29. Prove that infand= 1------- : n G Nsup Exercise 1.30. Let A, B C R, and assume that sup(A) < sup(B). element b & B that is an upper bound for A. -A : GA}. A 2 h 2 h 2 h 2 • ■ ■ • Prove that Suppose that A 0 and that A is bounded below. Prove that —A 0, —A is bounded above, and sup(-A) = — inf(A). 1 2 {— x : x (a) Show that there exists an : n G N n + 1 Exercise 1.31. Suppose that A, B C R are nonempty and bounded above. Find a formula for sup(A U B) and prove that it is correct. (b) Determine necessary and sufficient conditions on c and A for sup(cA) = csup(A). Give an example of a set A and number c where sup(cA) =£ csup(A). oo P] /n 0. That is, prove that there is some real number x such that n=l x G In for every n G N. Exercise 1.33. For A C R, we denote —A to be the set obtained by taking the opposite of everything in A. That is, (a) Prove that sup(c + A) = c + sup(A). Exercise 1.34. For each n G N, assume we arc given a closed interval In = [an, b„]. Also, assume that each /n.|. i is contained inside of In. This gives a sequence of increasingly smaller intervals, Exercise 1.35. Give an example showing that the conclusion of Exercise 1.34 need not hold if each In is allowed to be an open interval. (b) Give an example to show that this is not necessarily the case if we instead only assume that sup(A) < sup(B). You do not need to prove your answer. Exercise 1.32. Suppose A C R is bounded above and c G R. Define c + A = {c + a : a G A} and cA = {ca : a G A}. n n + 1 Chapter 1: T he R eals40 • For A B C R, we define A + B = {a + b: a £ A and b £ B}- • For A B C R, we define Exercise 1.36. (a) Determine {1,3,5}+ {-3,0,1} (b) Assume that A, B C R and sup(A) and sup(B) exist. Prove that sup(A + B) Exercise 1.37. (a) Determine {1,3,5}-{-3,0,1} (b) Give an example of sets A and B where sup(A ■ B) sup(A) • sup(B) J = sup(A) + sup(B). A-B = {a-b:aE A and b&B}. 41R eal A nalysis, A Long-Form T extbook Question 1. Consider the set 432 Question 2. Is e + tv rational? Question 4. Can every rational number x be represented as a quotient of shifted primes? That is, do there exist primes p and q such that 3 2 p+ 1 x. = ------ . Q+l 3 2 ’ 3 2 3 2 Open Questions32 but for each number remove the integer portion;33 for example, (3/2)3 — 3.375 would be reduced to 0.375. Is the resulting set dense in [0,1]? Question 3. For points x and y in the plane, define d(x,y) to be the distance between x and y. Does there exist a dense subset S of R2 where, for any x, y e S, d(x,y) e Q?34 An “open question” is a question that is unsolved. No one knows the answer to any of these. If you are my student and you solve one of them, I will give you one point of extra credit. 33Another way to say this is “(3/2)\" (mod 1).” Or: (3/2)'* - [(3/2)\"J. 3’That is, if x = (xi,x?) and y = (j/i, 3/2) are in S, then d(.r,y) = y/(yi — a:i)2 + (?>2 — ®2)2 € Q. Chapter 2: Cardinality Bijections and Cardinality2.1 |{a,b,c}| = 3, and |{1,4,9,16,25,..., 100}| = 10, and let 3 <4 <: 43 2 <-> a Principle 2.1 (77m bijection principle). Two sets have the same size if and only if there is a bijection between them. Example 2.2. One reason that the sets {1,2,3} and {a,b,c} have the same size is that the elements can be paired up like this: |Z| = oo. In general, we say that two sets have the same size if there is a way to pair up the elements between the two sets. Equivalently, if there is a bijection between them. This is known as the bijection principle. My research is in a field of math called combinatorics. One central problem in combinatorics is to count sets of things. The scientific philosopher Ernst Mach went as far as to say “Mathematics may be defined as the economy of counting. There is no problem in the whole of mathematics which cannot be solved by direct counting.\" It’s a beautiful thought,1 but even I would not go quite that far; nevertheless, I do think that the best solutions in math are those that use counting. We have already defined the number of elements in a set A to be the cardinality of that set. For example, 'And it’s at least semi-faintly-plausible. If he has said, “There is no problem in the whole of mathematics which cannot be solved by integration by parts,” now that would have been bold. Chapter 2: Cardinality44 Solution. Note that in each game, precisely 1 team loses, and of course each loss happens in a game. So, number of games never loses, but every other team loses 64 teams, 63 of them lose once, so games. number of losses. Now, the champion one game and then they’re out. So with there must be 63 losses, so there must be 63 Example 2.3. In the NCAA’s March Madness Tournament there are 64 teams that play. The tournament is single-elimination (once yon lose, you’re out). How many games are played throughout the tournament? This next example is one I’ve given many times. Whenever someone asks what I do, 1 tell them I’m a math professor. Most then respond saying something like “oh, I was never good at math,” or “I never liked math.” But sometimes they follow-up and ask what sort of math I study, to which I tell them that I study combinatorics. After repeating that word slowly a few times, I usually tell them that combinatorics is the most fun math, has the most puzzle-like questions, and is the most insight- and problem-driven field. If they seem interested, I oftentimes offer to tell them a problem which I claim conveys what it feels like to do combinatorics. If they take the bait, I always give them the following problem. / Sometimes the person will be able to realize that in the first round 32\\ games are played (since 64 teams pair up and play a round). I then note that this is indeed a way to solve the problem: If they apply the same reasoning they could find the number of games in the second round, the third round, and so forth, and then just add up the number of games from each round. But this, I tell them, is boring, it can’t be easily generalized to other tournaments, and it doesn’t give any insight into why the answer is what it is. Furthermore, I and many other combinatorists do not like computational solutions. Computations are boring. Plus, computers can do them better than I can, while also committing fewer errors. And computations often hide what is really going on. I want to know how many games are played not only because the answer might be of interest, but because I want to understand how many games are played. Finally, because people in the wild tend to like when math has applications, 1 sometimes also mention how the answer has practical value the number of games played translates directly into the number of times the NCAA has to reserve TV time slots, how much revenue they should expect, the number of times they need to reserve a court, etc. But usually within a minute, and sometimes within 7 seconds, I give them ^the following neat solution. Here it is. / And one reason that {x,y, z} and {m, a,t,/?.} do not have the same size is that the elements can not. be paired up. Whenever you try, one element from the second set won’t get a pair. Real A nalysis, A Long-Form T extbook 45 Counting Infinities2.2 Fact 2.4. Let S and T be sets. Then, • |S| = |T| if and only if there is a bijection from S to T. • I A>'| < |T| if and only if there is an injection from S to T. • |5| > |Tj if and only if there is a surjection from S to T. Hilbert’s Hotel David Hilbert We begin by talking about the set of problems related to the so-called Hilbert’s Hotel. Assume that there is a hotel, called Hilbert’s Hotel, which has infinitely many rooms in a row. “No other question has ever moved so profoundly the spirit of man; no other idea has so fruitfully stimulated his intellect; yet no other concept stands in greater need of clarification, than that of the infinite.” The ability to “pair up” elements between two sets is what it means for them to have the same size this is perfectly intuitive for finite sets with nothing too counterintuitive resulting, but with infinite sets... well, some pretty neat stuff pops out. Indeed, the pluralization in this section’s title was first your sign of the miracles to come. One hist thing before we do that: here is a quick function-to-inequality fact that you probably learned in your intro-to-proofs class. That’s it! Don’t count games, count losses. There is a bijection between the games and the losses (every game has 1 loss, every loss occurs in 1 game), so counting losses is the same as counting games. And since 63 teams lose one time, it’s easy to count those losses! Technically, we can view this solution as an application of the bijection principle, when we paired up each loss with the game it occurred in (and then counted the new set). The really cool thing, though, is that this definition of the size of a set applies even to infinite sets. And that implies some truly fascinating things. Chapter 2: Cardinality4G (repeat) Hilbert's Hotel No Vacancy Specific Sets Example 2.5. There are the same number of natural numbers as there are natural numbers larger than 1 (that is, |N| = |{2,3,4,... }|). What’s the bijection that shows this? Let oo bottles of beer on the wall, oo bottles of beer. Take one down, pass it around, oo bottles of beer on the wall. /:N-T {2,3,4,...} n i— > n + 1. 2Makc sure you take a moment to appreciate how remarkably, wonderfully weird this is. 3Make sure you take a moment to appreciate how remarkably, wonderfully weird this is. • Assume every room has someone in it, and so the “No Vacancy” sign has been turned on. With most hotels this would mean that if someone else arrives at the hotel, they will not be given a room. But this isn’t the case with Hibert’s Hotel. If, for n G N, the patron in room n moves to room n + 1, then nobody is left, without a room and suddenly room 1 is completely open! So the new customer can go to room 1.2 • Now imagine 2 people arrived to the hotel. Can we accommodate them? Certainly! Now, just have everyone move from room n to room n + 2. This leaves rooms 1 and 2 open to the newcomers, and we are again good-to-go. • What if, however, we have infinitely many people lined up wanting a room. Can we accommodate all of them? Yes! We still can! Just have the person in room n move to room 2n. Then all of the odd-numbered rooms are vacant and the infinite line of people can take these rooms.3 The first point of this exercise is to simply realize that weird stuff can happen when dealing with the infinite. The second point, though, is to realize that each time the people switched rooms, those same exact people got new rooms. So in the first example when they each just moved one room down, that should mean that there are just as many rooms from 1 to oo as there are from 2 to oo... And likewise for the others. Indeed, with this in mind, let’s talk about sizes of specific sets. But first, a ditty: 47R eal A nalysis, A Long-Form T extbook 1 o 2, 2 O 3, 3 O 4, 4 O 5, ... □ 4 h 8, ...3 o 6,2o 4,10 2, □ Likewise: Example 2.7. |N| = |Z|. □ The proof of this is asked of you in Exercise 2.6. (Note: This is notation for the function /(a:) = 2x from the naturals to the even naturals.) In other (non-)words, this is the pairing (Note: This is notation for the function f(x) = x + 1 from the naturals to the set {2,3,4,... }.) In other (non-)words, this is the pairing Example 2.6. There are the same number of natural numbers as even natural numbers (that is, |N| = |2N|). What’s the bijection that shows this? Let The Moral. Two sets can have the same size even though one is a proper subset of the other/ Theorem 2.8 (|Z| = |Q|). There are the same number of integers as rational numbers. you take a moment to appreciate how remarkably, wonderfully weird this is. you take a moment to appreciate how remarkably, wonderfully weird this is. f : N --- > 2N n i— > 2n. The Moral. Two sets can have the same size even though one is a proper subset of the other and the larger one even has infinitely many more elements than the smaller one.5 Proof. What’s the bijection that shows this? This one is a little complicated... It’s difficult to write down the formula, but the formula can be described in a nice way. First note that if we can show that there are the same number of positive integers as positive real rational numbers, then by simply adding a minus sign to everything, we will get a full bijection. So we may focus on just the positive case. '’Make sure ’Make sure Chapter 2: Cardinality48 Consider the rational numbers (with some duplication) written in this way: 2 3 41 5 6 7 8 1/1 2/1 3/1 4/1 5/1 6/1 7/1 8/11 1/2 2/2 3/2 4/2 5/2 6/2 7/2 8/22 1/3 2/3 3/3 4/3 5/3 6/3 7/3 8/3 ■ • •3 1/4 2/4 3/4 4/4 5/4 6/4 7/4 8/4 ■ ■ ■4 1/5 2/5 3/5 4/5 5/5 6/5 7/5 8/5 ■ ■ •5 1/6 2/6 3/6 4/6 5/6 6/6 7/6 8/66 1/7 2/7 3/7 4/7 5/7 6/7 7/7 8/7 •••7 1/8 2/8 3/8 4/8 5/8 6/8 7/8 8/88 Our bijection, which we call the winding bijection. 2 41 3 5 6 7 8 1 2 3 4 1/5 2/5 3/5 4/5 5/5 6/5 7/5 8/5 ■ •5 1/6 2/6 3/6 4/6 5/6 6/6 7/6 8/6 ••6 1/7 2/7 3/7 4/7 5/7 6/7 7/7 8/7 • •7 8 can be pictured like this: 1/8 2/8 3/8 4/8 5/8 6/8 7/8 8/8 •• / '' x : / : C : : : : : J l/rt/i 3/rt/i 5/f^/i 7/rj/i v ijT 2/2 4/2 5/2 6/2 7/2 8/2 k ^i//3 l/Ze//\"7/Zs/;! • • ■ / / / / / / / 2/4 3/4 4/4 5/4 6/4 7/4 8/4 2/5 3/5 4/5 5/5 6/5 7/5 8/5 ■ • • 1Z2!/6^/(f4/Z5/Z6/6 7/6 8/6 ••• (ZZZZ,, _ 49R eal A nalysis, A Long-Form T extbook □And that’s it!6 — A game of deduction - Now, at this point, yon might be tempted to predict that the reason all these sets have the same size is that they all have infinitely many elements, and maybe all infinities are the same and that’s all there is to it... But amazingly that’s not actually the case. Theorem 2.9, which we will get to in a second, demonstrates this. But first, to get a hold on how the proof goes, here’s a little game. new rational number you reach. The Moral. Even though there are infinitely many rational numbers between every two consecutive integers, the two sets still have the same size.7 /(n) — the nth Weaving through this chart, you arc guaranteed to hit every positive rational number. So if you pair up 1 with the first number you hit, 2 with the second number you hit, 3 with the third, and so on, then every positive rational number is in a pair. Now... there’s just one small problem: each rational number is actually hit more than once. The number p/q will be written in positions (p, q), (2p, 2q), (3p, 3q),.... But the fix is easy: When you come across a number that has already been hit, just skip it. Clearly you won’t run out of rational numbers, so this docs indeed pair up everything. So One solution. One way to solve it is the following. Ask the instructor whether their first sequence has a 1 in the first position. Then ask the instructor whether their second sequence has a 1 in the second position. Then ask if the third sequence has a 1 in the third position, then whether the fourth sequence has a 1 in the fourth position, and finally whether the fifth sequence has a 1 in the fifth position. Setup. Instructors: Here is a fun in-class game. Write down a set of five length-5 sequences of Os and Is. These are kept secret from the students. Goal. The students’ goal is to come up with a length-5 sequence of Os and Is which is not one of the instructor’s five. Gam e Rules. The students can ask the instructor any yes/no questions about the sequences, and receive a truthful reply. When the students make their final guess, they should be 100% confident that this guess is not one of the instructor’s sequences. And they should try to figure it out while asking as few questions as possible. 6For the curious, one explicit bijection from N to Q+ is h+(n) = p, 1>'' 2 ' -p2 l> ' ‘ J---, where pi is the i11' prime and n = Pi’pfJ2 • • • is the prime factorization of n. 'Ib get a bijection h from Z to Q, just define h(0) = 0, h.(n) = h, (n) if n > 0, and h(n) = -h, (~n) if n < 0. ' Make sure you take a moment to appreciate how remarkably, wonderfully weird this is. Chapter 2: Cardinality50 Theorem 2.9 (|R| > |N|). There are more real numbers than natural numbers. This implies that some infinities are bigger than others. -L Theorem. “Cantor's diagonalization > |N|,8 which implies the 10. an ai2 ai3 bm ais aic, «i? ais 2 0. 021 a 22 023 024 025 “ 26 «27 028 3 O 0.031 032 033 034 a 35 «36 037 038 4 <-> 0. O41 O42 O43 044 045 046 O47 O48 5 <-> 0. O51 052 O53 O54 O55 056 O57 O58 6 <-> 0.061 062 063 064 “ 65 066 067 «68 7 O 0. 071 O72 073 O74 O75 076 O77 073 8 O 0. a8l 082 083 «84 085 086 a 87 a 88 Proof. Since NCR, clearly |N| < |R|. To show that they are not equal, we must prove that there is no bijection between R and N. Let’s again use the “pairing up\" idea. We will prove it by contradiction. In fact, we will prove the stronger statement that there are more real numbers in (0,1) than there are natural numbers. (This of course would prove the larger statement since then we could say |R| > |(0,1)| > |N|.) Assume for a contradiction that there does exist some way to pair up the naturals with the reals in (0,1). Writing the reals in decimal notation, assume the pairing is this: Based on the instructor’s yes/no answers, the students can deduce, for each i e (1,2,3,4,5}, what the tth number of the ith sequence is. Suppose they deduced that the first number has a 0 in the first position; the second number has a 1 in the second position; and the third, fourth and fifth numbers have a 1,0 and 0 in their third, fourth and fifth positions, respectively. Since those numbers, in order, were 0,1,1,0,0, a correct guess would be its opposite: 1,0,0,1,1. You just take everything the instructor has and flip it. This is guaranteed to work. Consider the first sequence; you know that 1,0,0,1,1 is not the first sequence, because (by design) they differ in the first position! And you know that 1,0,0,1,1 is not the second sequence, because (by design) they differ in the second position! Indeed, each of the instructor’s 5 sequences is different from 1,0,0,1,1 in one particular spot, and so you know that this sequence is different from each of the instructor’s. Neat! This clever idea is from Georg Cantor, and is known as argument.” It is the key idea to a beautiful proof that |R| amazing fact that there are different sizes of infinity. ’By which we mean that the cardinality of K is strictly larger than the cardinality of N. R eal A nalysis, A Long-Form T extbook 51 2 <->(). 0-21 5 H 0.“51 “52 O53 O54 (“55) 056 “87 (“88; b = (). 6] 62 &3 ^4 br, bu by bf, ... where bt / an for all i. To keep it simple, let’s just choose bi : that “most” real numbers were left out. 1 2 if an 7^ 1 if an = 1 I want to quickly mention one enjoy, because it is visual and uses to the real number line (which clearly has |1R| points). 'Don’t feel too bad for b, though; it’s in fact the case More on that soon. So we arc assuming that on the left of the arrows is every integer, and on the right of the arrows is every number in the interval (0,1), and they are just paired up in some way. (And note that each av is some digit, from 0 to 9.) This proof is due to Georg Cantor and his next idea is quite brilliant. He said, focus now on the “diagonal” of the above. That is, focus on the numbers of the form an- 7 O 0. ay I a72 ay3 ay4 ays “76 (“771 “78 8 O 0. «81 “82 “83 “84 “85 “86 “87 other proof of Theorem 2.9 that J particularly geometry. Imagine you were trying to map N on 1 0 .(ail) “ 12 “ 13 “ 14 “ 15 “ 16 “ 17 “ 18 • 2 <-> 0. “21 (“22) “23 “24 “25 “26 “27 “28 ■ 3 O O.“31 “32 (“331 “34 “35 “36 “37 “38 • 4 <-> O.a.41 “42 “43 (“44) “45 “46 “47 “48 • 5 O 0.051 “52 “53 “54 (“55) “56 “57 “58 • () <-> 0.O61 “62 “63 “64 “65 (“66)“67 “68 • All real numbers were supposed to be paired up, but we are now going to create a real number that was not in that above list, and we will do so using the idea, from the Game of Deduction. The new real number will be different than the first number in its 1st position, different than the second number in its 2nd position, and so on. The number will have decimal expansion Then notice that, although clearly b G (0,1), b is nowhere in our list! We know b is not the number paired up with 1 because b and that number are different in the first position (6, “ n). We know b is not paired up with 2 because b and that number are different in the second position (62 7^ “22)- bi general, we know b is not paired up with k because b and that number are different in the A:111 position “fefc)- So this real number b is not anywhere to be found! Thus we have reached a contradiction; clearly we were unable to pair up all the reals, if b got left out.9 Chapter 2: Cardinality52 1 2 3 4 5 <- 2 3 4 5 Ji Now here is the moral of Theorem 2.9, and its two proofs above. 1Definition. The smallest infinity is |N| (Exercise 2.16), and since these are the counting numbers this infinity is called the countable infinity. remarkably, wonderfully weird this is. See what happened? Our intervals’ lengths add up to | 4- j 4- | 4-----= 1 (and with overlaps, their collective length when mapped to the real line may even be smaller than 1). But the whole real line has length oo! So certainly there is no chance that all the points are covered; not only do the points of N not cover the line, but even if we fatten them up with these intervals, those intervals don't even cover the real line! And any point that’s in the “oo - 1” portion of the real line that is not covered by an interval was certainly not mapped to. So we have all sorts of points that were missed, and so the mapping is far from being a bijection. (And we could instead pick intervals that add up to 0.0001, or any other tiny number. This proof therefore provides a visualization of how we aren’t just missing the one point that Cantor’s diagonalization argument finds, but “most” points are missed.) 10Make sure you take a moment to appreciate how We aim to show that it is impossible for this map to be a bijection there must be points on the real line that were missed. But instead of mapping just these points, let’s make our job slightly harder. Around 1, let’s put a little interval of length Around 2, let’s put a little interval of length Around 3, let’s place a little interval of length g. And so on. Now, when you map the points in 14 to the real line, send over the intervals too (possibly some intervals will overlap; this is ok). We’ll now prove that not only are there points on the real line that weren’t mapped to, but there are even points that these intervals don’t cover! Definition 2.10. If S is an infinite set, then S is countable if |S| = |N|. ) Otherwise S is uncountable. The Moral. There are different sizes of infinity, and |N|, |Z| and |Q| are all a smaller infinity than |R|.10 R eal A nalysis, A Long-Form T extbook 53 Unprovable statements Theorem. Theorem 2.11 {Sizes of infinity). There are different sizes of infinity, with countable infinity being the smallest. Moreover, N, Z and Q are countable while R is uncountable. Currently, 9 of the 23 problems have been decisively resolved (wool), 2 have been resolved provided “it’s improvable” or “it’s impossible” counts (see: Godel’s incompleteness theorem), 7 have been partially resolved (»...'), 3 remain completely unresolved (//Goals), and 2 are vaguely stated and hence hard to classify ( XJ'A/-). Many have driven research mathematics for over a century, and others (including Number 8 better known as the Riemann Hypothesis) may drive mathematical research for centuries longer. Notice that A being a countable set means there is a bijection f : N —> A where /(I), /(2), /(3), /(4),... is a listing of all elements in A. Therefore an infinite set A being countable is equivalent to being able to write A = {cq,02,13,14, • ••}• Above we demonstrated a proof of the following. We now know that |N| < |R|. Here’s one natural question: Is there any infinity between these two? An astounding fact is that, based on the axioms of set theory (called ZFC), whether or not there exists such an infinity is improvable. And what 1 don’t mean is that mathematicians are not smart enough to find the answer; no, 1 mean that they arc smart enough to have shown that no proof can possibly exist. That’s right, there arc statements in math which are impossible to prove and also impossible to disprove (but we are able to prove that they are improvable, amazingly). In fact, the question above is one of the most famous questions in mathematical history. It was asked by Georg Cantor and is called the continuum hypothesis. It is the very first of “Hilbert’s problems,” which are a collection of 23 problems that David Hilbert published in 1900 and presented in-part to the Paris conference of the International Congress of Mathematicians. They were selected as the most important problems for mathematicians to answer in the 20th century. It wasn’t for another 40 years that Kurt Godel proved his Earth-shaking Incompleteness Theo­ rems demonstrating that nearly every mathematical theory contains unprovable statements that Cantor’s question was “resolved.”11 Chapter 2: Cardinality54 Here is the continuum hypothesis, formally stated. |N| < |S| < |R|. Any two points can be joined by a straight lineAxiom 1. Any line segment can be extended to form a line.Axiom 2. Axiom 3. All right angles are equal to one another.Axiom 4. Axiom 5 Unprovable. Unprovable 2.12 (The continuum hypothesis'). There is no set whose cardinality is strictly between that of the naturals and the reals. For any point P and choice of radius r we can form a circle centered at P of radius r. other theorems would 1 our axioms would be But. how does one prove that a statement is unprovable? First, we have to be careful with our language here. To say something is unprovable means that, wit hin I he axioms of our particular theory, the statement can neither be proven nor disprove!!. And so, since all proofs ultimately can be traced back and deduced from just t he axioms, whether something is provable relics fundamentally on the chosen axioms. That said, we are not picking axioms at random; the fundamental axioms that nearly all of mathematics is built on give unprovable statements. Before we discuss those, though, as a smaller, more concrete example let’s consider the axioms for geometry from Euclid’s Elements: (The parallel postulate). If f is a straight line and P is a point not on the line £, then there is at most one line that passes through P and is parallel to A From these axioms, the first theorems of geometry were rigorously proven. 'I he first four axioms you probably agree are 100% obviously true and are line to be assumed. However, if you are only 99% sure that the fifth axiom called the parallel postulate - is obviously true, then you’re not alone. The fact, that the lines trail off to infinity have left countless mathematicians at least 1% uncomfortable, and over the last two millennia mathematicians have hoped that we could do away with the parallel postulate. The problem is that it’s an important property and many of our theorems rely on it. So we don’t want to scrap it; ideally, we would like to deduce it from the other four. If the first four axioms imply the parallel postulate, then the first theorem of geometry can simply be the parallel postulate. Then all of our < still hold just the same, that 1% doubt would be removed, and rock solid — as they should be. R eal A nalysis, A Long-Form T extbook 55 • The five axioms above are consistent (they don’t self-contradict). Axioms M from before, as well as fifth axiom that directly contradicts As a theorem, though, it was shown that the parallel postulate is improvable. But how was this done? The approach (discovered in the 19lh century) is to show both of these: Basically, if you can show that the assumption that the parallel postulate is true leads to no contradictions (which means you can’t disprove it, based on the first four axioms), and the assumption that the parallel postulate is false leads to no contradictions (which means you can’t prove it, based on the first four axioms), then it must be the case that the parallel postulate is neither provable nor improvable! Its truth value is completely independent of your axioms. So, if your “theory” of geometry is based on just the first four axioms, then the above is an approach to show that the parallel postulate is an improvable statement. In particular, the classic Euclidean geometry you learned in grade school is a consistent, theory based on the first, bullet above, and what is now called hyperbolic geometry is a consistent theory based on the second bullet point above (where we assume that for every line there are multiple other lines parallel to it).13 The continuum hypothesis was settled in this same way. As mentioned, ZFC set theory is the most fundamental collection of axioms in mathematics, which nearly all of math is based upon. And Kurt Godel gave a consistent structure satisfying the axioms of ZFC set theory in which the continuum hypothesis was assumed to be true, while Paul Cohen gave a consistent, structure satisfying the axioms of ZFC set theory in which the continuum hypothesis was assumed to be false. Combined, this proves that th(> continuum hypothesis is neither provable nor disprovable (in ZFC). That is, t he continuum hypothesis which asks what is presumably a basic question about the infinite is improvable.14 12Think about this as: the previous Axiom 5. By the way, when someone asks you whether this crazy theoretical math is good for anything in the real world, remind them that although mathematicians developed their theories of hyperbolic geometry simply because they were curious and thought it was fun, decades later Albert Einstein later asserted in his theory of relativity that the the fabric of spacetime more closely resembles hyperbolic space than Euclidean space, and he was quite grateful that some mathematicians decades ago had gotten curious and thought it would be fun to develop this abstract geometric theory. ,4A STRANGE THEOREM THE ONLY WINNING MOVE IS NOT TO PLAY. • These five axioms are also consistent: Axioms 1-4 from above, along with an axiom that says “If £ is a straight line and P is a point not on the line £, then there are at least two lines that pass through P and are parallel to £.”12 56 Chapter 2: Cardinality 2.3 How Many Infinities Are There? mi < mi- B b G A such b € B if and only if b 0 /(6). But since we assumed that f(b) = B, this is equivalent to b e f(b) if and only if b £ /(&), □which is clearly a contradiction. Theorem. We now know of two distinct infinities, but just how many infinities are there? The first theorem in this direction is the power set theorem. Recall that the power set P(A) of a set A is the set of all subsets of A. 15For instance, if A = N, then the domain of f is N and the the range of f is P(N), which is the collection of all subsets of N. For example, maybe f(3) = {2,5,756} and f(4) = {2,4,6,8, 10,12,... }. In general we only know that, for each a 6 A, is some subset of A. Proof. Assume for a contradiction that |A| > |P(A)|. That is, assume that there is a surjection f from A to P(A).15 Since f is a surjection, for every T C A, there is some element t 6 A where /(t) = T. To reach our contradiction, we will construct, a set B C A which is not hit. For each a there is one special property about the set /(a) that we are going to care about: Is a G f(a) or is a f(a)? (In the footnote, for instance, 3 £ /(3) while 4 G /(4).) In general, consider the set of all elements a such that o £ f(a), and call this set B: {a G A : a f(a)} . By the above, if we can show that that there is no b where /(&) = B. then we are done: we will have discovered an element of P(A) that was not hit by /, a contradiction. Claim. There is no b G A such that /(&) = B. Proof of claim. Assume for a contradiction that there does exist some that f(b) = B. Note by the definition of B that Theorem 2.13 (Ml < |P(A)|). If A is a set and P(A) is the power set of .4, then R eal A nalysis, A Long-Form T extbook 57 Proof. By Theorem 2.13, the following is a chain of distinct infinite cardinalities iw(N)))i<mw))))i<-.-. □|N| |R(N)| |P(P(N))| |B |<|P(B)|. (z.) IN < |B| TOI = IN, which is impossible. □ A day that will live in infinity! 16 Super Cool Corollary. Corollary 2.14 {There exist infinitely many infinities). There exist infinitely many distinct infinite cardinalities. Here’s the contradiction: The cardinality |P(B)| here’s why: If it were that |b| < |B|. But can not possibly be in A. And equal to |b| for some b £ A, then since b C B we would know combining this with (/■), Now, returning to the question about how many infinities are there, we can see from the above theorem that there are infinitely many infinities! So, in fact, there are more infinities than we can imagine. There are more than infinity of them, for any of the infinities! This seems to tear at the very definition of cardinality. Shouldn t every set have a cardinality? Well, yes. But here’s the squeeze: it turns out that there was another contradiction in the above, when referring to A as the set of all infinities.” In fact, such a collection is not even a set. Ok, so we can identify infinitely many infinities. But then here’s the next question: we have been talking all day16 about how there are different infinities, so when we say there are infinitely many infinities, which infinity is it? By the above there arc at least countably many infinities. But is there an uncountable number of infinities? More? Similar to the continuum hypothesis, there is not even an answer to this question. In some sense, the “number” of infinities is more than any infinity. Why? Assume for a. contradiction that A is a set which contains a set of each infinite size (a set of size |N|, a set of size |R|, and all the rest), and let B be the union of all of the sets in A. The contradiction comes when we consider P{B). By Theorem 2.13, Chapter. 2: Cardinality58 “No one shall expel us from the paradise that Cantor has created.” -George Gamow 1' Or, less melodramatically: There was a young fellow from Trinity, Who took \\/oo. But the number of digits Gave him the fidgets; He dropped Math and took up Divinity. If you find this material a little disquieting, you are not alone. When Cantor’s theorems were first published a century and a half ago, many of the great mathemati­ cians of the day responded with disgust. Henri Poincare called it a “grave disease” infecting mathematics, Leopold Kronecker accused Cantor of being a “corrupter of youth,” and many Christian theologians thought his work against the notion of a unique infinite was an affront to “God’s exclusive claim to supreme infinity.”17 Cantor struggled with this for decades. On the other hand, if this material interests you, then I applaud you and encourage you to read up on Russell’s paradox, as it. is the next step down a fascinating rabbit hole (which, quite literally, is a bottomless pit of mystery). And you should know that Cantor’s legacy has been fully restored. The criticisms of the past have been replaced ten times over with praise and accolades. One early defender was t he great David Hilbert. Towards the end of Cantor’s career, Cantor was awarded the highly- prestigious Sylvester Medal by the Royal Society for his mathematical research. Some criticized this move, but Hilbert—characteristically ahead of his time recognized the brilliance and importance of Cantor’s work, saying: R eal A nalysis, A Long-Form T extbook 59 Notable Exercises • Exercise 2.4 deals with a small and subtle point that is commonly assumed without argument. However, it’s probably good to point out that such things do formally need justification. In this exercise you are proving that if, say, you know that |A| = |B| and |B| = |C|, then you also know that |A| = |C|. Having these standard properties means that the equal sign here is an equivalence relation. o Exercise 2.16 is notable in that there are many mysteries about sizes infinites that remain either very difficult to solve, or impossible to solve. Indeed, work on the continuum hypothesis has told us that it is improvable whether |R| is the second smallest infinity. Even the second smallest is unknowable! But as for the smallest infinity that, we do know. And this exercise determines the answer. • Exercise 2.22 points out that most numbers we encounter in our lives - or which come to mind when try to think about a random number are ridiculously well-behaved. As far as the real numbers go, conditions like rational and algebraic are the rarest of exceptions, rather than the rule. o Exercise 2.12 highlights an important property of what are called open sets, which we will discuss in much greater detail in Chapter 5. See Theorem 5.5 • The fact that the rationals are both dense and countable has enormous conse­ quences throughout real analysis. Exercise 2.10 is an example of all this, and Exercise 2.13 emphasizes how few rationals there are in comparision to the numbers surrounding them. Related ideas will return importantly in the area of real analysis called measure theory. If you get a PhD in math there’s a good chance that measure theory will be the first topic you’ll cover in your graduate real analysis class. Chapter 2: Cardinality60 Exercise 2.1. (a) List all the elements of P({a, b, c}). Exercise 2.2. Prove that |{e\" : n € N}| = |N|. (a) (0,oo) and (l,oo) (b) (0,oo) and (-oo, 3) (f) Z and { (c) (0, oo) and (0,1) (h) [0,1] and (0.1)(d) R and (0, oo) (a) Show that X ~ A. A. C.(c) Show that if A ~ B and B Exercise 2.5. is also(b) Prove that if A„ is a countable set for each countable. (b) Determine a formula for the number of elements in the power set of an n-elenient set. (e) R and (0,1) ,|,i, 1,1,2,4,8,...} (g) {(), 1} x N and N be found at LongFormMath. com.Note.' Hints and solutions to select exercises can (a) Prove that if A and B are Exercise 2.4. This problem shows that “equinumerosity is an equivalence relation.'' (This justifies the notation |X| = |B|.) Let A, B, and C be sets. For this problem only, we’ll write A ~ B to mean that A and B are equinunicrous, meaning that there is a bijection A B. Exercise 2.3. The following pairs of sets have the same size, and so there exists a bijection between them. Write down an explicit bijection in each case. You do not need to prove your answers. lsA4o’ chapters, mo’ problems T~1 • 18 Exercises countable sets, then A U B is also a countable set. CO n € N, then the set |^J An (b) Show that if 4 ~ B then B C, then A R eal A nalysis, A Long-Form T extbook 61 Let. A, B C R. We defineExercise 2.7. (a) Give (1>) Give (c) Give Exercise 2.8. Exercise 2.9. uncountable? Exercise 2.11. (a) X is finite or countably infinite. (b) There is (c) There is an onto function g : N —> X. Exercise 2.12. Exercise 2.13. Show that there are uncountably many irrational numbers. Exercise 2.10. Let S be the set of sequences (are) where, for each n, an G {(), 1}. Is S countable or uncountable? Exercise 2.6. Show that |N| - |Z| by finding an explicit, bijection from N to Z. You do not need to prove your bijection works. (a) Describe a way to partition the set N into 6 subsets, each containing infinitely many elements max{|Ai|, Is |Z x N| countable or a one-to-one function f : X —> N. (b) Describe a way to partition the set N into infinitely many subsets, each containing infinitely many elements. Exercise 2.14. Prove that N x N is countably infinite by showing that the function / : N x N —> N defined by f(m, n) = 2n-1(2m — 1) is a bijection. (a) Give an example of a collection of countably many disjoint open intervals, or prove that, this does not exist. Suppose that X is a nonempty set. Prove that the following three assertions are equivalent: (b) Give an example of a collection of uncountably many disjoint open intervals, or prove that this does not exist. an example of sets Aj and B\\ where |Ai • B|| < an ex<imple of sets X2 and Z?2 where |4 2 • Z?2| > max{|X2|, |B2|}. an exaniple of sets As and B,\\ where |A3 • B3| = max{|A3|, |B3|}. For which of the above does there exist an example where one or both of the sets are infinite? A ■ B = {« • b : a G A and b G B}. Chapter 2: Cardinality62 Exercise 2.17. Prove that the set of all finite subsets of N is countable. Exercise 2.18. Is the subset of rational numbers dense in R? the unit circle in R2 (that is, + an-ix nanxn + 4------ F apr + <?o = 0 where each a, 6 Q. If a real number is not algebraic, then it is transcendental. (b) Prove that there are uncountably many transcendental numbers. Exercise 2.19. Let A be the set of polynomials with rational coefficients. Prove that |j4| is countable. Exercise 2.15. Let J7 be the collection of all functions f : R —> R. Prove that T7 is uncountable. Prove that the set of points on 1}) is uncountable. m ... — : m,n € Z and 1 < n < 10 n Exercise 2.16. Show that the smallest infinity is |N|. That is, show that if A C N. then either A is finite or |4| = |N|. Exercise 2.21. {(x,y): x2 + y2 = Exercise 2.22. A real number x is said to be algebraic (over the rationals) if it satisfies some polynomial equation (of positive degree) Exercise 2.20. Show that |P(N)| = |R| by finding an explicit bijection from P(N) to R. You do not need to prove your bijection works. (a) Prove that there are countably many algebraic numbers. (You may use the fundamental theorem of algebra which says that a polynomial with degree n has at most n real roots.) R eal A nalysis, A Long-Fokm T extbook 63 Open Questions i*i i |X2|>|% 3|>---. Question 3. Assuming the Axiom of Choice, there is strictly decreasing in cardinality: Question 2. Suppose that for all sets X and Y, the implication |X| <* |Y| implies |Y| < |A'| holds. Must the Axiom of Choice he true? (This is not obvious!) Now here’s the open question: does the non-existence of such a sequence imply the Axiom of Choice? no infinite sequence of sets The next two open questions involve the Axiom of Choice, which is the innocuous assertion that for every family X of nonempty sets there is a function f assigning to each x e X a member of a; (that is, /(a:) € a;).20 At the beginning of the 20th Century, the Axiom of Choice inspired some controversy. Today, the Axiom of Choice is mostly accepted by mathematicians, though it is still worthwhile in logic and set theory to understand when uses of it are necessary. For sets X and Y, write |X| < |Y| if there is a one-to-one function from X to Y. And write |A'| <* |Y| if there is an onto function from Y to X (or if X is empty). In the presence of the Axiom of Choice, the orderings < and <* are equivalent. I'or further reading, check out the delightfully-titled Combinatorial cardinal characteristics of the continuum by Andreas Blass. To make sure you understand this axiom, consider the difference between the cases (i) when every member of X is a set of integers and (ii) when every member of X is a set of real numbers. The Axiom of Choice for sets of integers is a theorem of set theory with the Axiom of Choice removed, but the Axiom of Choice for sets of real numbers is not. For subsets X and Y of N, wc say that X splits Y if both Y D X and Y \\ X are infinite. A family F of subsets of N is unsplittable if no single subset of N splits every set in F; moreover, F is cr-unsplittable if even countably many sets don’t suffice to split every member of F. (As an exercise, show that no countable family can be unsplittable.) Question 1. Must the least size of an unsplittable family equal the least size of a <7-unsplittable family? Notice that every unsplittable family is an infinite subset of the power set P(N), and under the continuum hypothesis all such subsets are countable or have size |R|. Therefore, by applying the exercise, a positive answer to Question 1 would be directly provable, while a negative answer would have to be obtained in a universe where the continuum hypothesis fails. Quesiton 1 is one of many questions about what you might call almost-countable cardinals but are typically called cardinal characteristics of the continuum.1'1 Chapter 3: Sequences Basic Sequence Definitions3.1 251 4, 3 , 521 4-4- 1 4-4- 4 16 251 9 the formal definition of a sequence. Definition 3.1. A sequence of real numbers is a function a : N —> 1R. So in the above example we would have «(2) = 4, a(3) = 9, ai — 1, a2 = 4, «3 - 9, (1.4 = 16, a5 — 25, 65 Definition. ‘From a new and in general a(n) — n2. As you have probably seen, it is more common to write this using subscript notation: a(4) = 16, a(5) = 25,... a theoretical standpoint this is good thing, as it means we do not need to formally develop mathematical object in order to discuss sequences. «(1) = 1, This gives us The next major topic is that of sequences. You probably intuitively think of a sequence as an infinite list of numbers, like This is a good way to think about them, but formally a sequence is defined to be a function.1 If you think about mapping 1 to 1, 2 to 4, 3 to 9, and, in general, n to the nth number in the list, then we get the picture: 4 9 , 16 ) 5 66 Chapter 3: Sequences Note 3.2. • Sometimes we will give an explicit formula for an, like n2 (b) For the sequence 3.2 Bounded Sequences Note. (1 stuck the solution in a footnote, in case you want to try it without accidentally glancing at the solution.2) Example 3.3. (a) Write the sequence a(n) = 2”-1 in the form («i, rm. 03....) while other times we may give it a recursive definition, like with the Fibonacci sequence: We will also often write sequences like this, just don’t forget that a sequence is really a function from the N to R where a(n) equals the nth number in the sequence. • As mentioned, oftentimes we or (ai, (12,(13, ■ • ■) or «|, <12, U3.... to• Sometimes we write (an)^Li denote the sequence <z(n). write an instead of a(n). or (an) As is often the case in math, we want to describe how “nice” something is. In calculus, polynomials were quite nice because you knew how to differentiate and integrate them. Oftentimes you could even factor them. Exponential functions like /(x) = 2X were pretty nice, and logs weren’t soooo bad. Likewise, we want to describe what it means for a sequence to be “nice.\" We start with the notion of a sequence being bounded, which is one nice property. 2 Solution, (a) (1,2,4,8,16,...). (b) One answer: an = n2 + 2. □ an — an-l + «n-2 with the initial conditions of aj = 1 and a2 = 1- But of course, any function from N to R gives a sequence, not just ones with nice formulas. For example we could have (14.238,7,71,-^,6,0,^,.. J. (3,6,11,18,27,...), determine a formula for an. R eal A nalysis, A Long-Form T extbook 67 L < an < U Here’s a fact that follows quickly from definitions. L < an < U N < c. Then L < an < U, C < -| L\\ <L <a n <U <C. So we see that □ after this example for intuition on where this came from. Definition. -C < an < C. And so, by setting L — — C and U — C we have shown that Proof. Recall again that boundedness means that there exists a lower bound L € R and an upper bound U £ R where JSee pictures for all n. First where Now let’s prove each direction. we will prove the backwards implication. Assume that, there exists a C £ R for all n. Definition 3.4. A sequence (an) is bounded if the range {an : n £ N} is bounded. I.e., if there exists a lower bound L £ R and an upper bound U £ R where Proposition. which means that a„ is bounded. This concludes the backward direction. Now we will prove the forward implication. If an is bounded, then there exists such an L and U. Let C = max{|L|, U}.3 Note that this implies that C >U and (since C > |L|, that) — C < —|L|. Thus, for all n we have Proposition 3.5 {Bounded O |an| < C). A sequence (a,J is bounded if and only if there exists some C £ R for which \\an| < C for all n. -C < an < C, which by Proposition 1.12 is the same as |an| < C. 68 Chapter 3: Sequences Here, C = U Here, C = |£| 0/0 4 <■-> 0 Here. C = |£|Here, C = U • Let an (an) = (2 + sin(l), 2 + sin(2), 2 + sin(3), 2 + sin(4),...) -F ()+ £ U One way to think about the forward direction is to note that what “|«„| < C for all n” means is that you can draw a circle of radius C, center at 0, and catch all of the «„ points inside your circle. Below are examples of this. is bounded because |an | < 1 for all n. 2 + sin(n). Then the sequence is bounded. To see this, recall that -1 < sin(n) < 1 for all n, and so 1 < 2 + sin(n) < 3 for all n. At this point we are done by the definition of boundedness. Or we could note that |an| < 3 for all n, and so we are done by Proposition 3.5. □ Example 3.6. Here are a couple examples. • Let an - (-1)\"-. Then by Proposition 3.5, the sequence n 1111 R eal A nalysis, A Long-Form T extbook 69 Convergent Sequences3.3 0 there exists'1 When this happens, a is called the limit of (an). £ — £ which is equivalent to a- £ < an '*Note: When 6 - 0.01 < < 6 + 0.01 5.99 < an < 6.01. Definition 3.7. A sequence (an) converges to a € R if for all e some N such that |an — «| < £ for all n > N . more convenient, you may assume that N g N. So our sequence has to live inside of this interval after some point N. And we think about £ as being really small. For example, if a = 6 and £ = 0.01, then after some point N, we know that every term of the sequence satisfies “The sequence - converges to 0” is a true statement, and after taking calculus you probably already have a pretty good understanding of what that state­ ment means. But real analysis is an advanced math course, so we need to be precise about what convergence means. The following provides that precision. Definition. ____________ This is an important definition. This is the first (of many) weird-looking def­ inition^) in this textbook, and at this stage it is really important that you fully understand it. So brew a pot of tea, find a comfortable Thinking Chair, and ponder it carefully; don’t move on until that pot is emptied. The better you understand it now, the easier the rest of the course will be. Here are a few more comments to help: Comment 1. The final condition that we are aiming to reach is that \\an — «| for appropriate n. Note that this is the same as Chapter 3; Sequences70 a + e i a ------ H - t <- So you see, smaller values of £ typically require larger values of TV. N2 Comment 2. Below is the important picture to keep in your head. Note that after the N, all the points are inside the shaded region between a — £ and a + £. + N a+ £2 -- a a - e2 — Now, if you picked a smaller value of e, which we will call e2, you will need a bigger value of N (called W2) to guarantee that all the points after N> are inside the shaded region. Comment 3. You can think about the converging sequence as the tragic story of a rebellious youth. When young, he may be all over the place on any given day, living his life and getting into mischief. But eventually society settles him down. When e = 100 (miles) he has a car, and with his gang of misfits he can roam wherever he pleases, causing mayhem. But when £ - 10 (miles), the value of Aq represents the age at which he is placed on at-risk watch and is not allowed to leave the city (maybe A\\ = 17 years old). Then £ = 0.1 (miles) represents the age N2 at which he really gets into trouble and is placed under house arrest. And e = 0.01 represents the age A3 at which he is sentenced to life in prison and will forever more be contained within a small wing of prison.0 5When I started this paragraph 1 did not anticipate it getting so dark. I oven dropped the solitary confinement stage (or beyond) for that reason. Poor guy. Stay in school, kids. R eal A nalysis, A Long-Form T extbook 71 Till' final comment is about notation: Notation 3.8. The following are notationally equivalent. • a„ —> a as n —> oo • «„ —> <i Example 3.9. Show that the sequence (°n) — converges Io 0. 1 n Notation. Solution 1. 1 N 0. By the Archimedean property, there is N, we have - < ’ n • lim an = a n —>oo • The sequence (n„) converges to a Using the Archimedean property will not usually work, though. We need a more general approach. The fundamental idea behind Solution 2 (and most future solutions to this type of question) can be illustrated with the following. Comment 5. If you haven’t spent considerable time thinking about this, or if you do not yet understand it perfectly, go brew another pot and settle in. You’ll thank me later. 2 3 4 5 Comment. 4. What the definition means is that eventually the points get “arbi­ trarily close” to a. Maybe the first few points (ai,«2, . ■ • are not super close to a, but eventually they both get super close to a and stay super close to a. And we really do mean super close, as it has to hold for all e > 0. There is an N for which all the points from a/y onward are within 0.1 of a, but there’s also some other N-> for which all the points from a^2 onward arc within O.OOOOOOOOOOOOOOOl of a. Any positive value of e has to work. l;-» And so, by the definition of sequence convergence (Definition 3.7), we may conclude that. y 0. [ [ Fix any e — < e. 'This N has the property that, for all n for all n > N , an N for which < e. That is, Chapter 3: Sequences72 Now here is the outline. Outline 3.10. To show that an —> a, begin with preliminary work: Now for your actual proof: Let e > 0.1. N.Let N be the final value of n you got in your scratch work, and let n2. 3. Outline. Redo scratch work (without s’s), but at the end |a„ - a| < E. use N to show that 0. Scratch work: Start with |an — o.| < s and unravel to solve for n. This tells you which N to pick for step 2 below. Fingers-on-the-nose game. This is tough to type out, but here goes nothing.1’ Can you find a way to do this: Stick your left arm forward; stick your right, arm forward, crossing your left so that your right wrist is in top of your left wrist, hands palm-to-pahn; interlock your fingers; move your hands so that your pinkies are against your chest; stick just your two pointer fingers up so that your left pointer finger’s fingernail is against the left side of your nose, and your right pointer finger’s fingernail is against, the right side of your nose. Now: Unwind your hands without your pointer fingers leaving your nose. The game’s lesson: If you don’t know how to begin, then oftentimes by starting at the end one can unwind the whole problem and discover the key for how to begin.7 cFind me at a conference if you’re confused and I’ll show you it. It’s fun. 7 From Alice in Wonderland: “‘Begin at the beginning,' the King said gravely, ’and go on till you come to the end: then stop.”’ This is good advice, provided you can find your way from the beginning to the end. But if you find yourself going in loops without reaching the end, instead try to find your way from the end to the beginning. Sometimes that’s much easier, just ask an 8 year old trying to solve one of those pencil maze puzzles.8 ®Fun Fact: Essentially all9 of those mazes can be solved by simply following the wall on your right wherever it goes. ’Technical condition is that it must be “simply connected.” If it fails, though, then you may have to start over.7 R eal A nalysis, A Long-Form T extbook 73 Example 3.9, again. Show that the sequence («„) = converges to 0. We follow Outline 3.10. We want the following: £ £ £ □ 1 77 i l/£ which by theSo as above wi |an - a| IM 1 n 1 - < n. E 1111 (As you saw. in the above we essentially did the important, steps of Outline 3.10 in reverse order. We started with Step 3, undoing a bunch of algebra to find an N that will work for Step 2.) Scratch Work for Solution 2. This second solution is how most of our solutions will go, and it will use Outline 3.10. Given an arbitrary £ > 0, we will find what specific N guarantees that, for every n > N, we have |an — 0| < £. For example, if £ = |, then N = 2 works. If £ = |, then N = 3 works. You see the pattern, but here is how we might come about it in general: long as we choose N = -, then for any n > N we will have n £ ill imply t hat —> 0, as desired. The solution below is how we formally solve it. That is, \\an — a| < £. So by Definition 3.7 we have shown that - —> 0. |«n - a| = - - 0 = - < | n n Solution 2. Fix any £ > 0. Set N = Then for any n > N (implying i < 1 n Chapter 3: Sequences74 Show that an -> 5 as n —> oo.Example 3.11. Let an We follow Outline 3.10. We want the following: e -5 £ n2 N we will have zi N.Then for any nSolution. Fix any e > 0. Set N = |an - a| □-> 5. I 1 1.1 W2 ~ “ 1/e Scratch Work. Again, we first play around. We start with where we want to get to (that |a„ - a| < e), and then do some algebra to figure out which values of N would give this. That is, |an - a| < e. So by Definition 3.7 we E 1 -7= < 5-1 |an - «| 5-1 7?/ So as long as we choose N = -1, then for any n > N we will have zz > which \\/E \\ - by the above will imply that 5 — 5, as desired. But here's the formal solution: 1 have shown that 5 — — 1 “ 5 1 1 1 R eal A nalysis, A Long-Form T extbook 75 Example 3.12. Let an = £ £ n 5 0. Set A = j — 2. Then for any n > N, |n„ - a| = That is, |an - a| □ 3n + 1 n + 2 . Prove that lim an = 3. n—>oo - — 2 £ 3n T 1 n + 2 3n + 6 n + 2 Scratch Work. Again, we first play around. We start with where we want to get to (that |an - a| < e), and then do some algebra to figure out which values of n would give this. We want the following: 5 N + 2 This next one 3n + 1 n + 2 13n + 1 — 3n — 6 ■ n + 2 | -5 n + 2 5 ----- x < e n + 2 5 - < n + 2 £ £. So by Definition 3.7 we have shown that -> 3. Solution. Fix any e in + 1 n + 2 ~ 5 \" (|-2)+2 I in + 1 | n + 2 5 n + 2 5 _ 5/e “ |an - a| < £ 3n+ 1 n + 2 3(n + 2) n + 2 So as long as we choose N = ---- 2, then for any n > N we will have n > £ which by the above will imply that ~* 3, as desired. looks a bit trickier, but the same procedure works. Chapter. 3: Sequences76 5. Prove that a„ -> 5.Example 3.13. Let an Solution. Fix any e > 0. Set N 17. Then for any n > N. |an - <i| = |5 - 5| = ()<£■. That is, |a„ - a| < e. So by Definition 3.7 we have shown that 5 —> 5. □ ^-neighborhoods Related to all this is the notion of an e-neighborhood of a point is the interval (a — s, a + c). I <- a Definition 3.14. Let e > 0. The e-neighborhood of a point a |a„ - a| < s |5 - 5| < e 0 < E. Scratch Work. Since a„ is the constant function 5, this means that, «i = 5, a2 = 5, «3 = 5, etc. That is, this is the sequence 5,5,5,5,5,.... It makes perfect sense that a,, -> 5, but how do we show it? To use Definition 3.7, we need, for each s > 0, to find an N for which, for every n > N, we have |a„ - 5| < e. Sometimes in math the “easiest” problems are the hardest to work out, because some of the usual steps are missing... We want to figure out for which n we have |a„ - a.| < s. But: And this is always true, since we chose e > 0! So if we choose any N at all. like N = 1 or N - 7t or N = 17, we are guaranteed for it to work out. You can think of an E-neighborhood as the interval centered at a of radius e: Definition. R eal A nalysis, A Long-Form T extbook 77 With this, 3.4 Divergent Sequences Of course, not all sequences converge. if, for all M > 0, there • Otherwise, («„)’s limit docs not exist. Scratch Work. We want Definition. Definition. So setting N = \\/~M should work. 10 lim a.n = -oo) if, for all M < 0, there n—>oo / N. • («n) diverges to — oo exists11 one could rephrase the definition of convergence like so: are more straightforward to show, so we will notation: some N such that an < M for all n Note: When more convenient, you may assume that N E N. See Footnote 10. = n2. Show that lim an = oo. n—>oo Divergence can come in three forms. • (an) diverges to oo exists11 some N such that an an > M n2 > M n > . notation: lini an = oo ) i n—>oo / M for all n > N . I.vpically the first and second types start with an example of one of those. Example 3.16. Let Definition 3.7. A sequence (an) converges to a & R if for all e > 0 there exists10 some N such that an is in the e-neighborhood of a for all n > N. Definition 3.15. If a sequence (an) does not converge, then it diverges. On page 70, an e-neighborhood (of y-values) is drawn as a shaded horizontal band. Following that figure is a second figure where an e2-neighborhood is shaded. Chapter. 3: Sequences78 > N, □ A we have A' such that dunk” is “there exists a university * f Note. Solution. Fix any M > 0. Set. N = \\Zfl7. Then for any n • There exists some e > 0 where for all N there exists some n |a„ - a.| > e. So to show that. a„ -ft a, we need to show the negation of that statement. That is, we must show that • For every f > 0 there exists some N such that for all n |a„ - a| < e. Note 3.17. One way to show that. an diverges is to show that «„ ■/> a for any a. Note first, by Definition 3.7, that. “an -> a” means that Make sure this makes sense to you. How do you show that something does not happen for all s > 0? Answer: You find one positive e for which it fails. It’s like saying “Every university in America has a student that can dunk a basketball. How would you show that that’s not true? All you must do is find a single university where no student can dunk.12 You don’t have to check them all as soon as you find one school that has no student, that can dunk, you’re done. Conversely, to disprove a “there exists” statement, you do have to demonstrate that all of the possibilities fail. Now here’s an example of showing a sequence diverges (of the “does not exist variety). Example 3.18. Let an = (-1)\". Prove that (a,,) diverges. Note: In practice this is usually done with a proof by contradiction. You assume that an -> a and then you demonstrate a specific e where it fails, giving the contradiction. an = n2 > N 2 = = M. Scratch Work. This is the sequence —1,1, —1,1, —1,1, • • • It makes sense that there is no a for which an —> a. It certainly doesn’t converge to 1, since half the time it is at -1 which Ls far away from 1. (If we let s = 1/2, then there is no N for which, for every n > N, an is inside of the shaded band; see below.) 12But once you’ve found such a university, you do have to cheek all the students, since the negations of “for all universities there exists a student who can such that for all of its students, they are unable to dunk.” So we have shown that if n > N, then an > M . Therefore lim a„ = oo. n—>oo What if the sequence’s limit, does not. exist? Then how do we show a sequence diverges? R eal A nalysis, A Long-Form T extbook 79 -> -1 liveiLZL If,, is even and n N, then we have that Unwinding this: > N, then we have that + X 1 + e 1 1 ~£ <-- ydd_JL If n is odd and n Solution 1. Let e = 1. Since a > N , w< by eases. It likewise can’t converge to -1. One might guess 0, since that is halfway between — 1 and 1, but that also doesn’t make sense since a„ is always of distance 1 from 0, so it’s certainly not getting “closer and closer” to 0. (Or, E = 1/2 works again.) Ok, so we believe t hat it doesn’t converge to anything, and we will use Note 3.17 to show it. We will use a proof by contradiction. We will assume there is some a for which a.n —> and then following Note 3.17’s lead we will find a specific e for which, for every N, there exists some larger n where an is not. within e of a. In particular, note that, if we choose £ = g, then whatever we choose for a the sequence will be lari her than | from a either half of the time or all of the time. 1-1 -«l < 2- |l-«l < |- —i<l —a<- 2 2 3 1 — < —a < — 2 2 1 3 - < a < —. 2 2 Assume for a contradiction that there is some « for which an -> a. 2- oince we assumed that an —> «, there must be some N for which, for all :■ have — a| < That: is, |(—1)” — a| < | for all n > N. We proceed Chapter 3: Sequences80 Unwinding this: <- 2 — |(1 — a) + (1 + a)| < |1 — a| + |1 + a|. But each of the absolute values on the right |(1 — a) + (1 + a)| < |1 — a| + |1 + a|2 So 2 < 1? Preposterous! We have our contradiction. Now here’s a second proof of, which is mostly black magic (AKA the triangle inequality).13 But this is a contradiction; clearly no a can be inside of both (|, | ) and (- 3 . And so we must have an -ft a. are assumed to be less than So, 13Ignore this if you like to sec magic tricks without knowing how they’re done: Intuitively, what the following proof is actually saying is that if (—1)\" —> a (w’here a is some fixed number), then eventually all the points of the sequence must be within e = 0.5 of whatever a is. However, the distance from -1 to 1 is equal to 2, and so the distance from -1 to a, plus the distance from a to 1, should be at least 2. But since £ — 0.5, those two latter distances are too small, giving a contradiction. l_— [/-I \\ 1 / Essentially, focusing on the even case created a ball around 1, of radius 4- which an would have to live within for all n > N. The odd case created a ball around — 1. of radius which an would have to live within for all n > N. But these two balls are disjoint, so an can’t live in both, creating a contradiction. 'KA -r-4 -i : 1 , i - < -1 — a < - 2 2 1 3 - < — a < - 2 2 3 1 - - < a < — . 2 2 14- Solution 2. Again, let £ = ',. The even case still gives |1 - a| < 1, and the odd case still gives |-1 - a| < although in the odd case we will rewrite | — 1 — a| as |1 +a|. Then, by the triangle inequality R eal Analysis, A Long-Form T extbook 81 4,<u I )II -> ba And this is how -> Proposition. Proposition 3.19 (Limits are unique). A sequence can not have more than one limit. we will reach a contradiction: there is no way for an (n > N) to l>c in both circles at the same time. Of course, if a. and b are really close together we will need to choose a smaller £ to make sure the intervals remain disjoint, but that’s the only difference.11 z z « b Next is something that you probably already assumed was true and wouldn’t have thought we needed to prove, but when building a theory we shouldn’t assume anything. Scratch Work. The idea in the solution of Example 3.18 should be able to be tweaked to work here. The idea is to assume that you have a sequence an that converges to some a and also converges to some other number b. Since it converges to a, after some point all the sequence points arc within e of a, for some really tiny e. But since it also converges to b, the same thing must happen there too. So if e is small enough that those two regions are mutually exclusive, we will have a contradiction. ''By now it has probably been ingrained in yon that s is always a small number; this will probably follow you throughout your mathematical career. Paul Erdos was one of the most interesting mathematicians in history. He published over 1,500 papers in his life more than any mathematician in history and yet never held a permanent job. He didn’t want one. In an age before air travel was common, he would constantly be bouncing between universities and the homes of collaborators. He also had an interesting vocabulary. Alcohol was called “poison.” Women were “bosses,” and when a man marries a woman he has been “captured.\" People who retired from research mathematics had “died” (this one caused some terrible miscommunications), while those who actually did die had “left.” And me telling you all that is just lead-up to what he called kids. He loved kids, but because they arc small, he called them “epsilons.” For instance, if the ratlins of those balls is a third of the distance between a and l>. it should work out. With that intuition in mind, here’s the proof. Chapter 3: Sequences82 and i.e., and In particular, and (hi i which is clearly a contradiction. □ <- a bH y b 4- 2tz “n<- 3_< b-a b+~ 2b + a 3 ’ But this then implies that b - a b — a a -----— < an < a + —— o <5 b - a b — a b — a 3 b + 2a But since a < b, we must have b + 2a < 2b + Scratch work for second proof. There is a second proof that is even a little shorter. The idea is to show that |a - b| < e for all £ > 0, and t herefore |o — b| = 0 (officially, this is because of Exercise 1.13), implying that, a = b. Intuitively, the way to show this is to say that if an is getting really close to both a and b, then that forces a and b to be close to each other. If we demand that an is within e/2 of both a and b, then the distance between a and b can’t be more than e: 2b + a 3 b — a b ----- < (hi h — a (hi - b < —— . a.15 Using the triangle inequality we can then bound the distance from a to b by finding the distance from a to an, plus the distance from an to b. That’s the idea, now here’s the formal proof. 15Since b is larger than a, if you have 2 b’s and 1 a, that’s larger than if you have 2 a’s and 1 b. Alternatively, just add “a + b” to both sides of “a < b.” Proof. Suppose for a contradiction that an -> a and an —> b, where a b; moreover, without loss of generality let’s assume a < b. Let e = (b - a)/3 > 0. Since an —> a there exists some N\\ such that, for n > N\\ we have |a„ - a| < (b — a)/3. Likewise, since an -> b there exists some N2 such that for n > N2 we have |an - b| < (b — a)/3. Let N = max{Ni,N2}. Then for n> N (implying n > N] and n > N2), we have both |a„ - a| < (b - a)/3 and |an — b| < (b — a)/3. That is, for such n we have R eal A nalysis, A Long-Form T extbook 83 (triangle inequality) A) and n > A2)(n > N implies n ->+ N Proposition 3.20 (Convergent => bounded). If (aH) is a convergent sequence, I lien (an) is bounded. |« - b| = |a - an + an - 6| < |a - an| + |an - 6| = |an - a| + |an - b| < e/2 + e/2 a + 1 a a — 1 Second proof. Let that for n > N\\ we N-> such that for n > any n > N. Then e > 0. Since e/2 > 0 and <in —> a, there exists some Ny such have |an - a| < e/2. Since e/2 > 0 and an -> b, there exists some we have |a„ - < e/2. Let N = max{A|, Nf} and pick Since this holds for any £ > 0, we have shown that |« - b| < Which (by Exercise 1.13) implies that |« — 6| = 0, and hence a = can converge to only a single point. ; £ for all £ > 0. b. So indeed, an □ Scratch Work. We arc told (an) converges to some a. By the definition of convergence (Definition 3.7), that means that, for any £ > 0, eventually all the terms of I he sequences end up within £ of a. Suppose £ = 1 and N is the value for which n > N implies |a„ — «| < 1. Perhaps the picture looks like this: We have been talking about bounded sequences and convergent sequences. The following is a nice proposition which combines these. It also emphasizes the idea that bounded sequences are nice, but convergent sequences are really nice. It demonstrates this by showing that the collection of convergent sequences are a (proper) subset of the collect ion of bounded sequences. 84 Chapter 3: Sequences |a„ - a,I 1 for all n > N. That is, a - 1 < an a + 1 for all n N. Let U = max {ai, a2,03, • • •, (in , a + 1} and L a + 1 < U,L < a 1 a H and hence L < a„ < U. Combining these cases, we have that L < (In < U □for all n. And thus, by definition, (an) is bounded. 1), there is some N where |an ct| 1 ■ Second Proof. Since (an) is convergent, let a be the value it is converging to. By the definition of convergence (with £ = 1), there is some N where Now, if we only cared about the points after N, then we are certainly good-to-go, because all those points are bounded by a -1 and a+ 1. What about the other points? Well, the only others are ai,a2,a3, ...,a N. And since this is a finite collection, there must exist a largest one and the smallest one. The largest one, for instance, is M := max{ai,a2,...,a n}. Combined, each a, either is at most M (iff < N) or is at most a + 1 (if i > N). Therefore the larger between AI and a + 1 is an upper bound on all a,. A succinct way to write this largest value is to just include a + 1 in the maximum. That is, max{ab a2, a + 1} will be an upper bound on all a,. Likewise for the lower bound. That’s the idea, now here’s the proof. There is a second, related proof. It’s a little shorter by using the absolute value version of boundedness (Proposition 3.5: (a„) is bounded if and only if there is some C where |an| < C for all n), which allows you to not worry about lower and upper bounds separately, and instead do them together. min {ai,a2,«3,..., un, a — 1} . Note that if n < N, then L < an < U, since each such an is included in the sets which we are taking the minimum and maximum of. And if n > N. then we already noted that a - 1 < a,, < a + 1, which implies that Proof. Since (a„) is convergent, let a be the value it is converging to. By the definition of convergence (with £ = 1), there is some N where R eal A nalysis, A Long-F orm T extbook 85 C : □ is unbounded sequence, then (o.n) is divergent.” 3.5 Limit Laws I. 2. 3. provided b / 0 and each bn 0.4. 5. Theorem. |a,t| < C for all n, which by Proposition 3.5 means that (a„) is bounded. Laws 1 and 5 ; proven 1, then 2 is Theorem 3.21 (Sequence. limit- laws). Assume that (an) and (b„) are convergent sequences of real numbers such that an —> a and bn —> b. Also assume that c € R. Then, a b' On bn max {|«i |, |az|> |«;t| ■ • •, |ajv|, |« + 1|, |« - 1|} • “If («„) is an Whenever you have deduced a result of the form “P implies Q'' it is worthwhile to think about what the contrapositive says. The contrapositive “not-Q implies not-P” will look different, but it is logically equivalent. In the present case of Proposition 3.20, the contrapositive of “If (a„) is a convergent sequence, then (an) is bounded.” (c • an) —> c • a. Note that if n < N, then an < |an| < C. And if n > N, then a - 1 < an < a + 1, which implies that < max{|« - 1|, |« + 11} < C. Combining these cases, we have that (an - bn) a - b (\"n + b„) -> a + b (a n ■ bn ) a ■ b arc Exercise 3.8, and we will prove Law 3 below. Once you’ve ; very similar (or follows from J and 5 by letting c = —1); likewise, for all n > N. That is, a — 1 < an < a + 1 for all n > N. Consider When you work with limits, it’s good to know what the ground rules are for alge­ braically manipulating them. These live basic properties are usually called the “limit laws.” Chapter 3: Sequences86 will A', implie |«n6n - ab| a6|.as have control a is fixed. |a„6n - ab„ + abn - ab| < |an6n - abn| + |ab„ - ab| ” R| ' |^»| d\" |«| ' |b;i b|. • Since bTl -> b, for any £2 that |bn - b| < £2. Now, going back to what we want to show, there is a clever trick that makes it all work. The idea is to first rewrite bn b, so we can make this small. > N\\. And > N ‘2- Let bn is bounded, so < C. The middle terms cancel out, so those are the same. This is clever, though, because if you now use the triangle inequality, you get something we over: once we have proven 3, then 4 is similar. Those two are Exercise 3.13. So we prove 3 next and leave the rest as exercises. an -> a, so we can make this small. • Since a„ -> a, for any £1 > 0 there exists some such that, n that (o„ — a| < £]. To get this all less than £, we will make both of the products less than f . To get |a„ - a| • |bn| less than | we will have to ensure that |an - a| is less than To get |a| • |6n - b| less than f we will have to ensure |bn - b| is less than (And then be careful so we aren’t dividing by 0.) Scratch Work. Here’s the scratch work for Law 3. We want to find an N such that n> N implies |a„bn - ab| < e. Our two big assumptions are that an -> a and b„ -> b. Here’s what we get from that: Proof. Let £ > 0. Since (bn) converges, by Proposition 3.20 we know that (bn) is bounded; that is, there exists some C G R such that |bn| < C for all n. Let £1 = 2Ce+1 and £2 = oppr- (Note: we need each “+1” to ensure we are not dividing by 0.) Since £1 > 0 there exists some such that |a„ — a| < £1 for all n since £2 > 0 there exists some N2 such that |bn — b| < £2 for all n 0 there exists some N2 such that n > N2 implies R eal A nalysis, A Long-Form T extbook 87 N = max{7Vi, A^}. Then, for any n > N, |an6n Therefore (anbn) -> ab, as desired. □ ? have shown □ and bn t L. Then, a:„ —> L. Theorem. N we have |an6n — a6| Example 3.22. What, is Scratch Work. Just, reading the theorem, it does jibe with our intuition of what it means for a sequence to converge. 1 2 , 1 Inn - • n—>oo 2 1 ' 3n + 1 n + 2 £ 2|«| + 1 0 + 0 + 4 5 3n + 1 n + 2 1 Solution. Already in this chapter we 1o ----- > 0 n That is, for n n + + 4 1 ° —r? —y 0 7?/ So, by the limit laws, lini - • n->oo 2 Theorem 3.23 {Sequence squeeze theorem). Assume an < xn < bn for all n. Furthermore, assume that ■(3 + 0) = |. ^■n 1• 5 “ ^ o.6| = |an6n — abn + abn - a6| < |an&n - a6n | + |a6n - «6| = |a„ - a| ■ |6„ | + |a| • |6n - 6| < E] • C + |a| • £2 = — £— • C + lai • 2(7+1 11 £ £ < 2 + 2 .5112^3 n + 2 1 . ->0 yjn Chapter 3: Sequences88 L £ L -- L-e L + e — L — L-e ■ > <• We again know that xn is within e of L, because bn is! + n xTI» (l n • + N + N n bn» Xji • You can see that xn is within e of L, because an is! Similarly, if L < ,rn. then the picture looks something like this: Combined, the two pictures above show that L — e < xn < L + e. To make this precise, though, we of course have to get our hands dirty with the definitions of the limits of (an) and (bn). We will prove it via the definition of convergence, and simply from that definition’s vantage point there’s good reason to believe it. We wish to show that eventually all the rn is within e of L (that is, |z„ - Z| < e for all n > N, for some N). But since a„ and bn are converging to L, there is some N where, for n > N, a„ and b„ are both within e of L. Combining this with our assumption that an < xn < b„, it makes perfect sense that xn would also have t.o be within £ of L. To formally prove it, it helps to consider two cases: whether :rn is smaller than L or larger than L. Suppose we are past the N at which both a„ and bn are within e of L, and suppose that for some n > N we have xn < L. Then the picture looks something like this: R eal A nalysis, A Long-Form T extbook 89 0. L| (*)un < L + £.L — e N? such that n > N? implies |b„ - L| < (^)l>n L + £.L — e e □ Here’s one example using this theorem. Example 3.24. Prove that ,2.7 Proof. Since and since and = 0. □ lim — I—>oo 71: lim — n—>oo 71: 1 < 7?. 1 T y/n T • Since an —> L, there exists some N\\ such that n > Ar, implies |a.n That is, — e < an — L <e. Or, - = 0. 7T Proof. Let £ ()< - ~ n- • Since bn —> L, there exists some That is, — s < bn — L < e. Or, lim 0 = 0 and lim — = 0, Il >oo n—>oo n by the sequence squeeze theorem (Theorem 3.23), 1 I2'7 + y/n + 7T 1 I2-7 + y/n + 7T Let N = max{/V|, N?}, and let n > N. Combining the inequality an < :i:n < bn with the left, half of (A>) and the right half of (^), we get L - £ < an < xn <bn <L + £ L - £ < xn < L + £ -£ < xn - L < Chapter 3: Sequences90 3.6 The Monotone Convergence Theorem Example 3.26. • (n) is monotone increasing. 1 is monotone decreasing. 71 • (1) is both monotone increasing and monotone decreasing. □ Definition. Theorem. Theorem 3.27 (The monotone convergence theorem). Suppose («n) is monotone. Then (an) converges if and only if it is bounded. Moreover. lim an n—>oo • If («„) is increasing, then either (a„) diverges to oo or • If (an) is decreasing, then either (an) diverges to -oo or Definition 3.25. A sequence (a„) is monotone increasing if an < a„+i for all n. Likewise, a sequence (a„) is monotone decreasing if an > an+i for all n. If it is either monotone increasing or monotone decreasing, it is monotone.16 1GNote: “Monotone” means the same thing “monotonous.” Note that (n) is the sequence (1,2, 3,4,...). Likewise. (1) is the sequence (1,1,1,1,...); it is the sequence you get when you take a,, = 1 for all n, so that (a„) = (ai,a2,«3,---) is just (1,1,1,...). inf ({a„ : n e N}). as “monotonic.” But not “monotonous.” Never lim a„ = sup({an : n g N}). n—>oo R eal A nalysis, A Long-F orm T extbook 91 M -> N we have an > a Once a monotone-------— («„) gets above M, it stays above M -* (a„)’s bounded above, so there’s a least upper bound Remember that so far only sets have been defined to have suprema. Sequences don’t. So we have to turn the sequence (01,02,03,...) into the set {a„ : n € N} in order to talk about their supremum. Proof. Assume that (a„) is monotonically increasing, and let’s suppose first that an is not bounded. Then for any M > 0 there exists some N such that a/v > M. But since (a„) is monotonically increasing, for n > N we have an > <i/v > M. And so, by Definition 3.15, (an) diverges to oo. Next, suppose that (a;1) is bounded. Then we have that {«„ : n € N} is a subset, of R which is bounded above, which by the completeness of R implies that sup({a„ : n e N}) exists.17 Call this supremum a. We want to show that lim an = a; 71-400 that is, we want to show that for any £ > 0 there exists some N such that n > N implies |an — a| < e. If, on the other hand, (an) is bounded, then the sequence must be leveling out (it’s monotone, so it. can’t go up and down). Proof Idea. Suppose (an) is monotonically increasing. If it’s not bounded, then given any M > 0, this M is not an upper bound and so eventually (an) will get above it. And since it’s monotonically increasing, once it gets above a number, it stays above that number. Chapter. 3: Sequences92 |an - a| < e, an4-I an > 0 Example 3.28. Let (an) be the sequence where aj = 0.1, a-> = 0.12, = 0.123. a.i = 0.1234, and so on. (And, to be clear, this pattern does not change when you reach double digits. For example, 012 = 0.123456789101112.) Prove that (</„) converges. This theorem is nice for several reasons, but one of which is the fact that you do not have to know what the limit of (an) is in order to show that (on) is convergent. This is notable since in the definition of sequence convergence which, until now. we have heavily relied on to show a sequence converges requires that you already know (and can write down) what the limit is going to be. Below is an example where it would be quite a challenge to write down the limit of the sequence in a beneficial way. Yet by the monotone convergence theorem, we will be able to conclude that the limit exists. Solution. Note that a„+j and an match exactly until the last digits of «„+i, which are the digits of n + 1. Therefore, an+i - an is a number with a bunch of zeros followed the digits of n + 1. In particular, completing the proof in the case when (a„) is monotonically increasing. The case where (an) is monotonically decreasing is very similar. It is asked of you in Exercise 3.25. for all n. We have shown that a„+i > a„ for all n, proving that (an) is monotone increasing. Furthermore note that since all the terms begin with 0.1, we have that an < 1 for all n. We have shown that (a,J is monotone increasing and bounded above, therefore by the monotone convergence theorem (Theorem 3.27) the sequence converges, completing the proof. To show this, first let e > 0. Since sup ({an : n G N}) = a, by the suprema analytically theorem (Theorem 1.24) there exists some > <>' — £. And since (a„) is monotonically increasing, we see that for any n> N we have that a„ >a\\> a — E. And of course, an < a due to the fact that a is the supremum (and hence an upper bound) of {a,i : n G N}. And so, for n > N, we have a - e < an < a. This implies a — e < an < a + e, and hence —e<an —a<e, which, at. last, gives R eal A nalysis, A Long-Form T extbook 93 sequence (bn) where So we have □ Proposition. Proposition 3.29 {Bounded S contains an —> sup(S)). Suppose S C R is bounded above. Then there exists a sequence (<in) where an € S for each n and lim an = sup(S'). 7t-->(X) lim bn = inf (S'). 7?.—>00 Likewise, if S' is bounded below, then there exists a l>,i € S' for each n and a. By the sequence squeeze a„ = a, as desired, n—>oo is very similar. It’s asked of you in Exercise 3.2G. an inequality 1 « ---- < a„ < a, n where both t he upper and lower bounds converge to theorem (Theorem 3.23) we see that lim The infimum case Proof Idea. We need to find elements of S’ which are getting closer and closer to sup(S'). What was our .swper useful theorem for doing just that? The suprema analytically t heorem (Theorem 1.24)! That was the theorem that said for any e > 0, then' exists some a E S such that a > sup(S’) — £. And since it works for any £ > 0, we can choose a sequence of £ values that are getting closer and closer to 0, which in turn produce a sequence of a values that are getting closer and closer to sup(S'). Ami once we have found a sequence of these elements which are getting closer and closer to sup(S’), how do we formally show they converge to sup(S)? The sequence squeeze theorem (Theorem 3.23) sure sounds like it’s up to the job. Proof. Suppose .S' C R is bounded above, implying that sup(S) exists. Let sup(S') = ° (implying a„ < n for all n). By the suprema analytically theorem (Theorem 1.24), lor any £ > () then' exists some a: € S such that x > a — £. In particular, there exists some «.| e .S' such that. > a — 1; and there exists some £ S such that \"2 > o- — i; and t here exists some (13 E S such that 0.3 > a — i; and, in general, for each 11 E N there exists some a„ E S such that an > a — I hits we obtain a sequence (an) from S. Moreover, this sequence does indeed converge to o; T(> see this, recall that in Example 3.9 we showed that ± —> 0. Also, clearly (as in Example' 3.13) the sequence (a, a,«,...) converges to a. Therefore, by Limit Law 2 we have t hat Chapter 3: Sequences94 3.7 Subsequences Consider the sequence (1,4,9,16,25,36,49,64,81,100,...). Now, a subsequence of (an), as you would expect, is something like Or, I Definition 3.30. Let («„) be a sequence of real numbers ami let ni < 712 < 713 be an increasing sequence of integers. Then i ■> a n2 ? ' • • • is called a subsequence of (an), and is denoted (anfc). 774 = 7,5,3,1, 71-3«271) F Of course, a subsequence does not have to be perfectly spaced like this. For example, (1,121,144,484,10201,...) also is a subsequence. As long as yon pick out one term after another in order, then you have a subsequence. This reasoning suggests the following definition. (1,25,81,169,289,...) T T T T T 01,05,09, 013, an,... — (a.ir»—3) (4,16,36,64,100,...) T T T T T a2,a4,a6,a8,«io,--- = («2n) Definition. ' (On) = (ti2). Remember what this means: It means that when you plug in n = 1 you get the first term of the sequence, when you plug in n = 2 you get the second term, and so on. Therefore (an) is the sequence Here are some examples. Example 3.31. Let (an) — (1, Then • (b 3> l> • • •) *s a subsequence where R eal A na lysis, A Lon g-F orm T extbook 95 10,000, ...,= 1,000,n 2 = 100,n i = 10, 77. d • And 77.3 = 100,007, ....77.3 = 16,129,77.2 = 25,77.! = 2, «2)- (®)|«n E 77. | < 712 77,3 N, for any k AT, a| < Notice that in this example, an —> 0. Also, each of the three actual subsequences had the property that ank —> 0, as well. As you can imagine, this is true in general. I hat t hat • But (1,1, |, 1,... ) is a not a subsequence (because we don’t have 77.1 < n 2 < 71.3 <...), we want to show that there exists some we then know Proposition 3.32 («.„ —> a O every ank —> a). A sequence (ra„) converges to a if and only if every subsequence of (a„) also converges to a. * And (g, ~, 1,1, we have18 itk > !'• Therefore by letting N\\ iik > N , so by we have for ;ill 11 > N. We want to show that ank —> a.. That is, A, such that - <i| < e for all k > N[. Notice that since each n, 6 N and This completes the forward direction. The backward direction is asked of you19 in Exercise 3.32. Proof. Assum e that. (</,,) converges to a. and (arlfc) is a subsequence of (an). Let e > 0. Then there exists some N such that KFor example, one subsequence is (a,,,) = (01,03,05,717,...), giving nt = 1, m = 3, 713 = 5, = 7, and so on. And so, I < m, and 2 < 112, and 3 < 713, and 4 < 714, and so on. 1 ’Hint: 'There is a 1-linc proof for this exercise. • ( to> too- W W oo- • ■ •) is a subsequence where (j- 16J29- TtitW ’ •'' ) is a ^sequence where ...) is a not a subsequence (because 77.1 Chapter 3: Sequences96 Corollary. Proof. Assume for a contradiction that (an) converges. Say, a„ —> L. By Proposition 3.32, this implies that every subsequence also converges to L. This contradicts the assumption that there are subsequences converging to different limits. (It is also true that if (an) diverges to oo, then every subsequence of (<;„) will also diverge to oo. This is asked of you in Exercise 3.33.) The contrapositive of Proposition 3.32 is that if there are two subsequences which don’t converge to the same thing, then the original sequence diverges. Said differently, it is required that all subsequences converge to some a for (an) to converge as well. Can you see why it is not enough to know that just a single (anfc) converges? Try to think up an example on your own before reading the one below. We showed in Example 3.33 that a subsequence of (a„) can converge while («„) itself diverges. However, there is one important special class of sequences where having a single subsequence converge does imply that. (nn) also converges. Can you think of what sort of sequences have this property! Try to think it up on your own below looking at the footnote.21 20In the notation of Deflation 3.30, here we have m — 2fc. 21lf (an) is monotone, it has this property. We prove this in Proposition 3.35. The problem is that there are some subsequences which converge to one thing, and others which converge to something else. This suggests the following. Example 3.33. Let (an) — ((—1)\"). This sequence diverges despite many of its subsequences converging. For example, (a2n) = ((-I)2”) = (1) = (1,1,1.!....) converges to I.20 Likewise, (a4n) and (a28„) converge to 1, while (<e>„ + 1) converges to -1. This result is a special case of the contrapositive of the forward direction of Proposition 3.32. But it is perhaps easier to see via a proof by contradiction. Corollary 3.34 (Different subsequential limits => diverges). If (<;„) has a pair of subsequences converging to different limits, then (»/.„) diverges. R eal A nalysis, A Long-Form T extbook 97 where (an) is monotone : k G N}), Proposition. \"n < < SUp ({anfc Proof. Assume that. («.„) is monotone increasing; the case decreasing is very similar. Let. (a„j ) be a convergent, subsequence of (a„) and observe that since (an) is monotone increasing, being a subsequence means that (ttnfc)’s terms conies from (0,1) and do so in the same order as they appear in (cin), implying that (anfc) is also monotone increasing. That is, (a„A.) was assumed to be convergent and was shown to be monotone by the monotone convergence theorem (Theorem 3.27) this means ..) converges, and in particular converges to sup ({anfc : k G N}). We now show that (an) is convergent, again by using the monotone convergence theorem. Since («„) is monotone increasing by assumption, we need only show that v'n) is bounded above. To see this, observe that since the subsequence (anfc) is an infinite list of elements from («„), any particular element an from the sequence has an clement <i,, k from this subsequence that comes after it.22 And since both an and <h,k are terms of (</„), which is monotone increasing, we have an < ank. So we have Proof Idea. First recall that by Proposition 3.32, a convergent sequence always has I he same limit, as any of its subsequences. So by this, our task reduces to showing that. (<z,„) converges. A monotone sequence is convergent, if and only if it, is bounded (by the monotone convergence theorem). We are told that, (an) is monotone and to show that its bounded, we use the assumption that it has a convergent; subsequence, (<infc)- Here s the progression: (a„) being monotone implies that its subsequence is too, and (a,1(i) being convergent, (and now monotone) will mean that (an) is bounded too. Now here’s the formal proof. I robably not. immediately after it, but certainly at some, point after it. Eor instance, A: = n always works. I'o see this, recall that I < nt for any ( (Sec Footnote 18), which implies the headache-inducing expression n < n„ (meaning the nlh index of the subsequence is at least n), and hence a„ < an„ (meaning the nth term of the subsequence is at least as large as the nlh term of the original sequence, or equivalently that the n„th term of the original sequence is at least as large as the nl 1 term of the original sequence). Proposition 3.35 (Monotone (an) has anic —> a => an a). If a monotone sequence («„) has a convergent subsequence, then (an) converges too, and has the same limit. which proves I hat (n.„) is bounded above (by this supremum), and so by the monotone convergence theorem we have proven that (a„) converges. b inally, since we have shown that the sequence (a„) is convergent, by Proposition 3..52 il has the same limit as any of its subsequences. This means that («.„) must also be converging to sup ({a,nk : fc e N}), completing the proof. Chapter 3: Sequences98 There is a second proof which, if you’re a master of indices, is pretty snappy. (CM\")< tit < (in t whenever s < t. a + £ < a. Combining this with (dfe) gives < <i( < ani < a □ 23Sec Footnote 18. a - £ < a.( < a for all C > N. Therefore at a, as desired. for all £ > nM+i- So there docs indeed exist an N (in particular, N = n.u+i) for which Now we begin the main argument. Suppose that (<int) is a convergent subsequence of (a.n). Let Second proof. Without loss of generality, assume that (an) is monotone increasing. There is a quick technical property to note first. Observe that since (an) is increasing, if s < i, then as < lit- Next, note that for any subsequence (an,), we have t < nt for all t.23 Therefore, again since (a„) is increasing, at < ani. Putting this all together. a-e < ank a = sup({a„t : k 6 N}). By the monotone convergence theorem and the fact that (a,1Jt) converges, we know that (ant) -> a. That is, there exists some M G N such that for all k > M. In particular, this holds when k = M + 1. Moreover, since a is in fact a supremum and hence an upper bound on the anjfe terms, we can even say a-e < a„M|l a e < a,IJ( (, R eal A nalysis, A Long-Form T extbook 99 The Bolzano-Weierstrass Theorem3.8 -> Lemma. Scratch Work. The proof of this is just straight-up snappy. Once you know precisely what to look for, it falls through perfectly. First, here’s the idea behind it: Usually we draw a sequence in the .-ry-plane by just plotting the points (e.g. if «3 = 6, then we put a point at (3,6)). This gives a picture like this: 2‘Pro-tip: “Weierstrass” is pronounced witli a hard ‘v’ at the start, like vie-er-slrohs. It’s German. It’s also more fun to say this way. I he sequence (n) works. I his is the sequence 1,2,3,4,5,..., which diverges to oo and every subsequence of it also diverges to oo. We are now gearing up for a big theorem called the Bolzano-Weierstrass24 theorem. The central question is this: Given an arbitrary sequence, how nice of a subsequence is that sequence guaranteed to have? And for which types of sequences are we guaranteed some really nice subsequence? One of the best properties a subsequence can have is being convergent. But after a moment’s reflection we realize that not every sequence has a convergent subsequence. Try to think of an example on your own, and then you can check the footnote to see one answer.2’’ The Bolzano-Weierstrass theorem will tell us an important and general type of sequence which is guaranteed to contain a convergent subsequence, but we begin by asking whether there’s a nice type of subsequence that, every sequence contains. The answer is yes: every sequence contains a monotone subsequence. We prove this now. Lemma 3.36 ((an) has monotone a,lt). Every sequence has a monotone subse­ quence. Chapter 3: Sequences100 This time, though, we will connect the dots to make a zig-zagged line: maybe spot k / <*n(, ft a nice decreasing sequence, which is ofFrom this picture you can course monotone: The magical definition that will solve everything is that of a peak; we want those labeled points to form peaks, and we want to be able to say that if we have a(n infinite) sequence of peaks, then we do indeed have a decreasing sequence. The definition that does this is this: define a peak to be a point a„ which is larger than every later point; that is, an is a peak if an > a,n for all in > n. So if we have infinitely many peaks, then we obtain a sequence like the one above which will be decreasing. So what if we don’t? Then we only have finitely many peaks. In this case, we can find an increasing sequence, which is again monotone. To sec how, just note that if you’re past the last peak, then any point you pick is not a peak, which means there is some point after it which is larger. So one at a time you can pick larger and larger points, giving an increasing sequence. R eal A nalysis, A Long-Form T extbook 101 ■> 1 Theorem. Let’s now, at last, prove Lemina 3.36. peak if is larger than every later point. That is, if an > am for • Last peak ■ i Proof. Assume («.,,) is a bounded sequence. Then by Lemma 3.36 it has a monotone subsequence, («,1A.). Also, since (a„) is bounded, so is (anjt). Since (anfc) is both bounded and monotone, by the monotone convergence theorem it converges. , implying that (anjt) is a decreasing subsequence. assume that (a„) has finitely many peaks, and let c/.jv be the last one. Then was the last, peak, njv+1 >s «°t 11 peak, implying that there later point «„2 that, is larger than it. Likewise, since an.2 is after the last; a peak, and so there must be some later point a„3 that is larger Theorem 3.37 (The. Bolzano-Weierstrass theorem). Every bounded sequence has a convergent subsequence. I he lemma showed t hat, any sequence has a monotone subsequence. It would great if every sequence had a convergent subsequence, although unfortunately this is not the case (e.g., («„) = (n)). Indeed, any secpience which diverges to ±oo will have no convergent subsequence (see Exercise 3.33). There arc also examples of sequences whose limit does not exist, and none of whose subsequences converge but every such example must be unbounded (See Exercise 3.35). Indeed, this is what the Bolzano-Weierstrass theorem says. Proof. Call a.„ a all in. > 7i. Either there are infinitely many peaks or finitely many peaks. Assume first that («„) has infinitely many peaks. Then let anfc be the A:11' peak. Then, by the definition of a peak, a„k > ank), Now let ani = o./v+l- Since «./v is some peak, it is also not than it. Continuing in this way we construct an increasing subsequence anis. In either case we found a monotone subsequence, so we arc* done. Chapter 3: Sequences102 3.9 The Cauchy Criterion Consider the following objective. 0. there for all n> N. for all n > N. 0, there exists for all n > N. A sequence (a„) converges if there exists some « such that, for all e > 0, there exists some N where Proposed Solution 1: Maybe convergence means |«„4-i - n„| gets arbitrarily_sim111, One thing to note is that whenever a sequence converges, each term is deviating less and less from the previous term; the “jumps” are tending towards 0. So if consecutive terms of that sequence are getting closer and closer together, does that mean the sequence converges? Maybe. But with this intuition, one possible condition would be this: |a„ — a| < e |an - a| < e Possibly it’s the case that a sequence (an) converges if, for all s some N where |<In + l I < The important thing to note here is that as of now, to show that a sequence (o„) converges, we need to already know its limit., a, in order to do the calculation. But what if we don’t know the limit? Can we somehow look at just the a„ terms of the sequence and figure out whether the sequence converges to something without knowing what that something is? Objective: Show (».„) converges without knowing its limit. We have been talking a lot about what, it means for a. sequence (a„) to “converge to a point a.” The definition was: So what does it mean to just say that (an) “converges” (without knowing what a is)? It means that their: exists some a for which a,, —-> a. That is: Definition 3.7. A sequence (an) converges to a point a if, for all e exists some N where R eal A nalysis, A Long-Form T extbook 103 l^n+l R/J < N. Solution. Note that, N we have |ftn + l ®n| □ 1 /A 1 W 1 \\/n we can show that the Indeed, this sequence So simply having the terms get close to each other is not enough. What can go wrong? Well, even if |an+j — an| is small, and |an+2 —an+j| is small, and |«„+3 — a„+2| is small, and so on, when you add up enough small things the result could still be big. For instance, possibly |«n+ioooo — «»| is big. Mow do we fix this? (n + 1) — n y/n + 1 + y/n 1 y/n + 1 + y/n 1 y/n 'n + 1 + y/n Vl + 1 + y/n are the numbers ^1,000,000 and y/TTOOO, 001? for all n Is this condit ion necessary for convergence? The answer seems like it should be ‘yes.’ If a. sequence is convergent, even if we don’t know what the limit is there still must be some a which the terms arc getting closer and doser to, and if the terms are gett ing close to a, then they must, also be getting doser to each other. So yes, saying “the terms are getting closer and closer to each other” does seem necessary. Is it, sullicient for convergence? Is it, possible that the terms are getting closer and closer but. yet. the sequence diverges anyways? If your intuition says ‘no, then that’s quite reasonable. However, counterexamples do exist. Let e I) and let N = 1/e2. Then by the above, for any n I his makes some sense. I mean, how far apart Example 3.38. The sequence (an) = (x/™) diverges, and yet, terms of t his sequence are getting closer and doser together.21’ lias t he property that, for all e > 0, there exists some N such that Chapter 3: Sequences104 |®m an | e for all m, n > N. Example 3.40. Show that (7 + is Cauchy. N.|<zn urn| n, m We now work backwards. We start with this conclusion and unwind it, trying to get Definition 3.39. A sequence (a,J is Cauchy if for all N such that Cauchy, age 49 Putin, age 46 0 t here exists27 some Proposed Solution 2: Maybe convergence means |g„, — q„| gets arbitrarily small. We fix the above shortcoming by making not just consecutive terms (past some N) close to each other, but by making all terms (past some N) close to each other. This is so important that it has a name; it is known as the Cauchy criterion. This criterion is named after 18th century French mathematician Augustin-Louis Cauchy, a brilliant man who just happens to have looked remarkably like Vladimir Putin. Seriously, you be the judge: Scratch Work. Looking back at the definition, we need to think about an = 7 + £ and am = 7 + —. For an e > 0 we want to show that there exists some N such that 27Note: When more convenient, you may assume that N e N. Real Analysis, A Long-Form Textbook 105 to something that we can control. e E some l«n - = (Triangle inequality)< I □ -1 m 1 m 7 + - n 0. Since s/2 > 0, by the Archimedean principle there exists < e/2. Then, for any m, n > N, |^| + l»l+l |dn a 1u | < E 1 \\ 7+ - mJ 1 -1 — I----- n m In words: A sequence is Cauchy if, after some point N, any two terms of the sequences differ by at most e. That is, after some point, all the terms of the sequences are close to each other. Notice how this is different than the definition of convergence: So il we make each of these two terms less than e/2, we will be good to go. The Archimedean principle should allow us to do that. We now do this in reverse for the actual solution. Solution. Let e > N > 0 such that A Moving to the next line, we are applying the triangle inequality. The left-hand side below at least as big as the left-hand side above. So, if the below inequality holds, then t he above will as well. This is what we want, since for the actual solution we will be doing this process in reverse. 7+ - n ^1m | -1 m J_| in | 1 N £ 2 I n I n 1 n I N + N 6 2 + ? Chapter. 3: Sequences106 Lemma 3.41 (Cauchy => bounded). Jf (a„) is Cauchy, then (an) is bounded. Proof. Assume (an) is Cauchy. Then (for £ — 1) there exists some A\" € N such that 1 N. In particular, for all n N,for all m, n |«n - «A+1| 1. N, we know that the terms are bounded:Therefore for n (lN+\\ + 1.- 1 an min ({ai,a2,03, ■■■, on, aN+\\ - 1})L and U then L < an < U □for all n g N. So (an) is bounded. Lemma. max ({ai, 02,03, • • • ,«A,aA+i + 1}), Proof Idea. This proof is similar to that, of Proposition 3.20, where' we showed that convergent sequences are bounded. The reasoning there was: if a„ -> o. then after some A, all the terms are bounded between a - 1 and «+1. And before A there are only finitely many points, so those are bounded too. A very similar idea works hen’. (a„) converges to a point a if after some point all the terms are getting close to a: for a Cauchy sequence, though, you do not need to know what the limit is, the definit ion depends only on the terms of the sequence. That said, as we had hoped and as the next theorem shows, these two concepts are actually the same. To prove it, though, we will need the following lemma. And there are only finitely many points before on, so these are certainly bounded. Consequently, we can find a general bound on all an. Indeed, if we let Real A nalysis, A Long-Form T extbook 107 «l|an N, |an 0. Since' e/2 |<zn arnj e/2 (*) 0 and (anj) converges to a, there exists some N ‘> such l“nj a| < e/2. (★) Theorem. for all n. that j > Theorem 3.42 [Cauchy criterion for convergence'). A sequence converges if and only if it is Cauchy. E 2 iorem 3.37), we conclude that some subsequence a. Our goal is to show that (an) converges; m > N\\. Since e/2 N ‘2 implies Proof Sketch. For the forward direction, suppose an converges to a. If an and am are both within e/2 of a, then they must be within s of each other. We can formally show this using the triangle inequality. For the backwards direction, the idea is this: It will be helpful to identify what t he Cauchy sequence is converging to. And by Bolzano-Weierstrass we can find a subsequence t hat is converging to some a. Our goal will then be to prove that a is in fact, the sequence's limit. How? Well, that subsequence gets super close to a. What about, the terms in («„) which arc not in the subsequence? By the Cauchy criterion, t hey get, super close to the elements of the subsequence! And if a term in t he sequence is super close to a term of the subsequence, which is in turn super close to t he limit.... then the sequence must be close to the limit, too. Proof. First, we will prove the forwards direction. Assume that (an) converges to souk' a £ IR. Ld. £ > (j. Since e/2 > 0, there exists some N € N such that for any n > N we have iim | — |®n a ~t~ a am | < |a„ - a| + |a - am| E E < 2 + 2 We want, to choose some J so that, for subscripts past this point, both (*) and (★) hold. Choose .J = max{A/), AL}. Notice, from the definition of a subsequence, Next, we will prove the backwards direction. Assume that (an) is Cauchy, and note that by Lemma 3.12, («„) is bounded. Combining these two facts, and applying the Bolzano-Wcierstrass theorem (The, of (o„) converges. Say, (an ) converges to we will in fact prove that, an —> a. Let f > (). Since e/2 > 0 and (an) is Cauchy, there exists some N[ such that Then, for any n, m Chapter 3: Sequences108 that rij > j.2s In particular, n./+i > J. And so, for any j J, □ Back to Axioms AoC => MCT => B-W => CC. That is, AoC <=> MCT O B-W O (CC I AP). Neat stuff. i -«l i - «l + «nj, I + lan. • CC is almost enough, but not. quite. Surprisingly, with CC you can not prove the Archimedean principle (AP). But. if you assume both CC and AP. then you can prove everything.30 X'71 \\aj a | — |aj anj+1 < laj - “njH e € < 2 + 2 • In fact, AoC and MCT are equivalent! II we had started by supposing as an axiom that the reals were an ordered field containing Q which satisfies MCT. then we could have proved AoC and everything else and ended up right where we arc now. 2SFor example, one subsequence is («,<,) = (<ii,<1.1,05,a-,...), giving ni = 1, n2 = 3, n.i = 5, n.i = 7, and so on. And so, m > 1, ami n2 > 2, and n:l > 3, and n.i > 4. and so on. 29As someone whose mathematical interests are nearly matched by my interest in politics, the post-2018 dueling use of “AOC” has taken a toll on my casual readings. \"Suppose you tried to prove that an ordered field with CC (but not AP) has AoC. To prove AoC. you must prove that given a bounded set A, its least upper bound sup(.l)- exists. A reasonable approach that uses CC would be to try to approach it from above. Start with any upper bound b of A and then pick any a € A. Construct a sequence which approaches where we know sup(A) to be by setting n = 6, and for any n > 1, letting zn-n = Try to convince yourself that this sequence should indeed converge to sup(A). But how would you prove it? Let e > 0. We must show there exists a point in this sequence that gets within s of sup(. l). And showing that we can always get doser comes down to showing that there exists an n such that A. < J-. And there it is at this step we require the Archimedean principle. • Also, AoC anti B-W are equivalent! So by supposing B-W instead of AoC, we again could have developed our entire theory. In this text we assumed as an axiom that, the reals were complete (AoC).30 Using AoC wc proved, in this order, the monotone convergence theorem (MCT) in Theorem 3.27, the Bolzano-Weierstrass theorem (B-W) in Theorem 3.37, and then the Cauchy criterion (CC) in Theorem 3.42. That is, if this is an upper bound of .4; otherwise. R eal A nalysis, A Long-Form T extbook 109 Notable Exercises o Exercise 3.45 is Chapter 4. ° We finish proving the limit laws (Theorem 3.21) in Exercises 3.7 and 3.8. These proofs also contain some important, ideas which will be used many more times in this book. o Exercise 3.14 is given over 2200 years ago by Archimedes. It’s Exercise 3.14 had to somehow be tt-related... • A subscqucntial limit of a sequence (an) is any number L for which there is some subsequence («.„fc) converging to L. Some authors work a lot with subscqucntial limits, whereas I do not.. But Exercises 3.6, 3.19 and 3.31 are indirect examples of this concept. a (disguised) first, example of a series, which is the focus of • The definition of sequence convergence (Definition 3.7) is tough, with lots of qualifiers, there exists/for all statements, and inequalities flying around. Ami wit,h many more similar definitions on the horizon, it is important to understand it. fully. Exercise 3.3 probes your understanding of the quantifiers by asking for examples satisfying related definitions, while Exercises 3.5 and 3.7 ask lor specific examples about the actual convergence definition, in special circumstances. a disguised version of a problem whose solutions was famously a challenging problem, but ° Exercise 3.28 is Lemma 4.8, and will play a role when we student geometric series in Chapter 4. Chapter 3: Sequences110 Exercises (a) A sequence with infinitely many Os that does not converge to 0. (b) A sequence with infinitely many Os that converges to a non-zero number. (c) A sequence of positive numbers that converges to a negative number. the real definition), 0 there exists 0 there exists (I 0 (a) Let an = 7 ---- y=. Show that an -> 7 as n -> oo. (b) Let an . Show that a„ —> 7 as n —> oo.(c) Let an 7- Exercise 3.4. Prove the following using the definition of sequence convergence. • ■ - - 1 r,, ' ' \" x/n 2n-2 5n + 1 Exercise 3.1. Suppose that a sequence (a„) converges to 0.001. Prove that finitely many values of an are negative. 1 y/n. + v/r 13 , 2 . Show that lim an = n->oo 5 (c) Definition 3: The sequence («„) Yonverges-typc-3 to a if there exists some - such that for all N € N there exists some n > N such that |«n - a| < e. Give a different example for each problem. For each of them, explain why your example works in a few sentences (no need to prove it completely). Your example for Yo7»verges-type-4 should not work for Ahmverges-type-3. (a) Definition 1: The sequence (a,,) AWverges-type-1 to a if for all e some n 6 N such that |an — a| < e. Exercise 3.3. This problem is to help you get a feel for the quantifiers in the definition of convergence (Definition 3.7). Your task: For each of the following definitions of Converges, give an example a sequence («„) and a value a for which • (<zn) does not converge to a (based on (b) Definition 2: The sequence (an) Afonverges-type-2 to a if for all ; some N 6 N such that, for some n > N, we have |«n — a | < f . (d) Definition 4: The sequence (<i„) Afonverges-type-4 to a if there exists some e and there exists some N 6 N such that for some n > N we have |an - «| < (d) A sequence of irrational numbers that converges to a rational number. Exercise 3.2. Give an example satisfying the requested condition or prove that no such example can exist. • (an) does Nonverge to a based on the definition given below. IllR eal A nalysis, A Long-Form T extbook Give an example of a sequence (an) where au is negative lor all n, Exercise 3.6. (a) Consider the sequence 1 a (b) If a for all (b) Prove that (<■•<,„) converges to c • 11 (b) If (a,,) converges to L. then («/(„;) converges to L. (c) If (an)’s limit does not exist, then (ay(n))’s limit does not exist. Exercise 3.5. and yet —> 0. independent question, but foi each a,, £ Z for all n. Prove that if (a„) and (/i„) +- bn —> oo. Assume that («2n) converges to L and (ci2n-i) converges to L, Exercise 3.!). —> oo, I hen <i Exercise 3.12. Suppose («,,) is a sequence and / : N -> N is a bijection. For each of the following, prove that, the statement is true or find a counterexample showing that the statement is false. (<•) If (o 1 2 1 2 3 1 234123451 2’3’3’4’4’4’5’5’5’5’6’6’6’6’6’7’ For which numbers L does the above have a subsequence converging to L! (I>) Does there exist a sequence (u„) where, for every L € IR, there is exists subsequence of (o.„) which coverges to L! arc sequences where <i„. -» oo and Exercise 3.10. then (</„) also converges to L. Exercise 3.7. Each of the following is an suppose that the sequence (an) has the property that Exercise 3.8. Assume that (a„) converges to some a € R and (M converges to some b G R. Also assume c € R. Exercise 3.1 1. Prove or disprove: II (tin) converges, then the set {<i„ : n G 11} of values the sequence lakes has a maximum. (a) Prove that (</,, + b„) converges to a + b. (a) Is it possible (hat —> 3.5? n in, prove that («„) does not converge. „) converges, what can be said about this sequence? (a) If (an) diverges to oo, then («/(„)) diverges to oo. n \"in Chapter 3: Sequences112 Exercise 3.14. Let a0 = 2\\/3 and b0 3, and define two sequences recursively by — \\/On * bn— 1 •and Exercise 3.18. subsequent (a) Assume that (a„) is bounded and (6„) converges to 0. Prove that (on • b„) also converges to 0. Exercise 3.17. Is it possible for a sequence (an) to converge, a sequence (6„) to diverge, and for (an + />„) to converge? Prove that it is impossible or give an example showing that it is possible. (a) Prove that (an — bn) converges to a — b. (b) Prove that Prove that («,,) is monotonically decreasing and is convergent, and prove that (b„) is monotonically increasing and convergent. Then prove that they converge to (b) Give an example of sequences (an) and (&n) such that bn —> 0 but («n • b„) does not converge to 0. a -> provided b 0 and each bn / 0. Exercise 3.15. Give an example of two divergent sequences (</„) ami (b,,) for which (an + &„) converges. 2un_i ■ bn—\\ a\" ~ T~i-1 4\" bn — 1 Exercise 3.19. For each item, provide an example (ami prove that it works) prove that no such example exists. (a) A sequence («„) where 6 < an < 7 for all n, and which has a converging to 6 and also one converging to 7. (b) A sequence (an) such that, for each k e N, there is a subsequence of (a„) converging to (c) A sequence (<in) such that, for each k € N, there is a subsequence of (a„) converging to but there is no subsequence of (a„) converging to 0. (d) A sequence (a„) such that for every real number x, the sequence (a„) has a subsequence that converges to x. Exercise 3.16. Give an example of two divergent sequences (<;,,) and (b„) for which (an ■ b„) converges. Exercise 3.13. Assume that (a„) converges to a and (&n) converges to b. Also assume c G R. R eal A nalysis, A Long-F orm T extbook 113 increasing subsequence and a decreasing subsequence (d) A bounded monotone sequence that does not converge. (e) A sequence that does not converge and has (I) A bounded sequence with Exercise 3.22. (b) Assume that </„ < b„ for all Prove that if an —> L and h„ —> M , then L < M . Exercise 3.23. L. then |an| —> |L|. 0 I of the monotone convergence theorem Exercise 3.2G. Prove the infimum case of Proposition 3.29. Exercise 3.25. (Theorem 3.27). Exercise 3.27. terms are Exercise 3.21. have a Prove that (n (a) Prove I hat if a no convergent subsequences. Prove the decreasing case Suppose («.„) and (bn) are sequences. (a) Prove that if «„ —> L and «„ < A/ for all n, then L < M. Assume a sequence (an) has a bounded subsequence. Must (o.n) convergent subsequence? an unbounded subsequence. (b) Give an example where |</„| —> |/,| but /> L. Exercise 3.20. For each item, provide an example (and prove that it works) or prove that no such example exists. (a) A bounded sequence that does not converge to but has a subsequence converging to |. Give an example of an unbounded divergent sequence whose all positive and whose limit does not exist. (Recall, there are three types of divergence: (1) diverging to oo, (2) diverging to —oo, or (3) does not exist. Your sequence should be of this third type.). You do not need to prove your answer. (b) A monotone sequence that does not converge to g but has a subsequence con­ verging to ,i. (c) A sequence with both an that does not converge. ,,) is bounded. Exercise 3.21. Suppose a sequence (an) has the property that for any e I here exists some A' such that m, n > N implies Chapter 3: Sequences114 e (-1,1), Define a new Prove that b„ -» a. sup{an,an+1,an+2,...}. • A subsequence converging to 1, • Another subsequence converging to 17, Give a brief explanation for why your example works. (iii) (a„ ■ b„) -> oo, and (iv) (<i„ ■ bn+1) -> -oo- «n : Exercise 3.34. Give an example of two sequences (a,,) and (b„) which satisfy the following four conditions: Exercise 3.33. Let (an) he a sequence of real numbers. Prove that if (<;„) diverges to oo, then every subsequence of (an) diverges to oo as well. Exercise 3.29. sequence by Exercise 3.28. converges to 1 if r Exercise 3.30. Let (a„) be a bounded sequence, and consider a second sequence (bn) defined by (i) lim a„ does not exist, n—>oo bn • Prove that (b„) converges. til + Cl2 + ■ ■ ■ + Un n • And another subsequence converging to —tt. Suppose («n) is a sequence for which a„ —> a. Exercise 3.32. Let (a,J be a sequence of real numbers. Prove that if ever!) subsequence of (a„) converges, then (an) converges too. for all n > 3. Does (on) necessarily converge? ■“ This is Lemma 4.8, as it will play a role in Chapter 4. (ii) lim bn does not exist, n-*oo Prove that the sequence (rn) converges to 0 if r 1, and diverges otherwise.31 Exercise 3.36. Define a sequence (an) recursively as follows. Let «i and a2 be a pair of real numbers, and recursively define On-1 + a»-2 2 Exercise 3.35. Give an example of a sequence whose limit does not exist ami none of whose subsequences converge. Exercise 3.31. Give an example of a sequence (an) which has: 115Real A nalysis, A Long-Form T extbook Exercise 3.37. (a) Show that, an < 2 for every n. (c) Show t hat <i„ —> 2. Exercise 3.38. unbounded subsequence. (b) Show that (an) is that. (<;,,) converges. Exercise 3.39. Use a Assume A is an uncountable set of real numbers. Prove that a convergent sequence («ji) such that an G A lor all n, and an 7= (im (a) /\\ Cauchy sequences which has an Define a sequence («„) recursively by aj = \\/2 and an+i = y/2 + a.„ for all 11. > 1. use this to conclude (b) An unbounded sequence which has a Cauchy subsequence. Exercise 3.43. Suppose that («„) is a sequence of nonnegative real numbers that converges to /.. Show that I he sequence converges to \\/L. an monotone increasing sequence, and Exercise 3.41. I here must, exist for all n 7? in. Exercise 3.44. Prove that if («.„) is a bounded sequence which does not. converge, then it must contain two subsequences, both of which converge, but which converge to different values. Exercise 3.45. Let Ixi the sequence where iq = 1 and, for each n > 1, \"n \"n 1 + In 1731, Leonhard Euler famously proved that (an) converges to qp. Now let (b„) be the sequence where bi = 1 and, for each n > 1, bn = bn-i + Use Euler's result to prove that (b„) converges. Give ait example of a monotone sequence that is not. Cauchy. Assume («n) and (b„) are Cauchy sequences, and let c,, = |an — Mil­ triangle inequality argument to prove that. (<:„) is Cauchy. Exercise 3.40. For each of the following, give an example of a sequence with that properly or prove that, no such sequences exist. Exercise 3.42. Suppose t he sequence (:c„) is the sum of two other sequences, (i/„) and That is, ./■„ = i/„ + zn for all n. If (:c„) is bounded, and (;t/n) and (zn) are both monotone, must (.r„) be convergent? What if (//„) and (zn) are also bounded.'' Chapter 3: Sequences116 Open Questions Question 1. For a natural number input xq, construct a sequence recursively by a'n+1 — 1, o,i is t he smallest + 1. if xn is even if .t„ is odd Does every prime number appear in this sequence? If not, is the problem of testing whether a given prime appears a computable problem? Question 2. Consider the sequence where ai = 2 and, for n prime factor of Is such a sequence always bounded, regardless of what icq is? Will this sequence eventually reach 1, regardless of what a;o is? 2, 3, 7, 43, 13, 53, 5, 6221671, 38709183810571, 139, 2801. 11, 17. 5171. 52662739, 23003, 30693651606209, 37, 1741, 1313797957, 887, 71, 7127. 109, 23, 97, 159227, 643679794963466223081509857, 103, 107999081!). 9539, 3143065813, 29, 3847, 89, 19, 577, 223, 139703, 157, 9619, 61. 1357. 8799109872255227270828125179331235 J 58 J 0993928517688937 ISO 126037093 1.3, 107, 127, 3313 £a 2 3zn + 1 (This product plays a starring role in Euclid’s proof of the infinitude of the primes.) The first 47 elements of this sequence are Chapter 4: Series 4.1 Sequences of Partial Sums 1 Let’s get down to business... to defeat... the sums! 117 I llis sequence is theorem). But note that Diverging to I (by Exercise 1.29 and the monotone convergence we could rewrite the terms of this sequence like so: 1 2 1 3 7 15 2 ’ 4 ’ 8 ’ Ki ’ \" Of course, even though we wrote each term of numbers. Now notice that this is the as a (finite) sum, this is still a sequence same as 3 1 4 I - E^ - E^ - A: I A:=1 1 1 2 + 4 + 8 so I his is st ill t he same sequence. But. do you see how this sequence builds up a scries by adding one more term each time? Indeed, we will view a series as the limit of a sequence. in just this way. And when, back in Calc 11, you found the value of an infinite series like k 1 what, you were actually doing is finding the limit of a sequence. This is an important point, because we just finished developing a whole chapter’s worth of tools and theorems for sequences, and so if you think of a series as a sequence of partial sums, then we can use all of our results on sequences to help us understand series. • E? A- I A sum of infinitely many numbers is called a(n infinite) series.' For example, you °° 1 have probably seen the series , which equals 1. Now consider the sequence E A- I i\\ n i i j_ 8/ ’ \\2 + 4 + 8 + 16 Chapter 4: Series118 Basic definitions • The numbers ak the sequence (sn) where2 u.j. > M for all 71 > TV. converges to 1, we also have that 1, □ I Definition. • The series converges to Le i (or ak = L) if ,s„ -> L. and diverges (to oo, to -oo, or does not exist) if (sn) does. Likewise, we say the series is bounded or is monotone if (sn) is. arc the terms of the series; / n • The sequence of partial sums is the sequence I ak \\k= 1 oo Definition 4.1. Given a(n infinite) series fc=l 1 3 7 15 2 ’ 4 ’ 8 ’ 16 ’ \" 00 1 Ei fc=l In Chapter 3 we defined what is means for a sequence (,s„) to converge (in terms of e’s and TV’s) and to diverge (in terms of M's and TV’s); we can therefore use these and the above to write out an alternative definition for a series to converge or diverge. For example, ak = oo if, for every M > 0 there exists an A' such that DU Example 4.2. Since the sequence since («•») is the sequence of partial sums of this series.3 ’Remember, to get the first term of a sequence you plug in n = 1, to get the second you plug in n = 2, and so on. It just so happens that, in this sequence, each term is itself a sum of numbers. 00 1 00 k ’Riddle: If I offered you either dollars or .yjyT dollars, which would you choose? k 0 fc=O St = (I, So = a, + a2 S3 = «t + a2 + a3 .s'4 = at T a2 + 03 + rij 00 . That is. it ’s n= 1 Real Analysis, A Long-Form Textbook 119 Proof. Let. and tn > <> — fl, and < 'ollect ing every) hing, (Definition of series), Corollary. m = fc= 1 (>) + i>k) k i (Definition of v„), (Showed above), (First bullet point) 00 s n F I a (a i + <i2 + • • • + a„) + (b| + l>2 + ■ • • + b„) («1 + bi) + («2 + b'j) + ■ ■ ■ + (an + bn) oo (ii) ^2(a*- bA.) I. 1 o — fl, and = a + ft, I bA.), and since we can rearrange finite sums, .s„ —> <> and tn —> fl. By tlie sequence limit laws (Theorem 3.21), we know that * (s‘n + Li) — << + ft, • (•s'» /») Corollary 4.3 {Series (limit) laws). Assume that = a and k= 1 Also assume that e 6 R. Then n lhn° 4- bk) = Um ('•’,.) n —>oo = lim (,s-„ + t„) n —>00 = « + ft, • ( '■ ■ •■’■») - > Now let e„ X (hi) y e ■ a/. = e ■ o. k i ii n •s„=^< ia- and tn b).. A= I fe=l Now, (,s„) is the sequence of partial sums of the series «a arl<i (tn) is the sequence ol partial sums of the series 52a= i bk . Therefore, by assumption, we have t hat Chapter 4: Series120 as desired. In almost, exactly the same way we can prove that ~P and □ (sn) and and so we have s„ -> n and t„ —> ft. We can then apply limit laws to the limit to conclude that but since, in general, n the limit laws have next-to-nothing to say about □ As a first example of this, note that 22 d lira n ->oo lim 71—>OO n Ea*- • *=i .A-- I . E'4 ,fc=t / Question 4.4. There were two other limit laws, one for multiplication and one for 00 division. However, we can not. conclude that qA. • bp = a • ft. Why not? ' 77 E I E ,A-=1 / A-=l / n \\ (*n) = ( ^ ) • \\A-1 / ' n E«*- 1-=1 . n E ak .k= 1 . n Ea* 1A’=1 . 71 Ea* Jt=l , \\ / 2 \\E 1') ( E A;2 ) =(l + 2)(l+4) = 15^9 = (l + 8) = E fc’fc2- \\fc=i = «• P, Answer. Remember, to determine what, any series equals, it all conies back to sequences of partial sums. The first sequences involved are 00 E(aA- ~ M = “ *=1 00 2^ c • afc = c • a. 121R eal A nalysis, A Long-Form T extbook Scries Convergence Tests4.2 |s'n - «m| which is equivalent to ■ti - 1, this givesN. In the special ease where m E e the divergence test. Proposition. I«n| |a„ - 0| oo If «fc /> 0, then 52,lk diverses’ A—1 <ik converges, then a*, —> 0. To that I his holds for all values of in, n And wil houl loss of generality, let’s assume that n > m. Then, going back to what s„ was delined Io be. this means that n 52\"* III 52\"* A- I Also known as n 52\"* A I 52 \"* < - |fc=m+l This section is a. lot of fun because here we begin proving theorems that you learned in calculus. Calculus is truly a. paramount accomplishment of the human mind, and yet in just 121 pages we are already set to prove results important enough that just about, every STEM major in the world learns them. Let’s get after it. Proposition 4.5 test).1* By the contrapositive, this is equivalent to saying that if converges, then <ii- (). And this seems like an easier way to proceed, since the assumption that \"A- -ft (I can mean many t hings: It can mean that it is converging to something else, diverging to ±oo, or that its limit simply does not exist; but. assuming that ^2/.= | «A- converges to 0 has a specific definition, and hence is a more solid place to begin. end. assume that 5 \"k- converges and let ,s„ A-- I - the sequence (.s„) converges, and hence (sn) is Cauchy (by Theorem any e > () there exists some N such that for all m,n > N we have oo Proof. We will prove the contrapositive: If 52 A- — 1 n 52 Then we are assuming that *=1 3.42). So for Chapter 4: Series122 0 there exists some N such that for all □ One class of series has a particularly nice, natural form: the geometric series. Definition 4.6. A geometric series is a series of the form « + ar + ar2 + ar3 + ..., where a, r G JR. Example 4.7. Here are a couple numerical examples of geometric series. k □Proof. This is Exercise 3.28. Definition. Lemma. That is, we have shown that for any e n > N, oo k=0 The geometric series test now gives the detailed version of the very nice answer. As is often the case in mathematics, good questions have good answers. Here, we ask when this nice class of series converges and the answer is likewise nice. The proof will use the following lemma. Lemma 4.8 ((rn) converges iff r G (-1,1]). The sequence (rn) converges to 0 if r G (-1,1), converges to 1 if r = 1, and diverges otherwise. - 0| < e. That is, by definition, an -> 0, completing the proof. Geometric series are ubiquitous in the real world, because thev tend to occur whenever each agent of a system acts independently. Almost all couples decide whether to have another kid based on their own situation, not on the current population. Therefore population growth is geometric. Each atom in a radioact ive substance disintegrates independently of the rest, and so radioactive decays are geometric, typically described by their “half life.” From bouncing balls in physics to interest rates in economics to Zeno’s paradoxes in this text’s opening pages, they are perhaps the most natural class of series to study. 7T 3tt2 9tt3 27tt* • — I------- 1--------- 1---------- 1- 2 4c 8c-’ 16e3 R eal A nalysis, A Long-F orm T extbook 123 which, by dividing over the 1 — r, shows that 1 + r + r 2 + r3 + • • ■ + rn = and hone ih ■«n = lim (Lemma 4.8) □ Proposition. partial sum of q • rk . Thus, oo £ a •,,fc = A—0 (1 - r)(l 4- r + r2+r3 4- • • • + r\") = 1 + r + r2 + r3 4- • • • + r11 — r — r2 — i'3 — ■ • ■ — rn~ = 1 +() + ()+ ••• + 0-7-\"+1 = 1 -r n+1, £ A O 1 — 7- 1 - rn+1 1 — 7’ .n+1) a • rk = lim n —>oo 77,(1 where s u is t ho n a(l - r 1 1 — r a(l - 0) 1 — 7’ (1. _______ __________________~ 1 - 7' Exercise 4.9 asks you to classify the type of divergence. Definition. I he common ratio of a geometric series is what you have to multiply any term by to get the next term. Proof. The case where |/'| > 1 follows from Lemma 4.8 and the fc^'-term test. When r = 1, t he series is a 4- a + a -J-... which clearly diverges, and when r = —1 the series is a — a 4- a — a 4- o — ... whose sequence of partial sums, (a, 0, a, 0,...), is clearly not converging. We therefore turn to the case that |r| < 1. Note that ~ if H < 1 1 — 7* diverges5 if |r| > 1 Not ice t hat, u is always the first term of the series, and r is the common ratio.1’ s„ = u 4- ar + ar1 4- ar' 4-------F arn = Proposition 4.9 ( Geometric series test). Assume that a and r are non-zero real numbers. Then Chapter 4: Series124 Example 4.10. In Example 4.2, we noted Note that 1/2. Therefore 1/2. The series is either bounded (hence converges) Proposition. without proof that, the sequence 15 An alternative approach to finding r and a is this: First write the series in the form given in Proposition 4.9. That would be this: Proposition 4.11 (a* > 0 => X2 ak conncTit/c.s' 00 y^a<; either converges or it diverges to oo. 1-1 Proof. Since each ak is nonnegative, observe that the sequence of partial sums is monotone increasing. Applying the monotone convergence theorem (1 heorem 3.27) then gives the result. has a first term of a = We next prove that if you add up infinitely many non-negative numbers. I hen two things can not happen. First, the answer can not be negative: this probably seems obvious. Second, the answer can not. diverge of the “does not exist\" variety: this may seem less obvious. The actual proposition is instead phrased in terms of which two things can happen. or is not. bounded (hence diverges). or = oo). If > 0 for all k. then And now it is clear that a = 1/2 and r = 1/2 and a common ratio of r — converges to 1. Using Proposition 4.9, we can now prove this. 00 E? A-l ~ oo .. ■’ EL !■ =( > 1 3 7 2 ’ 4 ’ 8 ’ 16 ’ ” 1/2 _ 1/2 1 - 5 V2 ‘ 1111 — 4~ — 4~ — 4~ — .. 2 4 8 16 125R eal A na ly sis, A L on g-F orm T extbook Proposition 4.12 (Comparison test). Assume 0 < a* < b*. for all k. tn lor all («)for all n.Sn < tn Proposition. OO aj., and let (t„) be the fc=i y ' b^. And here is an observation that will be useful: A— I Note that since eq. < bj. for all (X) (ii) if >2 A- I oo aj. diverges, then bj. diverges. A- I The converse of t hese statements is not true, and Exercise 4.16 asks for example demons! rat ing I his. sequence of partial sums of Proof. Let (,s„) be the sequence of partial sums ol lb sec (i), first note' that by Proposition 4.11 that all we need to show is that (s„) is bounded above. If we can do this we know that sn -ft oo, which by that proposition implies that it must converge. Becall that in Proposition 3.20 we showed that, if a sequence converges, then it is bounded. And so. since by assumption | bj. converges (meaning that (tn ) converges), we deduce that this scries is bounded above by some value A/; that is tn ' A/ lor all ii (this is Definition 3.4). And so by (A), sn < tn < M for all n, showing that (,s„) is also bounded above by M, completing the proof of (i). I he proof of (ii) is similar. Let M > 0. Assume that 52*21 at diverges, meaning that (,s„) diverges (and hence by Proposition 4.1 I this means it diverges to oo). And so by i he dcfinil ion of diverging to oo (Definition 3.15), there exists some N for which A/ < s„ for all n > N . And so by (A), M < sn < tn for all n > N. Therefore, again by Definition 3.15, (/.„) also diverges to oo. n. That is, .s„ — O] + <i‘2 + • • • + an < bj + l>2 + • ■ • + bn Observe t hat. if, say, 0 < a*, < bj. for all but. the first 10 terms, then the conclusion of the theorem would still hold. Indeed, if converges and 0 < < bj, for all k, then t he comparison test says that 52 a A converges. But if you now change the first I lie rest of the proof is a mile wide and an inch deep, ft’s almost more memory than math basically just a piecing together of a hunch of old definitions and propositions. oo oo (i) If > hi,, converges, then y^ rq. converges. A- 1 fc= 1 T Chapter 4: Series126 Example 4.14. Suppose afc □ Harmonic Series and the Series p-Test The harmonic series is famous. It is the series Tlie terms Note. Proposition. 10 terms of aj. so that they are larger than there is no way that those ten terms now cause %■ t° diverge. In general, as long as at < bj. holds for all but finitely many terms, the theorem still applies, as the following note says. fc2 + 7 (l)fc are getting smaller and and smaller, and yet: OO J Proposition 4.15 (£ j diverges). The harmonic series T. diverges. CO Then converges. To see this, simply note that by changing finitely many terms fc=o Note 4.13. Changing finitely many terms of a sequence or a series does not affect whether or not the sequence or series converges. if k < 1,000, if A > 1,000. °° /1 \\ we can reach I - I , which converges by the geometric series test (where r *■= ( > Now apply Note 4.13. In the exercises you are asked to prove the ratio test (Exercise 1.17) and the root test (Exercise 4.18), which you might recall from your calculus days. We now move toward proving the series p-test and the alternating series test. 1111111 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + ---’ R eal A na ly sis, A Lon g-F orm T extbook 127 Proof. Observe that OO + ...= 1 + + ...> 1 + + = 1 + .S' □ 1 s 2n > 1 + n • G)+G G)+G G)+G)+G)+ - And since (1 + n • 5) diverges to subsequence (.s2n) diverges to subsequence diverges t.o 00 (•s’n), is also diverging to 00 1’hat is. the harm onic series diverges to + I 00, by the comparison test (Proposition 4.12) the 00. And for a monotonically increasing sequence, if a implying that (sn) is unbounded the entire sequence, by the monotone convergence theorem (Theorem 3.27). 00. Q I hc above proof is the classic proof that the harmonic series diverges, and it was discovered in the Middle. Ayes, predating almost every other result in this text. It was proved by French philosopher Nicole Oresme around 1350 (who somehow found time to study math while his country fought England in the Hundred Years’ War, and the Black Death was becoming perhaps the worst pandemic in human history). Due to the significance of this theorem, though, many later mathematicians worked to find their own proofs of the result.8 1111 r + 7 + 7 + 8 5 0 7 <\"> 1111 8 + 8 + 8 + 8 In particular, if ,s„ is the n th partial sum of the harmonic scries, then (sn) is monotonically increasing and, by the above, X- 1 1 1 2 + 1 1 1 1 . 1 , 1 . 3 + 4 + 5 + 6 + 7 + 8 + ■\" > (2+0 + = s. sCheck out t he survey 77m Harmonic Series Diverges Again and Again by Kifowit and Stamps, in which I hey collect 20 more proofs of the theorem. It includes a 17th century proof by Jacob Bernoulli utilizing partial fractions, an 18th century proof by Leonhard Euler using power series, and manv more, from using t he integral test to using binomial coefficients. A proof that I particularly like, which is by contradiction but otherwise uses similar ideas to the proof above, is this: Suppose lor a cont radiction t hat the harmonic series converges to S. Then 11 11 11 - - — -|- — 4- ,. . 3 4 5 6 7 8 (I *■ I) <■••• G+l)+(l+l)+G+O+- * , i , i * 1 i — T — + - 4- - T — T — T ... 3 4 5 6 7 8 We’ve shown S' > S', a contradiction. 1 3 Chapter 4: Series128 15,092,688,622,113,788,323,693,563,264,538.101,449,859,49771 diverges, by the Proposition. Assume k > 1. In the proof we will use the fact that kp increases if you fix k and increase p, or if you fix p and increase k. That is, summing the first 15,092,688,622,113,788,323,693,563,264,538,101,419,859,496 integer reciprocals gives a result that is less than 100. But when you add 1 15,092,688,622,113,788,323,693,563,264,538,101,449,859. 197 to that sum, you get above 100. lie showed it in just 6 pages11 and a few , ven weak) computer calculations. Amazing.111 So yes, the Harmonic series just barely diverges; in the borderline between convergence and divergence, as °o 1 comparison test, — diverges too. Ac-1 ” [ Proposition 4.16 [The series p-test). The series — converges if and onlv A*=l k'P if p > 1. “He used something called the Euler-Maclaurin formula, which gives an integral expression for how far off the nth partial sum of the harmonic series is from the natural log function. ’“Nowadays, even WolframAlpha can verify that Wrench was correct. If you have the patience, use WolframAlpha to check his solution on your own. It’s pretty amazing to sec. Carefully type in •‘sum of 1/k from k 1 to k 15,092,688,622,113,788,323,693,563,264,538,101,449,859,496 ”, and see what you get. Then change that last ‘6’ to a ‘7’ and see how it changes.. So we know that £ = oo. That is, for any M > 0, eventually the sum 1 + | + | + | + ... Sets above M. This sum diverges suuuuuupcr slowly, though. In fact, in 1968 way before the age of the supercomputer J.W. Wrench Jr. showed « 1 that - > 100 for the first time when A—l K ~ 1 Proof. If p < 1, then | for all k e N. And since - d a precise sense, it is right on the next result shows. 129R eal A nalysis, A Lon g-F orm T extbook 1. ThenNow assume that p + ...= 1 + + 1 + + = 1 + 1 1 .... 1 1 hTTT + + ... = 1 + 1, so by the So by the □converges too.comparison fest, A- I 1 A-P rhe num ber ~ is defined by circles. What the hell do sums of inverse squares have to do with circles?!11 And why squared? It seems utterly unreasonable that a tt 1 + ^T + --- 1 22(p->) / 1 ' \\2 p 1 I he p 2 case is pari icnlarly interesting; that is, the sum l + | + g + ^ + ' ” - It s called the Ihisi I Problem, after Basel, Switzerland where both Leonhard Euler and his mentor Johann Bernoulli were born. Bernoulli and many other prominent world class mat hemal icians tried and failed to determine the sum. But Euler, at age 21. solved I lie problem, I hrusting himself onto the world stage. It was a significant problem, but the most remarkable part, is its incredible answer: 2 + ... V 1 - i 1 fcp + 2P 11111, -J- --- -I- --- -I- --- -j- --- -f- --- d- ... 3P 4? 5p ()P 7? 1 1 11 — “I- — H- — 4” — 4? 5'' 6p 7P 1 1 1 . 1 — — d- — d- — 4p 4P 4P 4p °° / ] U- Finally, note that I —- j is a geometric, series with |r| = A II ' “ ' geometric series test (Proposition 4.9), this series converges. And the above also OO 1 shows that, t erin-by-tenn, this geometric series is larger than — ■ fc=l K 11 As far as I can tell, Euler’s original proof provided almost no intuition as to what that 7F is doing there. For some intuition based on a 2010 paper by Johan Wastlund, watch the excellent 3bhiel brown video at https://youtu.be/d-o3eB9sfls. / 1 1 \\2P + 3P ( \\_ — ^2P + 2p (l)+(s)+- 1 2/7? 1 2p ■ 1 2p-> + /. () x 7 Chapter 4: Series130 4.3 Absolute Convergence (ik converges. «.|) + ’ ’ ' + (“2„- I — «'_>»)>6'2,1 = («1 — “2) + (“ 3 Ci 1 > Q] - (tt2 - <13) - («3 - 04) ------------(“2n-2 “ «2n-l) ~ °2n- L-U Proposition. and simply observe that the fact that (a„) is monotonically decreasing implies that (a, -an-i) > 11 for all i. But not only is (s2n) monotonically increasing, by grouping the terms differently we can see that it is bounded above by r; 1: Proof. Let (sn) be the sequence of partial sums of this series. First we will show that the subsequence (s2n) >s monotonically increasing. To see this, observe that In­ grouping the terms of the subsequence (s2n), Note: Since (a*,) is monotonically decreasing and converging to zero, this implies “it > U for all k. In summary, (s2n) is a monotonically increasing sequence that is bounded above by di, and hence converges by the monotone convergence theorem (Theorem 3.27). Call its limit L. Through a similar argument to the above, one can show that (s2n+i) is mono­ tonically decreasing and bounded below by «i — a2, and hence also converges. And moreover, it must also be converging to L. The reason is, if we call its limit U, then Suppose each a/. > 0. Then «*• may or may not converge, but note that the series E(-l) fc“A- is, if anything, more likely to converge. The original series. E°A-’ can only converge or diverge to oo, so changing half of the terms to a negative should only help us cancel more things out and cause the series to converge. Indeed, we have seen examples that show that the converse to the Ath-term test (Proposition 4.5) does not hold. That is, it is possible to have the terms of a series converge to 0 while the series still diverges. If your series is alternating, though, this is not true, as the following theorem states. lim s2n - Hill s2n-i n—>oo n—>oo Proposition 4.17 {Alternating series test). Assume that (<q.) is a monotonically (X) decreasing sequence and a* —> 0. Then ^( —l)*'+l fc=l lim (S2n — S2n-1) ~ I’111 a 2n — 0- n—>oo n—>oo should be involved in the answer, and I hope Euler fell off his seat, when he discovered it. I wouldn’t, say there’s too much direct evidence that, there’s a God. But... I think we need to put this one in God’s column. Real A nalysis, A Long-F orm T extbook 131 |.s„ - L\\ < e. \" a = Then + ... + + ... alternates between positive and negative, and if either 1 1 if k is odd; if k is even. 1 I 1 k “ 1 & of the series, this means □ l) A' '\"A I: I 1 1 4 “ 42 Indeed, if your sum ATT & 1 1 3 “ iF Thus .s„ > And since .s„ is the sequence of partial sums that I he series also converges to L, completing the proof. Why is it necessary for the sequence to be monotonically decreasing? Il we only assumed that, it was an alternating sequence of numbers converging to zero, why is that not enough? The idea is to have a series where the positive terms converge to zero but their sum diverges to 00; the negative terms converge to zero and their sum also converges, and hence are not. big enough to “slow down” the divergence of the positive terms. For example, the scries • The sum of your posit ive terms diverge to 00 while the sum of your negative terms converges, or And so U = L, as asserted. What we still need to prove is that if (sn) is a sequence in which («2n) and (s2n+i) both converge to L, it must, also be the case that (,sn) converges to L. To prove this last claim, let £ > 0 and note that for the first subsequence there is an N\\ for which |,s„ — L\\ < £ for all even n > N\\, and for the second there is an A2 for which |s„ — L\\ < £ for all odd n > AT Now let N = max{Ai, N%} and observe that since every n > N was an index in one of the two subsequences, we have that 1 1 + 3~T \\ /I 1 \\ 1 \\ ’ k?) ■ • The sum of your negative terms diverge to — 00 while the sum of your positive terms converges, I I 1 I 2 ' 2 T would have t his property, hi order to get a series | «A- which produces this (where the odd-indexed terms are positive and the even-indexed terms are negative), let 1 1 + 4 Chapter 4: Series132 Proof. This is Exercise 4.3. □ 0.5 Fact 4.19. = ln(2). Proposition. Fact. It certainly seems to be converging, and to something around 0.7, but just like wit h the Basel problem, what it is converging to is quite surprising: then your series must diverge. On the other hand, if both the positive terms and the negative terms converge on their own, then your series must converge. One way to think about this is that if you took the absolute value of all the terms, and the resulting sum converges, then the original sum must, converge too. We codify this idea in the following proposition. The converse, though, is not true: By Proposition 4.15. the harmonic series o° 1 00 - diverges, while the alternating harmonic series l)*+l- converges by /c=l A‘=l Proposition 4.17. Indeed, here are the first few partial sums of this latter series: 1 = 1 1 ' 2 5 = - = 0.8333... = 0.58333... 23 60 .. ................... oo Proposition 4.18 (J2|«a| converges => ^, ak converges). If ^2 l(1A-l converges. A— t 00 then ^2 “A- converges too. fc=t + 7 + F = = 0.78333... 4 o Du 1-1 2 1 1 1- 2 + 3 1 1 1 1- 2 + 3 “ 4 = 1 1.1 3 4 5 R eal A nalysis, A Long-Form T extbook 133 Definition 4.20. Consider the scries + X2 — X3 + x'1 — ■ • • = is allowed, and doing so gives the Taylor series for ln(x T 1): I is valid. 1 I 0 1 28 8 Definition. i + x 1 4 if 3 answer. but on how the oo Ea*- fe=l Integrating terni-liv-tcnn oo oo oo • If N a*. converges but. |n^.| diverges, then N2 afc converges conditionally. A’ - I k=l A:=l x 2 2 ' Unlike some of the crazy results mentioned throughout this text, this one can be demonstrated just with Calculus II material.12 Now. some alternating scries (that is, scries which alternate between positive and negative) are like t he alternating harmonic series they converge, but if you take away t he (— 1)A’ component they won’t converge. Other alternating series, though, would converge even without alternating. This distinction is important. I H 4 ' I ’ I I I 9 5 H 3 13 7 15 2 ~ s And with that, we arc ready to talk about rearrangements, which include what I think is by-far the coolest theorem on this topic. I 1,1 I 1 1 3 4 1 5 ' 6 + 7 « + '' ’ is equal to the area under the curve of /(rr) = 1 /x from x = 1 to x, = 2, which by your calculus you recall equals J 2 | dx -- ln(2) - ln( 1) ln(2). ’“We won’t reach this until Chapter 9, but if you recall your Calculus II well enough, you might recall a way to sec that this is true. The geometric series test says that (for x € (-1, 1)), I bit note: I he above only argues that, the fact is true. Bui why is it. true?? Why is a logarithm wit h a base ol c so int imately related to inverses <»l integers? That’s a much harder question to The following is certainly insufficient, t he right is a geometric interpretation of sum I 2 * Now one can argue t hat plugging in x oo oo • If ^2 l\"*-| converges, then we say ^2 ,lk converges absolutely. k I fc=i 8 4 1-2 Xs 5 Chapter 4: Series134 4.4 Rearrangements 1 2 3 4 5 6 7 8 A rearrangement of this series is A different rearrangement is Definition. Super Cool Theorem. 1 5 A-—1 = «A-- Theorem 4.23 (Rearrangement theorem). If a series y^a A- converges condi­ tionally, then for any L )L 6 R or L = ±oo) there exists some rearrangement of 00 which converges to L. fc=i 1 1847G04 1 + .... It is precise to deline a rearrangement in terms of bijections (especially if the series has repeated terms) but, intuitively, a rearrangement of a series is simply the same series where you add up the terms in a different order. Example 4.22. The alternating harmonic series is 1 oo oo Definition 4.21. A rearrangement of a series o.A. is a series bA. for which there is a bijection f : N -> N such that 6y(A.) ,11111 1 1 1 + — + - — — T — T — I- — — — + 3 5 2 7 9 11 4 1 1 + 1 1 + 1 1 + 1 _J_ J_ 2 152 + 57 If you have finitely many numbers that you are adding subtracting, then of course the order in which you add/subtract them does not matter you get the same answer either way. Amazingly, though, if you have infinitely many numbers, then it can make a difference. It is possible to add up infinitely many numbers and have it equal one thing, but then by simply changing the order that you are adding up the numbers it is possible for the sum to equal something different! The order that yon add the numbers can change what it equals! But if that’s not freaky enough, it gets worse/better: In some cases, the sum can equal anything al all. This is one of my favorite theorems of this entire book, so pay attention. 135R eal A nalysis, A Lon g-F orm T extbook (while pit —> 0), andPk = oo (while —> 0).n/. = — oo • Assume y< L. Choose Pi to be L. Choose the smallest, such N\\ that works. • Since ( 'boose Pj to be the smallest such Rj that works. N, Pl such that pk + 5\"^ rife + • < 'out inning in I his way, we construct a sum that gets above L and then below /. and then above L and then below L, and so on forever. we must have ap 0. ', we must have: /g. = oc, there exists some P% A- / ’i f I 00 t ’i • Since pp = 00, there exists some P\\ such that pk k 1 k — 1 the smallest such P\\ that works. E /*! I I 00 • Since converges conditionally, k 1 °E k I 00 °E A- I This is t he case And if bot h 00 Pt N t • Since 11 k = —00, t here exists some Ni such that PA- + E v'k k 1 /c=l k—l Ni to 1 since, if just one were infinite, then J2A=ifiA would diverge, were finite, then £2^ <ik would converge absolutely. >11 are trying to converge to L € IR (the case L — 00 is Exercise 4.23), and without loss of generality assume L > 0. • And since we always chose P; and A, to be the smallest possible, each time we hopped over /> we did so by no more than the size of13 ppt or njy,. And since Pl, —> 0 and ni,. —> 0, this “hop over distance” also converges to 0, which forces t he sum to converge to L. I’hcrefore, there exists a way to rearrange the alternating harmonic, series to converge to tt, to —e 103, to LeBron James’ phone number, to 8675309, to —00, and to any other real number you’d like... which I think is just awesome.14 1 ‘It looks funny because of the size differences, but what’s written next is p with a subscript of f*,, and then n. with a subscript of N,. Meaning the P,th positive term, or the /V'*' negative term. 1 'In fact, even more is true. There’s also a rearrangement whose /footnote continues on next page] Proo f Sketch. Let pi,, be the A:111 positive term of (a,J and let np be the fclh negative term of (an ). Here’s the basic idea of the proof: 00 • Since aj, converges, by the A:,ll-term test A- 1 Chapter 4: Series136 Back to Zeno nnplete □ Then by the geometric series test the total amount of I inie (in seconds to all the stages is First Stage I. seconds Second Stage seconds Third Stage seconds 0 r* Example 4.24. For simplicity let’s assume the arrow is traveling at a constant rate. In particular, let’s suppose Zeno’s arrow takes t seconds to get halfway to the target, which means it will take £ seconds to travel the next quarter of the distance. seconds to travel the following eighth of the distance, and so on. In Zeno’s thought experiment, the arrow’s first stage was when it traveled from the archer to the point halfway to the target. The arrow’s second stage begins at this point, and lasts until the arrow cuts its distance in half again (i.e. when the arrow is three quarters of the way from the archer to the target). And so on. t ---- . A-0 \" 1 ~ 2 So the the arrow completes all the stages in just 2t seconds. f. t - limit does not exist. And for those who know what limit suprema and limit injima are, for any a,0 G RU {±00} with a < 0, there is a rearrangement whose liinsup is 0 and lini inf is a. 16In math especially, mistakes provide some of the best learning opportunities. And even though my Dean probably won’t accept that as sufficient justification to make my real analysis students grade my calculus students’ exams, Werner Heisenberg did once say that “an expert is someone who knows some of the worst mistakes that can be made in his subject, and how to avoid them. So it is indeed wise to learn from Zeno’s error. What was Zeno’s error? He was correct, that the arrow must first complete the first stage, and then must complete the second stage, and then must complete the third stage, and so on. And he was correct that, each stage takes some finite amount of time. And it seems to make sense that if you have to do one thing at a time, and you have infinitely many things to do, that you will never complete all of those t hings. This is false though.15 One can do infinitely many things, one after the other, in just a finite amount of time. The reason? Because a positive series can converge. And if each summand represents a unit of time, then the collection of those infinitely many things can indeed converge to a finite time length. This book began with a pair of paradoxes from Zeno of Elea, which we can at last settle. We begin with Zeno’s second paradox feel free to flip back to the start of the book to recall what it said. 137R eal A nalysis, A Long-F orm T extbook ■ > /'!) • I lere, po = () and pi = 100. ™ seconds to get from po to Pl ■• So it takes Achilles if ■ > Pl 100 and p2 100 + Iff1-1. • So it takes Achilles til = seconds to get from p\\ to p?. • Total time this far: ™ ™ seconds. Zeno’s error in his first paradox was also a faulty assumption that an infinite sum of positive terms must diverge. Just to rub it in, let’s work out that one too. P\\ was Bertie, who clocked in at an -po _ 71 P2 • Total lime this far: Jjp set ■onds. Exam ple 4.25. 'lb make the problem concrete. First, let’s be excessively generous16 and assume the tortoise can move at 1 Achilles the greatest warrior of his age can certainly move quickly. He was easily 10 times faster than even our exceptionally speedy tortoise, so we may assume he can run n for some n > 10. (For simplicity, we ignore t heir acceleration.)1' We will look at. each stage and determine how long it takes to complete each. We will also keep a. umninr/ tally™ so that; we can find how long it takes to complete all I he stages. 1 he Guinness Book of Work! Records says the fastest tortoise impressive 0.28 mZ. As the famous joke goes: In response to a question about the milk production of cows, the scientist begins, \"I'or simplicity, assume the cow is a perfect sphere and lives in a vacuum.\" 18Ba diun chhh. Chapter 4: Series138 ■> P2 • Here, p2 when 100 71 — 1 This pattern will continue. So by the geometric series test (Proposition 1.9). the total amount of time (in seconds) to complete all the stages is i And since n > 10, the two will pass before ™ < 12 seconds into the race the tortoise (and hence also Achilles) is only at the 112 meter mark. For the last 888 meters of the race the tortoise will be eating dust. 1 I 100/n ^,100 /iV 2--' n \\ n J fc=o x 7 100 + and p3 = 100 + ~ + = -Ipp seconds to get from /o to p.t- 100 I 100 d&L P3 • So it takes Achilles p3np2 • Total time this far: + 4^ + 4$. 139R eal A nalysis, A Long-Form T extbook Notable Exercises with• In Exercise 4.17 is a series where each• I n Exercise 4.18 I he proof of Theorem 4.23, and in the below we extend thisI his roughly eomplet result. • In Exercise 1.23 we prove that there exists diverges to oo. \"A- converges if p «A- / 0. we will show that if lim A- >oo we prove the ratio test. That is, given a • In L xercisc 1.21 we show that there exists a rearrangement of this sum whose limit does not exist.. I'he rearrangement theorem (Theorem genl series can I eit her oo or L 6 R and L '-XLL js ioss than 1 then the series converges. I (lk I The exercises contain two more convergence tests that you probably learned in calculus t he ratio and the root tests. These tests are not as important as the others to this text’s development of real analysis, but, are nevertheless important results with particular utility in determining the convergence of specific scries. a rearrangement of this sum which we prove the root test. That is, if «a k— 1 exists, we call this limit p. Then this series 1. (The test is inconclusive if p = 1.) • Exercise 4.11 (c) is an important result from number theory. In fact, the converse is essentially trim too: If a. number is rational, then either it has a terminat ing decimal expansion or a repeating decimal expansion. • In Exercise 4.25 we prove a generalization of Theorem 4.23 called Riemann's si /v'c.s theorem in which in a rearrangement can be found whose limit supremum and limit infimum can be arbitrarily chosen. 4.23) stated that any conditionally conver- rearranged to converge to anything at all to any L 6 R or to . After stating the theorem we sketched a proof for the case when 0. scries a* A-=1 • Not ice t hat Theorem 4.23 says nothing about what happens for series which are not conditionally convergent. In Exercise 4.26 we prove that if a series converges absolutely, then every rearrangement, converges to the same thing. And in Exercise 4.27 we prove that if each aj, > 0 and XXi “a- = °°> ^icn an.Y rearrangement of this sum also diverges to oo. 0 and the limit lim (a/J1^' A- >oo 1 and diverges if p Chapter 4: Series140 Exercises Does (lie series XC|(~ 1)* converge or diverge? Justify your Exercise 4.4. 0. ln(fr) ln(ln(A-)) Exercise 4.2. answer. diverges. Exercise 4.6. Let (a*..) be a sequence which converges to 0. Prove that the series 00 - afc+i) converges to a\\. fc=i 3 F oo oo (b) Prove that if <ik converges where each > 0, then a~k converges. A=1 A-=i (c) Show by example that part (b) is not true if we do not insist that each «*. 1 OO Exercise 4.5. Give an example of a series where OO converges, but a >k ' PH °C oo 0>) E k =53 oo then y converges too. A-=i A=7 v (a) Give an example of a series with nonnegative terms where n/.. diverges, but A=i OO aj. converges. k=i \" oo (e) (Vn + 1 - y/n) A=1 00 1 *=t Exercise 4.1. Determine whether each of the following converges conditionally, converges absolutely, or diverges. You do not not'd to prove your answers, but state which of the following tests gives the answers: the Alh-term test, the geometric series test, and the alternating series test. oo 1 OO oo (b) EH)' A = 1 oo (<•) E Exercise 4.3. Prove Proposition 4.18. That is, prove that if \\ converges, I 141Real A nalysis, A Long-Form T extbook when!Exercise 4.7. and that is accurate to 0.01.Exercise 4.8. Find Exercise 4.11. (a) (b) (<•) Exercise 4.12. verges absolutely. • 52\"^ i'ivorRes’ fc=i 00 Give an example of a series aj, k=\\ (a) Prove that if gj. k i b^ also converges absolutely. k —- I Exercise 4.10. we proved in this chapter) that the sequence ol partial r1' is Cauchy. k 0 I he geometric series test (Proposition 4.9) says that a geometric u ‘ > — oo, or can be a geometric series? Note that converges absolutely, and (/>/,•) is a subsequence ol (ut), then A number </ has a rcpcat-iny decimal if the non-integer portion of its decimal expansion is repct it i vc. For example, 72.578578578578578... has a repeating decimal. Prove that if a number q has a repeating decimal, then q is rational. Exercise 4.9. series diverges if r > I. Recall that a series can diverge to oo, to does not exist.” Which form of divergence is it for your answer may depend on r. I.et r € (—1.1). Show directly (without appealing to anything sums of the geometric series °° Iy—\\ . \\A: A an estimate for > (—1) zrIk k=\\ oo • 07, converges, 00 • al converges. k=l Find a way to write 77.77777777... as a geometric series, and then prove this number is rational by using the geometric series test to write this number as a fraction with integers in the numerator and denominator. Write 77.77777777... as a different, geometric series, and use the geometric series test to write this number as a fraction with integers in the numerator and denominator. Are your two fractions the same? repeating decimal if the non-integer portion of its decimal OG (b) Give an example demonstrating that it is necessary to assume that ^^ ak COI1‘ Chapter 4: Series142 Exercise 4.13. Exercise 4.14. Prove that if aj. converges. with a*. 7^ 0, assume that 1.: r > N oo 2^«2i converges. oo (b) Explain why I • / necessarily converges. fc=l OO oo 0 for all k: and ak converges, then \\ — A= l A- 1 | afc+1 | Inn ------ A'-^oo | I We will prove that, the series converges absolutely. OO (b) Prove that if (/>;2«a) converges (to any real number), then the series <ia- A- I converges. Give an example to show that the converse is false. OO (a) Prove that if (fcat) converges to a nonzero real number L, then the series « a- diverges. Give an example to show that the converse is false. Exercise 4.16. The converses of (i) and (ii) of the comparison test (Proposition 4.12) are both false. Give a pair of examples demonstrating this. series «*• A- l oo (c) Finally, use part (b) to prove that |ajt| converges. A-=l (a) Let q be such that r < q < 1. Explain why there is some N such that n implies that |«a-+i I < lafc| ’ 9- Exercise 4.15. Prove the Cauchy condensation test. That is. suppose that («*.) is a decreasing sequence for which a*. —> 0. Prove that converges if and only if A- =1 Exercise 4.17. Prove the ratio test via the following steps. Given a 143R eal A nalysis, A L on g-F orm T extbook Exercise 4.18. Prove that, there is some N for Exercise 4.19. for which \" a) = 0- Exercise 4.20. example of t,w< diverge (e) Prove that if bsolutely. Exercise 4.21. OO OO OO example of two divergent series mid suc^ ^ lat At I A:=l A:=l converges. OO OO OO mvergent. series ng. and /g,, such that A:=l A.’=l A’=l OO OO oo ng- and llf. converge absolutely, then afe&fe converges A* - 1 A: — 1 Ai—1 Ji in (aK., , (c) Suppose (> > which (a,,)1/\" and p2 = P ~ £■ n > N. ng. converges by comparing it to a geometric series. Then conclude (a) (live an I . Let e = > p> for all OO (d) Use this to argue that aj. diverges by using the fcth-term test (Proposition k=N 1.5). Then conclude that <7g. also diverges. A-= 1 Give an (l>) ( live an series tg, where a*. < bk for all k. OO Prove the root test, via the following steps. Given a series ak k=[ where each «g. > 0, assume that, the limit, lim (og)'^ exists. Call this limit p. Then A'-->oo t his series converges if p < 1 and diverges if p > 1. (The test is inconclusive if p = 1.) (a) Suppose p < 1. Let e = and p\\ = p + e. Prove that there is some N for which («„)'/\" < p\\ for all n > N. (I>) Prove that A- N t hat, J ng. also converges. A: - 1 OO example of a divergent series ak k=y Give an example of a divergent series and a convergent A:=l Chapter 4: Series144 Exercise 4.22. converges. Exercise 4.23. whose sequence of partial sums, (sn), have and0 t oo Exercise 4.24. Show that if «a- is conditionally convergent, then there exists lim sup sn n->oo co Exercise 4.25. Assume that is conditionally convergent. Define the limit superior of a sequence (sn) (Notation: “limsup.s,,”) to be 11-^00 lim inf;s,, = lim n —>oo n —>oo lim sup sn = lim n-+oo lim inf sn = a. n-»oo inf sm . Ill >71 J ( sup sm 1 \\m>n / oo converges. OO (b) Prove by example that if is Cesar° summable this does not imply that *=1 OO (a) Prove that if converges, then this series is Cesaro summable. A*=l 71 OO partial sum; that is, sn = The series J^aA- is called Cesaro summable if *=1 A=1 a rearrangement of this sum a rearrangement of this sum whose limit, does not exist. And define the limit, inferior of sequence (■$„) (Notation: “lim infs,,”) to be OO Prove that for any a, 0 G IR U {±oo} with a < 0, there is a rearrangement of ak OO Show that if <ik is conditionally convergent, then then' exists which diverges to co. iim 1L±^ + --- + ^ n —>oo 77 oo Consider the sum and define ,s„ to be this series’ n 1*1 fc=l 145R eal A nalysis, A Long-F orm T extbook converges absolutely to L. then anyExercise 4.26. 11 5796 41 828 7213 11 1(1 7243 4140 3103 4140 I 1 I ’ 5 41 828 1 ~ 21 11 5796 1 ’ 527 Exercise 4.27. Prove that if each ak > 0 and = °°>then any rearrangement fe=i 1 3,054,492 n 7i , <'kbk — -^nbn+l — Sjbj+i + sk(bk - bk+i). k j + 1 fc=j+l oo Prove that if ^^a k also converges to L.rearrangement of t his sum ol I his sum 1 2 1033 4140 1033 4140 Exercise 4.29. There is a neat theorem which, in a small way, relies on the fact °° 1 that I he harmonic series \\ — diverges. Here’s the theorem: Every positive rational number can be written as a finite sum of distinct numbers of the form 1/n. For example, the positive rational number 4t4h can be written like this: 4140 also diverges to oo. [ _ 3103 “ 4140 1033 4140 5 and i 41 828 1 1 1 6’7’ ’’20 11 5796 1 1 1 22’ 23’ ”’’526 1 3,054,492' 1111 1 — — 4~ — 4~ — 4“ — 4\"---- 4- 1 2 5 21 527 Now, take a moment to appreciate how magical this seems, because once you see the algorit hm which produces the decomposition, it might lose some of its shine. Here’s how 1 found t he above decomposition of ypjjy (which 1 basically chose I random): Exercise 4.28. Prove the summation by parts formula. That is, prove that if (<i/c) and (/g.) arc sequences and sn = cq + <12 + • • • + an, then 1 4 Chapter 4: Series146 And therefore, subtract off where I 7243 4140 (a) If the fraction that we start with is much bigger than 1. like 2ll'i(_>(),',3l.‘, why is this not an issue? Why will subtracting off 1, and then 1/2, and then 1/3, and so on, eventually catch up to it? (b) Prove that if this operation is performed on a fraction p/q which is less than 1. then the numerator necessarily decreases (in the above example, the numerators decreased at every stage: 7243, 3103, 1033, 41, 11, 1). Note: The algorithm always subtracts off the biggest possible reciprocal. That is. if E < 1. then we subtract off ± where n+T < ? < n- (c) Explain why this proves the theorem. 1 , 1 , 1 . 1 , 1 , 1 l + 2 + 5 + 21+ 527 + 3,054,492 r 147Real Analysis, A Long-Form Textbook Open Questions converge, where pa is the A'1'1 prime number! 7 ? 2'20*: irrational? I ranscendental? Question 5. One can show that 19 1. something A = 1, 13 = -1. I hen telescopes! I I = lim 1 fc + 1 lim 2, 1 4- 14 A: + 76A:2 + 168 A:3 /'2A< k. lim 32 7T3 ^Gx (~1)U: PA- 1 k* 1 (-1)* (2k + I)'2 I A-(A- I I) Applying this, the sum [(' n n / n + IJ V 1 /.(A- t I) I (A + H)k + A *°lt s known this infinite collection of rectangles can be packed in the 1.002 x 1.002 square. See Two packing problems by Vojtech Balint and An algorithm for packing squares by Marc Paulhus. ivorge? OO Question 2. Does A- I oo Question 1. Does , A: I CO Question 3. Is it true that A- I) Question 4. Is A- 0 Question 4. Is A- We now reinterpret this algebraic fact geometrically. Notice that the left-hand side is tin- area of a -[• x J, rectangle, plus t he area of a X | rectangle, plus the area of a 3 x | rectangle, ami so on. The right-hand side is the area of a 1 x 1 square. This suggests that it is possible that you can tile a 1 x 1 square with this infinite collection <>( rectangles. Prove or disprove that such a tiling exists.20 A super neat was to show this is to first, use a discrete version of partial fractions you inii’.hl remember from calculus as a technique to solve integrals. Indeed, 1- 0=1. .4 It k ' A- I I Chapter 5: The Topology of R 5.1 Open Sets We 149 Definition. (x — 6, x + <5) C U. I hat is. il for all x g [J there exists some 6-neighborhood of x, denoted V^(x), such that Vzrt(./-) C U. I h'linit it>n 5.1. A sei IJ C R is open if, for every such I hat Note t hat this is equivalent to saying U C R is open if, for each x G U, there is a number 6 > 0 such that if y satisfies |x — y\\ < <5, then y G U. x G [/, there is a number 5 > 0 are approaching I he st tidy of continuous functions.1 This is a surprisingly subtle task. In fad . I here is a whole area of math devoted to the study of sets and continuous functions on I hose sets; this area is called topology. One could easily create a full-year undergraduate math course just, on topology, so our treatment, totaling a mere 14 (long-form) pages, will certainly not be comprehensive. Nevertheless, this brief introduction will aim to do two things. The first is practical: Il lavs the foundation for our study of continuous functions by introducing special classes of sets which, when we ask for a. function’s behavior on these sets, will deli inline whether that function is continuous. The second is more philosophical. Although math is traditionally taught by first partitioning it into discrete2, non­ overlapping areas like real analysis, abstract, algebra, linear algebra, combinatorics and topology, mathematics is in reality much more interconnected than this, and ones mathem atical education should include examples thereof. I his chapter will be focused on t hree fundamental objects those of open sets, closed sets and compact sets which in turn help explain real analysis’ place in the sprawling ecosystem of mathematics. We begin with the idea of an open set. ’Believe it. or not., this is a (highly nerdy) joke. After Chapter 6 you may find it, mildly amusing. 2(or continuous) Chapter 5: T he T opology of R150 Example 5.2. g IR, if you let <S = 17 then g (a,i>). Let A + ) (3- J, 3 + 5) g [3,7], □ (v) A nou-example: The set [3, 7] is not an open set. To see this, note that 3 g [3. 7j. but for any S > 0 we have (iii) The open interval (a, 6) is open. To see this, piek any min{:r — a,b— Then (a: - 8, x + 6) C (a, 6), (i) The set. R is open. To (a: - 17, tr + 17) C R. That is, every ^-neighborhood of x = 3 is not a subset of [3. 7]. So the definition “for all x g U, there is... ” by exhibiting a single fails. Therefore, [3,7] is not open. b 4 a a a we dissatisfied x for which it H-+ a x 3A vacuum in physics is a container in which the air inside lias been sucked out, leaving nothing left. Likewise in math, saying something is vacuously true means that the set of elements that the statement is referring to is empty; there is therefore nothing to prove, and it’s automatically true. see this, note that for any (iv) The intervals («,oo) and (—oo, h) are open. To see this, pick any .r € («. and let 5 = x — a; or pick any x g (—oo, b) and let 5 = b — x. b Here, d = ,r — a I---------1 • Z b Here, rt = b — .r (ii) The empty set 0 is open. To see this, note that, because there are no elements in 0, it’s true to say “for any x g 0, x is a purple elephant that speaks Spanish.’’ It’s vacuously3 true! You certainly can’t disprove it, right? You can’t present to me any clement in 0 that is not a purple elephant that speaks Spanish. Likewise, for any x e 0 there exists a <S such that (;r - 8,x + 8) C U. That is again true, as you certainly cannot find an x g 0 that does not satisfy this. 151R eal A nalysis, A Long-F orm T extbook open set. • \"Ua (<>r “U, If {Ua } contains Finitely many sets Uk Countably many sets Uk |R| many sets ux |P(R)| many sets Ux Proposition. Note. Proposition 5.3 {Open sets via arbitrary unions and finite, intersections). (i) If {C„} is any collection of open sets, then is also an open set. a n To prove part (ii), first assume that we have some :i: G Q Uk- We need to show k=i u zeP(R) u 3?€1R When you see “ u„ u<” (or “UaesW for a\" indexing set S), what this means is t hat you are taking the union of all the sets in {[/„} (or {tf«}«es)> whether that is finitely many sets, countably many sets, |1R| many sets, or |P(R)| many sets. Below is a quick table summarizing what this union would look like in each case. Proof of Proposition 5.3. For (i), assume that x 6 Un. By the definition of an a open sei we need to find some ^-neighborhood of x contained inside this union. Since ./■ is in (bis union, we know x G Uao for some «g. By definition of Uao being open, this implies that there is some 6-neighborhood W(t) C Ua„. But since Uao C a we have that 14 (.r) C completing part (i). a n (ii) If {P |, U'>, • • -, U,,} is a finite collection of open sets, then Q Uk is also an fc=l Then |J Un is just a n u A: -- I oo u k~ I Chapter 5: T up: T opology op R152 completing the proof. Example 5.4. ) are open, and (iv) Likewise, ) is open. (But. again, this is always of the original form.) (hi) We also showed in Example 5.2 that intervals (—oo, u) and (b. hence their union (—oo,a) U (6, oo) is open, too. • Note that this third example actually follows from the first, because (—oo, a) U (6, oo) is also a union of open intervals: (i) We already showed in Example 5.2 that all intervals («,&) are open, so by Proposition 5.3, also (a, b) U (c, d) is open, and (ft, b) U (c, </) U (<. /) is open, and (ai,6]) U (aaJta) U ... is open, and any other union of open intervals is open. max{5. </}. OO (—oo. a) U (b. oo) = [J (a — n, a) U (/». b + n). Based on the discussion in the bullet point after (iii), we have not yet seen an example where an open set is anything other than a union of open intervals. This makes even more sense when you combine (1) the fact that every point in an open set is contained inside a ^-neighborhood (which is an open interval) and (2) the fact that if you union together any collection of open sets, then the result is still open. 5 on can therefore imagine that it is true that every open set is a union of open intervals. In fact, even more is true: every open set is a union of countably many disjoint open intervals. (ii) Likewise, (ft, b) A (c,d) is open. For instance, (0,2) A (1.3) = (1.2) is open, as is (0,2) A (4, 6) = 0. (But note that such finite intersections are always of the original form: either a single open interval (a, &), or the empty set.) that there is a ^-neighborhood'1 of re that is contained inside this intersection. Now, since x is in the intersection, we know x € Uy for each A: € {1,2.... ,n}. And since each of these sets is open, that implies that for each k there is a ^.-neighborhood of x. (sc), such that (t) C Uy. Now, these ^.-neighborhoods may be different sizes, and so if, say, <5| > , it might not be the case that. (:r) C U->. But if we choose n 6 = min{5], 8>..... 8, then Ft (■'-') C Vsk(x) C Uy for all k, and so I4(.r) C Q Uy. .................... ' ‘Confession: It’s difficult for me to do topology without Mister Rogers playing in my head... It’s a beautiful day in this neighborhood -0 [(-oo, a) U (&, oo)j A [(-oo, c) U (d. oo)J = (—oo, min{«. c}) U ( 153R eal A na lysis, A L on g-F orm T extbook (a A-> Every open set is a countable be of the form (a, b), (~oo,a), ft = sup{b : (x, 6) C A}.inf{« : (a, x) C/1} and 5.2 Closed Sets Definition 5.6. A set A C R is closed if A' is open. Exam ple 5.7. Theorem. Definition. • R is closed. To see this, note that we have already shown that 0 is open, and r = r. 'The details of this final step were asked for in Exercise 2.12. 6Recall that, if A C R, then the complement Ac = R \\ A. or (b, oo).Note that open intervals can Note i hat1’ since (A')' A, the above is equivalent to saying that A is closed if I here exists some open set !3 such t hat B c = A. and //, either Ix = Iy or Ix Ql!t = 0. The reason for this overlapping but not equal, then you could mtradicting the fact that we had chosen the largest Proof. Let A I interval (x so let ’s let /,. I an open set. Then each x g A is contained inside some open b, x -f- <)’). There may be a larger open interval that contains x, though, the largest open interval containing x. Formally, Ix = (a,/J) where • I he closed interval [a, b] is closed. To see this, note that we have already shown t hat ( — tc, a) U (b, oo) is open, and its complement is [«,b], and so by definition [a, b] is closed. Theorem 5.5 (Each open set = , union of disjoint open intervals. Note that, given any pair is that, il instead you had two intervals expand at least one of them , hit ervals. We claim that these /,. intervals are the ones we are looking for. Io see this, first note that since each x € A is in Ix C A, the union of all the Ix intervals docs indeed equal A. Moreover, we can see that, there are only countably many distinct such intervals because by the density of Q in R, every open interval contains a rational number, so there can not be more intervals than rationals, which is a countable set.5 Chapter 5: T he T opology oe R154 This is what t he there often many more clopen sets.) Definition. Theorem. Being closed in fact means that yon contain your limit point next theorem states. In Exercise 5.7 you’re asked to show this: a point, ,r is a limit point of A if and only if every e-neighborhood of x intersects8 A at some point other than .r. Theorem 5.10 (Closed iff contains limit points'). A set A is closed if and only if it contains all of its limit points. • 0 is closed.7 To sec this, note that Rr = 0. we have already shown that R is open, and Example 5.9. The point 0 is a limit point of the interval (0.3) because, for each n G N, we see that an = G (0,1), while an -> 0. The point 0.24 is also a limit point of [0,1], as it is the limit of the sequence 0.23,0.239,0.2399.0.23999 Intuitively, one difference between the open interval (0,1) and the closed interval [0,1] is that in the open interval there is a sequence of points from inside the set which is converging to something outside the set; one example: i, i ... is a sequence of numbers from (0,1) which converges to 0, which is not in (0,1). The closed interval does not have this property; if a sequence of terms from the set [0,1] is converging, then we know that it converges to something inside the set. This intuition jives with our definitions of open and closed sets, as the following definition and proposition say. Scratch Work. The “contains all of its limit points” condition can be tough to work with. It’s much easier to handle a specific limit point (which, by the definition of limit point, gives a specific sequence converging to that point). Therefore for the forward direction we will proceed by contradiction (giving us a specific, sequence from A that converges to an x g A), and for the reverse direction we will use the contrapositive (meaning that we are in search of just a single sequence from A that converges outside A). 7Ycs, R and 0 are open and closed. Yes, this is silly. Sec the YouTube video “Hitler Learns Topology” (www.youtu.be/SyD4p8_y8Kw) for a dramatic response. These sets are sometimes called clopen. In Exercise 5.29 you are asked to prove that these are the only clopen subsets. (For general topologies beyond the topology' of R, which we arc studying there often many' more clopen sets.) “Saying a set X intersects a set Y means X D Y =£ 0. Definition 5.8. A point ,t is a limit point of a set A if there is a sequence of points aj,02,a.3,... from A \\ {a:} such that an -> x. 155R eal A nalysis, A L on g-F orm T extbook X Contains some aj 6 A.The 1-neighborhood of I he -neighborhood of x. Contains some u.2 € A. X + 1I A (5-ncighborhood in Ac, so no «„ are in here. H- x + <5 (an) can’t get closer t han A to x, so it can’t he converging to x. , J For t he forward direction, when we assume for a contradiction that A does not contain all its limit points, this gives 11s an x A for which there is a sequence (an) converging to .r, where each a„ g A. Where’s the contradiction? Well, converging to x means t hese points <z„ from A are getting closer and closer to x. But since x £ A, t hat means x 6 A c\\ and since A is closed, Ar is open. And being open means there is a ^-neighborhood of x which is entirely contained inside A'; i.e., is disjoint from A. That’s I he contradiction: It’s impossible for a sequence (an) be getting closer and closer to x, if all these points have to be from A, and hence have to stay outside this (’•-neighborhood of x. The -neighborhood of x. Contains Home aj e /I. 0 there exists some N such that = 6, then such an N exists, which Proof. For the forward direction, suppose that A is closed, and assume for a contradiction that A docs not contain all of its limit points. That is, suppose that there is a sequence ai,«2,<Z3,.. . from A where a„ —> x, but x 0 A. Observe that this im plies that A c is open and x G A':. And so, by openness, there is some 6- neighborhood (x — 6. :i: + <5) C A''. We now show that this is a contradiction to the claim that a n —> x. Since a n —> x where each an G A, for all e > |an — x| < e for all n > N. In particular, if we let £ -H x — S The . -neighborhood of x. Contains some nq 6 A. :r - -i X x + I - ' *+A As for t ho reverse direction, by using the contrapositive we may assume that A is not closed, which is to say that. A' is not open. And being “not open ’ means that for some x £ A 1 . every ^-neighborhood of x contains a member of A. So if we let <5=1, then I his I-neighborhood of x contains a member of A, call it a.\\. Likewise, if we let b be I 2. then 1 .3, then 1 1, and so on, we get an <1.2,a;j,<14, and so on, each from A and contained inside these respective neighborhoods. These elements comprise a sequence from A. which converges to x. Chapter 5: T he T opology oe K156 e for all n □ arbitrary union or intersection. and set. r Fact. Proposition. |a„ - N, implying that, a„ —> x and completing the proof. of De Morgan’s laws when you □ a (ii) If {PQ} is a collection of closed sets, then >s also a closed set. a Proof. This is Exercise 5.11. I suggest you make use prove it. Fact 5.11. De Morgan’s laws state that, for an The final proposition of this section follows fairly directly from Proposition 5.3 provided you recall the following fact, known as De Moiyan's lairs (whose proof in the finite case was also asked of you in Exercise 1.8). Proposition 5.12 {Closed sets via finite unions and arbitrary intersections). n (i) If {Pl, P2,..., Pn} is a collection of closed sets, then (J Uy is also a closed in turn implies that |a.yv+i — ,r| < <5. That is, a./v+i G (;r — <5, x +<5) and a/v+i G A. But this is a contradiction, since we showed in the last paragraph that (;r — <i. x + d’) C Ac, meaning that a/v+1 0 A. For the backwards direction, we will prove the contrapositive. Assume that A is not closed; that is, Ac is not open. Being not open means that, there is some ,r e Ac such that every ^-neighborhood of a: contains a point that is not in Ac, meaning that it is in A. In particular, for each n G N there is some point an 6 A such that a,, is in the —neighborhood of A. We claim that a,, —> x. Note that if we can prove this, then we are done, since we will have constructed a sequence of points from .1 converging to a point outside of A, proving that A does not contain all of its limit points. To prove the claim, let e such that -ft < e. And so for any e-neighborhood of x. That is, 0. By the Archimedean principle t here is some V n > N we have - < e, and hence <i„ is in the =imc \\ n / n 157R eal A nalysis, A L on g-F orm T extbook Open Covers5.3 Definition 5.13. Let. A be a set. oo • Anol her open cover of (0,4) is {(—oo,2), (1,3), (1,2), (0.5,3.5), (3,7)}. □ □ Definition. 1 2 A C J Ua. a€.S U {(-0.2,0.2)} U {(3.9,4.1)}. fc—1 Here is a final example. Example 5.15. An open cover of [0,4] is r • The sets {1A(y}(y6S- an' a cover of A if This idea may seem odd. It’s not at all dear that this should be anything that we should care about. Bear with me, though, because in the grand scheme it is amazing how much this is exactly something that we should care about. Exam ple 5.14. • An open cover of (0.4) is {(P-7 Again, all of the above intervals are clearly open sets, as they are open intervals. Note, though, that not all of the above sets are necessary in order to cover (0. 1): we could remove (1,2), for example. This is line, though, and in fact it will be a staple of what’s to come. Also note that not. all the intervals above are subsets of (0,4). This is also line. < Jftcnt hues sets in our covers will go outside the set we are covering. • If each f.7„ is open, then {t4>}<»e.S' is an open cover of A. • H K4}aeS has a finite subset. {Ua }aeF (meaning F C .S') which is still a cover of .4, then {L,,}„c /.' is called a finite, subcover of A X-Wh- < learlv each set in the above is open, as each is an open interval. Moreover, for any ./■ E (I). 4) note I hat for large enough A:, one of those open intervals will contain ,r. ,(1.4-{ Chapter 5: T he T opology of 1R158 5.4 The Greatest Definition in Mathematics Without further ado,9 here it is: □ Definition. Definition 5.16. A set A is compact if every open cover of A contains subcover of A. e.v< ci/ □ a finite (-0.2,0.2), (3.9,4.1), Q, 4-1 of (0,4) has no finite subcover (Exercise 5.15). So (0,4) is not compact. Example 5.18. The open cover It. may seem crazy that this is one of the great definitions in mathematics, but it is.10 Indeed, one of the reasons it is so significant is that it is not at all obvious. It took great insight to realize that this topological concept is crucial. Indeed. from the topological perspective, compact sets are sets which are essentially finite. If your properties only care about what’s happening on open sets, and there are essentially only finitely many of them at a time, then things are simple and nice. Real analysis illustrates how messy the infinite is, but compactness illustrates when things are simple(r). Let’s return to our previous two examples. Example 5.17. The open cover |,4 -| A. A. oo U {(-0.2,0.2)} U {(3.9. 4.1)} A-=1 of [0,4] does have a finite subcover. For instance, here's one: So [0,4] may be compact (this cover has a finite subcover, but to be compact open cover must have a finite subcover.) hi fact, the set [0,4] from Example 5.18 is indeed compact. This is a consequence of a very important theorem called the Heine-Borel theorem.11 9Ok, maybe not the absolute greatest, but definitely up there. It’s simple to state and it’s not obvious at all that it is a property we should care about, but it turns out that it is exactly what we should care about. If you have other great definitions in mind, send me an email to let me know. '“That said, great definitions do not always come out of nowhere. For an interesting historical look at its development, sec A pedagogical history of compactness by Manya Raman-Sundstrom, viewable here: https://arxiv.org/pdf/1006.4131.pdf \"Fair warning: The proof is quite long and arduous. But /footnote continues on next page/ R eal A nalysis, A L on g-F orm T extbook 159 Forward direction and ,S ■ - _ we S(,(, 111;|| •■.AU written in increasing order so that «i ii k-Tl2 < • ■ • An £ I,l2 C • • • C /,„ and hci A.,- as a Theorem. U Jn = IR, n= I Theorem 5.19 ( The Heme- Borel theorem). A set S C IR is compact if and only il S is closed and bounded. SQ |J A,. {A ll > A12> • ol.S, Assum e I hat I In* seis were Notice that this im plies that Proof. This is a long proof, but if you break it down into chunks it is manageable. We will first, prove the forward direction. So we have seen t hat j /„ ( is an open cover of S, and since by assumption S is < <>mpa< t this means that there is some finite subcover For the forward direction, assume that S is compact. I hat. is, that ei ) P cover of S contains a finite subcover of S. To prove that S is closed and bonne . idea is to pick a specific open cover of S lor which the existence of a finite proves the property. Ljoof that. .S’ is bounded. To prove t hat .S’ is bounded, we will consider the following open cover. Let /„ = ( — /;,«); clearly j n js aI1 open set. Moreover, since k s s u f- 1 But saying that .S’ C precisely means that S is bounded between —n* and nk, com pleting this part of the proof. □(s bounded) surprisingly when 1 surveyed my last real analysis class on what their favorite theorem was throughout t he course, quite a few said the Heine-Borel theorem, and (hey specifically cited the toughness of the proof as a reason! Now, if you don’t believe you have that sort of character yet... then this proof is perfect to help you build it. up! Also, to read a good discussion of the theorem’s history, see An Analysis of the First Proofs of the Heine-Borel Theorem Borel's Proof by Andre, Engdahl and Parker. Chapter 5: Tun Topology op R160 Un = u e .S'. So sinc e But saying that S C U,lk means that Sc Which in particular implies that = 0.Sn 1—l(S closed) And once again if we assume that the subscripts are increasing and hence is the largest, then all of the other Un, are subsets of Unk, and hence Now we use that S is compact. By compactness, this open cover of S must contain a finite subcover of S: 1 —oo, x ---- n Notice that each Un is an open set and moreover t hat oo SC |Jt7n. 1 x H— ,oo n .r H----- , oo »k k S C (J Un, = U„k. 1 1x ----- , x H----- Ttfc « k |afc - .r| < £, clearly contradicting the definition of convergence of at to x. Proof that S is closed. Suppose for a contradiction that. 5 is not. closed. Then there exists some a: 0 S and a sequence «i, a<2> 0.3,... where each at € S and a* —> x. We again are going to find an open cover of S, and it will turn out that the existence of a finite subcover will give us our contradiction. To t his end, for each n G N let 1 \\ / —00, x -------- | U . HkJ \\ But this is a contradiction. We had assumed that there was a sequence (<n) of numbers from S for which a/, —> x. But if we let £ = ~ > 0, then by the above there are 710 a/, for which And this is great, since all we know about S is that S C R and {U„ : n 6 f'l} covers everything except ,r, certainly it. will cover .S': 161Real A nalysis, A Long-Form T extbook Backwards direction Sx = S n (-00, a;]. And let B is (T-& ,T + 6)QU. In part icular, I his implies that will show that T = sup(B), this means that T — 6 G B. he., there exists We will now show that T (T + rt/2) G Note that since T — 6 < Now assume that S is closed and bounded. We will show that S is compact. To I hat end, assume that J- is an open cover of S. We will show that J- contains a finite subcover of S. For each .r, define the set T-6,T + 6- CU. was not in fact sup(B). In particular, we B — {.r : J7 contains a finite subcover of S.r}. Intuitively, is the sc*t. S up to the point and as x increases we are slowly \" v< .ding more and more of it . Since S is bounded, both inf(S) and sup(S) exist. Moie.wei, recall I hat such a set always contains a sequence of points converging to ils infimum, and a sequence converging to its supremum (Proposition 3.29). And sin< e .S is also closed, this means that those limits inf(S) and sup(S) must in fact be elements of .S'. I.< I L — inf (.S) and M = sup(.S'). In the last paragraph we showed that L, M G .S'. Now. let in ning to the sets S, and B, note that L being the minimum of S implies fiat .S'/ {/>}. And certainly the cover J7 of S contains a finite subcover of {£}: . in< i L c .S' we know that some open set U € T7 covers {£,}, and then {[/} is a finite •subeover of {/,}. We have therefore shown that L G B. So B is nonempty. Nol< that since ,S\\/ = .S. if ]\\f q Jj (.hen we are done: that would imply that S si- a fin it < subcover and hence is compact. Therefore assume for a contradiction that 11 7 ' f*,r ‘*11 € B, implying that B is bounded above. In summary, nom mptv subset ol [R that, is bounded above, and hence by completeness h\"P(«) exists. Lei T = sup(B). W< will now showthat I his leads to a contradiction. In fact, we will consider two and show that in either case we can reach a contradiction. 1 asc I: / g .S'. Since J 7 is a cover of S, we know that the sets in J7 collectively cover all of .S'. In particular, since in this case we are assuming that T G S, there must he some open Set ll G J7 that, covers the number T. That is, T G U lor some open set I ' < J7. But |,y the definition of U being an open set, this means that there is some A neighborhood around 7' which is also contained in U. Chapter 5: T he T opology of JR162 (T-<5,7 + <5) C Sc. In particular, 0. And so sn = 50 (V) So So (T + 6/2) G B, contradicting our choice that sup(B) = T. < !ase 2 (i) A is compact. (ii) A is closed and bounded. subsequence (ani) Theorem. -oo.T + 1], Theorem 5.20 {Heine-Borel, expanded). Let A C R. Then the following are equivalent. (iii) If (an) is a sequence of numbers in A, then there is a that converges to a point in A. -oo, T + . a finite subcover {Fi, 7*2,..., F^} from F of the set S D (—oo, T — <)']. But notice that {F,, F?,. .., Fk, 17} is also a finite subset of F and this set covers S fl (-oo, T + |], That is, we have found a finite subcover of S-r+Ap>, implying that (T + 6/2) G B, contradicting our choice that sup(Z?) = T. So in Case 1. we did find a contradiction. □(Case 1) Case 2: T g S. The idea behind this proof is that, since T $ S, we could have increased T by a bit and literally not changed the set. That, is, there is some f for which St = Sr+e, and so if St can be finitely subcovered, then certainly St +. can be too, since they arc literally the same set. This would contradict the claim that T = sup(B), since T + e must then also be in B. The trick is finding a way to increase T by some small amount. Since by assumption T <£ S and S is closed, this implies that T & S' ami 5 ‘ is open. And to be an clement of an open set means that there is some ^'-neighborhood But since T — 6/2 < T and sup(Z?) = T, we know that there is a finite subcover of S fl (—oo, T — 6/2], But then, by (V), this is also a finite subcover of T-^,T+ ^ns Proof. The Heine-Borel theorem (Theorem 5.19) shows that, (i) holds if and only if (ii) holds. In Exercise 5.16 you will prove that (ii) holds if and only (iii) holds. r 163R eal A nalysis, A Long-Form T extbook Notable Exercises that, of• Exercises 5.31m and 5.32 introduce an important idea in topology I he interior, exterior and boundary of a set. • Exercise 5.33 introduces another important idea in topology that of a con n< ch d set. Parts (a)-(e) get you warmed up with this idea, and part (f) asks you to prove the main theorem about this property. • There is a way to introduce topology that is heavily reliant on sequences and limit points. I went a different route in this book, but some authors do it differently. Nevertheless, I do include several exercises dealing with limit, points to enforce their importance. These include Exercises 5.7, 5.8, 5.9 and 5.10. • A snappy solution to Exercise 5.11 utilizes de Morgans laws (Fact 5.11). In fact., they arc so intimately connected that if you didn t know of de Morgans laws but independent ly proved this exercise, then this exercise (and the fact I hat I he complement of an open set is a closed set) might lead you to believe that something like de Morgan’s law should hold. A special case of this exercise was asked of you in Exercise 1.34. • Exercise 5.22 is similar in flavor to a famous set called the Cantor set, which is discussed in Example B.l of Appendix B. Chapter 5: T he T opology op R164 Exercises Exercise 5.1. (c) IR (e) Q (<1) (0, l)u[3,4] (0 {17} Exercise 5.2. Determine the set of limits points lor each set in Exercise 5.1. (a) If X and B (b) If A and B Exercise 5.4. (a) Prove that if A is closed and B is open, then A \\ B is closed. (b) Prove that if A is open and B is closed, then A \\ B is open. Exercise 5.5. example of an infinite collection of open sets whose intersection is not example of an infinite collection of closed sets whose union is not closed. r (a) Z (b) {!>S’ 3 Exercise 5.7. Prove that a point x is a limit, point of a set A if and only if every E-neighborhood of x intersects A at some point other than x. (a) Give an open. (b) Give an (c) Give an example of an infinite collection of compact sets whose union is not compact. are compact, must A H B be compact ? arc compact, must A U B be compact? Exercise 5.6. For each of the following, you should state which sets you are choosing and what their intersection/union is, but you do not need to prove your examples work. For each of the following, determine whether the set is open, whether it is closed, and whether it is compact. (It might be more than one. or none of these.) Yon do not need to prove your answers. (b) Prove that there does not exist a collection of uncountably many disjoint open intervals. (a) Give an example of countably many disjoint open intervals. Exercise 5.3. For each of the following, provide a proof or a counterexample. 165R eal A na ly sis, A L on g-F orm T extbook Exercise 5.8. Construct Does there exist a set A whose set of limit points is precisely Show that the set of limit points of a set is closed.Exerc ise 5.10. Prove Proposition 5.12. That is, prove the following.Exercise 5.1 1. is also a closed set.(a) lf{f?,,f/2 (1>) If {f/„} is (a) A nonempty open set that is (b) A nonempty closed set that is (c) Two nonem pty disjoint open sets whose union is R. (<I) An infinite set with (e) A bounded infinite set with (f) An in fin ite union of impact sets that is not compact. (g) An infinite intersection of compact sets that is not compact. Exercise 5.13. (a) II liniteh many points arc removed from (b) Il- open set, must the set still be n collection of closed sets, then Uk (c) II uncountably many points are removed from an open set, must the set still be open? an open set, must the set still be open? a subset of Q. >untably many points are removed from an open? no limit points Exercise 5.9. I 1’ 5’ I ’ 3’ 5’ ••• (?„} is a no limit points. a subset of Q. Exerc ise 5.14. Let A be a closed set, let x be a point from A, and let B = 21\\{a’}. Give necessary and sufficient conditions on A and x for B to be a closed set. Prove that your conditions works. For each of t he following tasks, give an example as requested or does not exist. Exercise 5.12. prove t hat one a set A whose set of limit points is Z. a collection of closed sets, then is also a closed set. a Chapter 5: T he T opology op R166 oo Exercise 5.17. Let A be compact and U C A be closed. Prove that (' is compact. For each ol the following, prove it to be true (a) If A is compact and B is bounded, must A t~| B be compact? (b) If A is compact and B is closed, must, A n B be compact? (c) If A is compact and B is bounded, must A U B be compact? Exercise 5.20. For sets A and B, define .4 + B = {« + />:<;€ .1.be B}. Prove that if A and B are open, then A + B is open.(a) Prove that if A and B are compact, then A + B is compact.(b) (c) For sets A and B, define A ■ B = {a ■ h : a 6 A, b € B}.Exercise 5.21. If A and B are open, must A ■ B be open1(a) If A and B are compact, must A • B be compact'(b) If A and B are closed, must A • B be closed?(c) Exercise 5.18. counterexample is an open cover of of (0,4), but. that this cover has that (0,4) is not compact. 1 k It. is not true that the sum of closed sets must be closed. Provide an example to demonstrate this. no finite subcover. This implies Exercise 5.19. Prove that if {[/„} is a collection of compact sets, then A I is also a compact set. or provide a 1.4- Exercise 5.16. Let A C R. Prove that, A is closed and bounded (i.e. compact) if and only if every sequence of numbers from A has a subsequence that converges Io a point in A. (d) If A is compact and B is closed, must A U B be compact? Exercise 5.15. Prove that R eal A nalysis, A Long-Form T extbook 167 Exercise 5.22. U {(0,3), (9.82,10.1)}. Exercise 5.26. (a) (l>) (<•) and Exercise 5.28. every open cover of A contains If a set contains its supremum, its infimuin, and all of its limit points, must it be compact? Let A be the set of numbers in [0,1] whose decimal expan­ sions use only the numbers 2, 5 and 8. For example, 0.5822585582 G A, and also 0.2525252525.. . G A. Prove that A is a closed set. we know that this open cover must have a finite subcover, t a subcover of this cover. You do not need to prove your Since [2, 10] is compact., i Give an example of such answer. Exercise 5.24. A set A is said to have the intersecting closedness property if it satisfies this condition: If <S is any collection of closed sets for which the intersection of any finite* number of sets from S contains an element of A, then the intersection of every set in <S also cont ains an ('lenient of A. Prove that /I has the intersecting' closedness property if and only if A is compact. For which compact sets A does there exist an m G N such that a subcover containing at most m open sets? Exercise 5.27. Suppose U\\,...,U n is a finite open cover of a compact set A. Nole I hat I his implies that 13 C U\\ U [72 U ■ ■ • U Un. Is it possible that the union i< ut/2 u ■ • • u u,;i Prove that if A is compact, then sup(A) exists and sup(A) G A. Does the same hold for t lie inlinmm? Give an example of a set which contains its supremum and its infimum, but is not compact. Exercise 5.23. One open cover of the set [2,10] is the collection Exercise 5.25. Call a subset A of real numbers closed-cover-compact if every closed cover of A (that is, a cover consisting of closed sets) has a finite subcover. Which sets A are closed-cover-compact? 1 1 Exercise 5.29. Call a subset A of real numbers clopen if it is both open closed. Prove that, the only clopen sets are 0 and R. Exercise 5.30. Give two examples of sets which are neither open nor closed. Have one example be a bounded set and the other be an unbounded set. Chapter 5: The Topology oe 1R168 Definitions. such Exercise 5.31. Iilt.(zl) UExt(.4). and this is a disjoint Exercise 5.32. Prove that the only sets with empty boundary an’ a and 0. (i) t/nv = 0, (ii) U D A 0 and V D A 0, and (iii) ([7D 4)U(Vn/l) A. Exercise 5.33. (b) (c) (d) (b) Prove that for any set A, we have R union. • The boundary of a set A, denoted i)A, is the set of points A' such t hat every neighborhood of x contains points from both A and .4'. (a) Find the interior, exterior and boundary for each of the following sets: ((). 1). [0,1], R and Q. (a) Explain intuitively what it means for a set A to be connected. Give an example of a connected set and of a set that is not connected. You do not need to prove your answers. Give an example of a set A which is not connected, but .4 U {4} is connected. Definition. A set A is said to be connected if there do not exist two open sets U and V such that • The interior of a. set A, denoted Int(A), is the set of points that there is a neighborhood of x that is a subset of A. • The exterior of a set A, denoted Ext(A), is the set of point that there is a neighborhood of x that is a subset of A''. s x such Prove that {1,2, 3,4,5} is not connected. (e) Prove that Q is not connected. (f) Give an example of a set A which is not connected, but there exists some .co € R such that A U {.co} is connected. (g) Prove that a set of real number's with more than one element is connected if and only if it is an interval. 169R eal A nalysis, A Long-Form T extbook Open Question (0) very special animals.” ;O a bar with a dog and a cow. The bartender says, “Hey, you can’t 12 a piece of rope that is tied at the untangled piece of rope and tied the ends, what If tin1 rope is tangled up before the ends are tied, though, it may or may not be possible to untangle it to resemble the unknot. The below, for instance, is the trefoil knot, and as you can see it is impossible to untangle it to make it look like the unknot. In the area, of topology called knot theory, ends is called a. knot. If you took an you get. is called the unknot. Given a knot, if you can untangle it. to resemble the unknot, then you essentially had (a messy version of) t he unknot the whole time. Therefore if your knot can be completely untangled, then we say that your knot z,s the unknot. Now here’s the open question: If knots are all drawn on the paper like the one above, does there exist a polynomial-time algorithm to determine whether a knot is the unknot? ’ ’ A mathematician walks int bring wild animals in here!” I lie mathem atician replies, “You don’t understand, these are \"How so?” I hey re knot theorists,” he says. And, seeing the bartender’s look of disbelief, he adds, “here, I’ll prove it to you ask them a question.” 1'he bartender turns the dog, “Name a knot invariant.” “Arf! Arf!” barks the dog. Scowling, the bartender faces the cow. “Name a topological invariant.” “Mu! Mn!” responds the cow. Irate, the bartender throws all three out. The dog, bothered at being yelled al, turns to the mathem atician and asks, “Should have said the Jones polynomial?” I ContinuityChapter 6: Approaching Continuity6.1 meme describing your discrete approach towards understanding continuity.1 longer half-life than 1 fear! 171 A function is continuous if it’s like x2 If for each Ihn J(.r) = /(c) If it does not have any holes or jumps What you were taught in middle school What you were taught in high school If for all c > 0 there exists some > 0 such that |x — c| < 6 implies jy !/(■-■) - /(<■)! < s i If when x gets close to c, the function /(.'/;) ‘ gets close to /(c) I mack’ a What you were taught in pi (‘-calculus If you can draw it without picking up your pencil ’Here’s to hoping that memes have a What yon were I aught in calculus Chapter 6: Continuity172 6.2 Weird Examples liin /(.t) = /(c). • Understand what is meant by “lim /(.r).’’ • Understand what is meant by “/(.t) *K continuous at Important Examples function which is continuous at one point but not F In 15 pages time we will have ironed these out. There is still some preliminary work to go, but for now let’s just look at some interesting examples that highlight the complexities and subtleties of these goals. Question 6.1. Does there exist a continuous at another? 2The notation “lim /(z)” will be formally defined soon. Of course! For example, here is the graph of such an example, where we have a jump discontinuity at the point Cj, and so it is discont inuous there, while at every other point (such as at C2) the function is continuous. What should it. mean to say a function is continuous? Or to say that the function is continuous at the point, x — <■'! When you were young you might have just imagined some basic examples, which were probably all polynomials. At some point, you may have been told that it means that you can draw it without picking up your pencil. Then that there weren’t any holes or gaps in the graph that might have been where you were when you got vour high school diploma. (And at this point, you must admit that all of these definitions are imprecise and informal; they do not provide the rigor that mathematicians demand.) When taking calculus you might, have learned that it’s in fact a localized propert v. and / being continuous at some point c means that as ;r gets close to c. you need to have /(.t) get close to f(c). This was then formalized by saving that f is continuous at c if2 ■ This is now getting pretty good, although you were likely given little to no explanation for why this is how it is. In fact, at this point we have not even defined what it means to take a limit of a function. But intuitively it should mean something like this: As x gets near <:, /(.t) will be getting near f(c). We have two goals for t he next few sections: R eal Analysis, A Long-Form T extbook 173 -> Example 6.3. Define the Dirichlet function to be f = y a- -+- ci -t- C2 1 0 if X e Q if x Q. are dense As the above example illustrates, since a function can be continuous at one point while being discontinuous at another, the property of being continuous must be point-centric. Question 6.2. Do there exist functions which arc continuous nowhere? That is, can we find a function f which is not continuous at any point c! The first example is known as the Dirichlet’s function. Dirichlet’s idea was to consider a piecewise function f in which /(.?;) was equal to 1 whenever x was a rational number, and /(a:) = 0 whenever x was irrational. Here’s that: Pick any point, like c = 3. Is f continuous at c? Based on our intuition of “/ is continuous at c if x being close to c implies that /(:r) is close to f(c)” it is not, right..'' Since c = 3 is rational, /(c) = 1. But you can find irrational numbers x as close to c as you want, and for those numbers f(x) = 0, which is not near /(c) = 1. In calculus, we talked about continuity in terms of limits. So what in this situation should lirn /(re) be equal to? At this point in this book, the only limits we know Recall that the irrationals are dense in the rationals, and the rationals in the irrationals. Therefore the graph looks pretty wacky: Chapter 6: Continuity174 Example 6.5. Define the modified Dirichlet function to be if ;r e Q if x £ Q. Again, recall that the irrationals are dense in the rationals, and the rationals are dense in the irrationals. Therefore the graph again looks pretty wacky: - The next example is similar, but highlights an important point: just because a function is not “smooth’-looking, does not mean that it is discontinuous everywhere. This destroys the “continuous means you can draw it without picking up your pencil claim. Question 6.4. Can a function be continuous at only one point ? Or does being continuous somewhere mean that there is a region around that point on which the function is also continuous? (Think about, these before jumping to the answer.) how to take are limits of sequences. So, for example, (<t„) = (3 — M is a sequence converging to 3. And for each n e N, note that (3 - 6Q. So each term of this sequence has f(an) = 1, and so for this sequence we do have /(an) —> /(c), since all this is saying is that a sequence of Is is converging to 1. So this suggests that maybe lim/(a:) = l. However, not all sequences behave like this. For instance, note that, for each n 6 N, b„ 3+ is irrational, and also b„ —> 3. So we have a sequence (&„) which is converging to 3, but (/(&„)) is just a sequence of Os, and hence converges to 0. which is not /(3). (Worse yet, you could find a third sequence (c,() for which lim f(c„) does not 11 >30 even exist, by having the terms alternate between being rational and irrational.) So we can not in general find lim / (;r) by simply finding a sequence (<;„) converging x —>3 to 3 and applying / to it and checking what f(an) is converging to. because it might depend on which sequence we pick! Indeed, our eventual definition of these functional limits will label the above limit as “does not exist.’’ And of course, there was nothing special about c = 3. By the same reasoning. any cER will have the property that lim /(at) does not exist. We are therefore going to say that this function / is continuous nowhere. R eal A nalysis, A Long-F orm T extbook 175 .'/ - 1 liin .</(«„) = c ± 0 ’Make sure you take Now we are asking for all sorts of craziness. If this is possible, then you should stop trusting all of your prior intuition about continuity. Well, get ready, because the next example does just this, and is called Thomae ’s function. a moment to appreciate how remarkably, wonderfully weird this is. Pick any c 0. Like with the Dirichlet function, there is a gap between the dots on the :r-axis near c, and those on the line y — x near c. And if (an) is a sequence of rational numbers converging to c and bn is a sequence of irrational numbers converging to c. then a function which is continuous at only one □ lim y(bn). n—>oo n—><x> Therefore, just like wit h the Dirichlet function, y is not going to be continuous at any such c. What; about at c = 0? Well, here things seem to be different. We can no longer construct, two sequences converging to 0 which have different, limits when we apply y Io them ; all such sequences also converge to 0. Sure, the function is still jumping all over the place, so it doesn’t, look anything like what, we imagine it means to be continuous at a point, but, it does seem to satisfy our guiding principle of “f(x) is continuous at c if being close to <■ implies that /(:r) is close to Indeed, as gets close to 0. all the y(:r)-values are close to (or equal to) g(c) = 0. When we eventually write down a precise; definition, it will agree that y is continuous at 0 (and discontinuous at every other point). So yes. this will be an example of point!'! Question 6.6. Clan a. function be continuous at every irrational number and discon­ tinuous at every rational number? Chapter 6: Continuity176 Exam ple 6.7. Define Thomae’s function* to be 0 This function’s grapli looks like this:1' 1 -- ■> if a; = 0 if x E Q and x if x Q. -1 2 ’t 1/2-- . 1/3-- .1/4-- I = m/n in lowest terms with n '1 1/n 0 So yes, with these functions in mind, we certainly are in need of a careful definition of continuity. But first, as we have discussed, we need a careful definit ion of a functional limit. ‘AKA the popcorn function, AKA the raindrop function, AKA the countable cloud function, AKA the ruler function, AKA the Riemann function, AKA the Stars over Babylon. “Make sure you take a moment to appreciate how remarkably, wonderfully weird this is. GSo cool that it made the cover. Notice that at any rational point c, we have /t(c) > 0; meanwhile, there are irrational numbers x arbitrarily close to c which have h(x) = 0. So h will indeed be discontinuous at every rational number. At any irrational number c, though, we can show that h is actually continuous. We will prove this in detail later, but the basic idea is this: Let f > 0, and find an N for which < E. We can show that, in some region around c. all .r values have < ^ < e. To see this, note that there are only finitely many rational numbers which have a denominator of N or smaller and are also within, say. distance I of c. Find the one that is closest to c, and suppose it. has distance d > (I from < . Phen, all rational numbers in (c- <f, c + d’) have denominators that are larger than .V. So within this range, all function values /t.(a:) are smaller than 1 .V. Awesome! And, as you can imagine, as N gets large this forces all the function values to be converging to 0 in these shrinking regions around c, kind of like what happened at c = 0 in the modified diriehlet function. So yes, this will be an example of a function which is discontinuous on Q, and continuous on 1R \\ Q!'1 R eal Analysis, A Long-Form T extbook 177 Functional Limits6.3 € A for which !/(*) - M We also say lim f(x) converges to L in such a situation. This definition is both important, and confusing, so some comments are in order. g A is just 1- J 2 43 Definition. Definition 6.8. Let. J : A —> R and let that. 2 1 we do not always explicitly Comment I- The reason we require that x Remember, /' : A —> R, so if .r f/ A then f(x) is not never take /(<•), so that’s why it’s ok if c 0 A.) lim /(a;) = L X—>c 0 there exists some & > 0 such that for every x <5, we have so that f(x) makes sense, even defined. (Note that we lim /(x) = 1 x —>2 ( 'eminent 2. The reason why we require 0 < |a: — <j (i.e. .r / <•) is because limits only care about what happens as you approach the point c, not what actually happens al. the point, c. Indeed, J(c) could be changed to anything at all or could not even i .l ist and the limit, would be unaffected. Comment 3. When the context is clear, for convenience state the conditions x g A and 0 < |a; — c|. if for all £ 0 < - c| Continuing with our discussion, we think about “lim /(a:) = L” as meaning “as x gets arbitrarily close to c, f(x) is getting arbitrarily close to L.” We will state this in a fairly general way. Rather t han requiring that f be a function from R to R, we will allow the domain to be some subset A C JR. Moreover, c does not necessarily have to be a. member of A; if c is a limit point of A, then we can still pick x-values from A I hat approach it, and everything goes through just fine. be a limit point of A. Then we say Chapter 6: Continuity178 L 4* £ — L — L — e — / <- / L + s L - L - e -- <- () Pablo Picasso I So we could restate the definition: lira /(at) — L if for all s > 0 there exists a 6 I —>C such that if x is in the ^-neighborhood of c, then f(x) is in the e-neighborhood of L. e-neighborhood of L ^-neighborhood of c -H-k c-J c c + 6 -H-k c — <5 c c + h Comment 4. Below is the important picture to keep in mind, even though as we will and have seen, it is overly simplistic.7 Suppose /, c, and L are as pictured below, and we are interested in showing that lim /(:/:) = L. The picture shows that if x has the property that 0 < |.r — <■: < A (meaning that the x-values are between the vertical dashed lines), then /(.r) has the property that |/(x) — L| < e (meaning that the graph of /(.r) has //-values inside of the horizontal dashed lines). Indeed, there is another way to think about this using the neighborhood terminology from topology. to realize the truth. ”7“Art is a lie that enables us R eal A nalysis, A Long-F orm T extbook 17!) v L - L — £ - c And with that, limit 8 There is no ^-neighborhood of c which works For this ^-neighborhood we conclude our comments on Definition G.8, the definition of a By negating the above, here is what it means for / to not, be continuous at c: Comment 5, To show something is not. continuous, you must prove the negation of the definition. The definition of f being continuous at c is this: -H-k — <5 c c + <5 For that particular e, there is no possible <5 > 0 that we could choose to have the limit criterion hold. In particular, for any 8 > 0 that we choose, the .r-values between c and c I <5 are guaranteed to have |/(x') — L\\ > e. And since we found a single e for which the criterion fails, / is not. continuous at c. 0 such that for all 8 > 0 there exists some x e A < 8 for which |/(a:) — L| > e- There exists e > satisfying 0 < |.r — c| ’’.Inst like with the definition of sequence convergence, this is a definition that yon should aim to fully understand. And so I will echo my earlier advice: If you don’t fully understand Definition 6.8, then go brew a pot of tea, find a comfortable Thinking Ghair, and ponder it carefully. Don’t move on until that pot. is emptied. For all e > 0 there exists some 8 > 0 such that for all x € A for which 0 < |x - c| < 8, we have |/(a:) — L| < £■ That is, we must find just a single e which fails. The (still simplistic) picture for lim /(x) 7^ L is this: C hapter 6: Continuity180 Here’s an update on your brain expansion status:9 this meme still being a thing... Where you were at the start, of t he chapter Where you are now If you can draw it without picking up your pencil A function is continuous if it’s like x2 If it does not have any holes or jump 9I’m really doubling down on If when .r gets close to «, the funct ion /( j*) gets close to /(fl) Ik If for each r. lim /(.r) /(c) If for all e > 0 there exists some A > 0 such that. |.r <j < <5 implies l/(*) - /(<■)! < f Real A nalysis, A Long-Form T extbook 181 Examples Let’s now do some examples of this definition. conclusion e e E / |.t - 3|where 0 □ I on one side, which then tells us 0. Then for any x e e 5 So let 6 — - 5 Example 6.9. Let /(a;) = 5a; + 2. Prove lim /(a;) = 17. x—>3 I./ - L\\ = |5.a; + 2 - 17| = |5a: - 15| = 5 • |:r — 3| < 5 • 6 = 5-- 5 = E. Solution. Let. e > 0. And let <5 = f |/(a;) - L\\ < e, and then we unwind this until we get just an |a; — 3| which <5 will make it work. WTS: |/(.r) - L\\ |5a; + 2-17| 15a:- 15| 5 • |a; — 3| |.a; - 3| Scratch Work. Let e > 0. Recall, |a; - 3| < <5 is what we will assume, for whichever h > 0 that we choose. So in this scratch work we will assume that our holds, We were able to get down to just |a: — 3| on the left, which is the thing that we can control. So if we choose <5 to be e/5, the above can be redone to provide a proof that, lim/(.-r) = 17. Chapter 6: Continuity182 Example 6.10. Let. f : R\\ {2} —> R where /(a:) £ - 12 e e e V A,|.r - 2|0. Then for any a: where 00. And let <5Solution. Let e !/(*) - L\\ = - 12 - 12, □ The next example is that of a rational function polynomial. l/(*) - L\\ and then we unwind this until we get just, which 6 will make it work. Here’s that: f f £ £ 3 So let. <5 = - 3 a polynomial divided by another 3a:2 - 12 a: - 2 3(.t - 2)(a: + 2) a: - 2 = |3(a: + 2) - 12| = 3 • |(a: + 2) — 4| = 3 • — 2| <3-5 -5 We were able to get down to just |a: — 2| on can control. So if we choose 6 to be e/3, the above that lim /(a:) = 12. x —>3 the left, which is the thing that we can be redone to provide a proof E, an |.a: — 2| on one side, which then tells us 3a:2 - 12 ---------—-. Prove lim = 12. — x —>2 WTS: |./’(:r) - L\\ I 3.t2 - 12 |-T ^- 12 3(a: — 2)(a: + 2) a: - 2 |3(a: + 2) - 12| 3- |(a: + 2) -4| 3 ■ |a: - 2| |;c-2 | Scratch Work. Let e > 0. Recall, |a; — 2 1 < A is what we will assume, for whichever <5 > 0 that we choose. So in our scratch work we will assume that our conclusion holds, R eal Analysis, A Long-Form T extbook 183 6.4 Properties of Functional Limits Proof. Suppose A C ]R, <• is a limit point of A, and f : A -> 1R. Suppose lim /(:k) — L2.andlim = L\\ 0, which 0 such that 0 k - c|0 such that 0 \\I(•'••) - L.| |a:-c| <51 (Triangle inequality) □ Proposition. Proposition G.ll {Functional limits to at most one value. e 2 0 < |:c — c| would imply that L\\ = L>, as are unique). A limit lim /(:r) can converge e for all e In our discussion in Section 6.2 on the three interesting examples, we mentioned t hat one reason a functional limit does not exist is because there arc two sequences a„ and 6„, both of which converge to c, for which lim f{an) lim f(bn). We will n—>oo n—>oo show now, though, that if all such sequences do converge to the same thing, then the functional limit does exist, and equals that common value. |/Cr)-L t|<|. Likewise, since lim f{x) = L>, there exists some Ay implies |Lj - = |L, - f{x) + f{x.) - L2\\ < \\Lt - f{x)\\ + |/(.-C) - L2\\ = |f(-T) - L|| + |f(®) - L2I E £ <C — — 2 2 Let <5 = min{rt'i,<L}, and notice that now 0 < |:r —c| < <5 implies both 0 and 0 < |;r — c| < d'_>. And so, for all x where 0 < |:r - c| < <5, wo have We will show that |L| — L2I desired. To t his end, let e > 0. Since lim f{x) = L|, there exists some <5| |rr — <-| < rf] implies Chapter 6: Continuity184 a,i —> c 0 such that for Therefore, by negating the above, convergent sequence (Definition 3.7). r Theorem. This is not true: For all e : all x € A for which 0 < |.r — c| 0 there exists some J : ; 6, we have |/(at) — L| 0 such that for all d' > 0 there exists C 6 for which |/(.r) — L\\ > e. 10Here, 6 is taking the role of e in the definition of a 0. by definition 111 N. But by the last paragraph. an is close to c for n > f(an) is close to L for n /(an) —> L. Theorem 6.12 (lim /(a:) = L iff every such f{an) —> L). Assume that A C R. f : A —> R, and c is a limit point of A. Then lim f(x) = L if and only if. for every sequence a„ from A for which each a„ c and o.„ -> c, we have /(«,,) —> L. Proof Idea. For the forward direction, we are assuming that if ,r is close to a (say. |at - a| < <5), then /(a) is close to /(a) (say, |/(at) - /(a)| < e). What we aim to show is that an -> c implies that /(an) -> L. Broadly, this is done like this: For the reverse direction, we are assuming that, every sequence <z„ for which a„ —> c has the property that /(an) —> L, and we are trying to show that lim /(.; ' = I.. The assumption about “every sequence...” is a little awkward to apply. However, if we use a proof by contradiction or by contraposition, then we will be assuming that lim /(ar) 7^ L, and we will be aiming to find a sinyle sequence (</. which does not have the asserted property. This is a clearer path. Proof. Throughout the proof, assume that x 7^ c and an 7^ c for all zz. First we will prove the forward direction. Recall that the definition of \"lim /(.r) = L” is that for any s > 0 there is some <5 > 0 such that it 0 < |.r — <• < <5, then |/(:r) — L| < e. Let an be an arbitrary sequence from A converging to c. We will now show that /(an) is converging to L. Let £ > 0. We wish to show that there exists some Ar for for which f \\<i- L\\ for all n > N. To see this, simply note that since an —> c and <5 there exists some N for which |an — cj < <)' for all n this then implies that |/(a„) — L| < £, as desired. We will now prove the reverse direction. Assume that lor ('very sequence from A for which each an 7^ c and an c, we have /(an) L. And assume for a contradiction that lim /(at) 7^ L. That is, we are assuming this: This is true: There exists £ 7 some x 6 A satisfying 0 < |rc — c| N N (Say, |«„ — c| < d, for 11 > X 1 (By continuity of /) R eal A nalysis, A Long-Form T extbook 185 l/(*n) andlim f( i’) = L Then, for any k € R, (ii) + W(x)] = L + M, (iii) lim [/(;r) • .(/(;/:)] — L ■ M , and (iv) lim Note. Corollary. lim <;(.r) = M. lim /(an) lim f(bn), n->oo n —>oo then we can conclude t hat lim /(a:) does not exist. Corollary 6.14 (Fiinc-y limit laws). Let f and g be functions from ACE toR and let c be a limit point, of A. Lastly, assume that Note G.13. Theorem 6.12 gives a criterion to determine that a functional limit does not exist: If you can find two such sequences a„ and bn which both converge to c but for which With Theorem 6.12, any result that holds for all sequences converging to a point <• will also apply to functional limits! Indeed, this theorem quickly gives us functional analogues to the sequence limit laws (Theorem 3.21) and the sequence squeeze theorem (Theorem 3.23). Proof. By the sequence, limit laws (Theorem 3.21), each of the asserted properties holds for all sequences an —> c. Therefore by Theorem 6.12 they also hold for the functional limit. (i) lim [A-•/(;»•)] - k- L f(x) k ■■■ ( = — , provided M 0 and g(x) 0 for any x € A. In particular, for this e > 0, by letting Sn - £ we see that, there exists some xn e A satisfying 0 < |.r„ - c| < £ for which |/(:r„) - L\\ > e. Note that |a;n - c| < 1 implies that. :i:n —> c. So we have found a sequence (xn) converging to c for which L\\ > e for all n, and hence f(xn) -ft L. This contradicts our original assumption, completing the proof. O Chapter 6: Continuity186 /(*') < ,9(t ) < /i(x) for all x £ A. Lastly, assume that and Then lim //(.?:) = L. 6.5 Continuity |/Gr) - /(c)| If f is continuous at every point in its domain, then f is called continuous. Corollary. Corollary 6.15 (Func-y squeeze theorem). Let f. g and h be functions from 71 C R to 1R and let <■ be a limit point of A, and suppose that We have already mentioned the definition of continuity. but let 's state it here formally. One way to state it is this: A function is continuous at a point <• where <■ is a limit point of A\\{<:}) if lim /(.<:) = f(c). This definition is sometime-, hard to apply: X— furthermore it doesn’t really explain, at a nuts-and-bolts level, the reason why a function is continuous at a point. So we are going to unwind this functional-limit definition, and write it in terms of epsilons and deltas. This will additionally clarify the case where c is an isolated point. lim fix') = L x —>c' lim /t.(;i.) = L. There are only small differences between the above and Definition 6.8 where L = /(c). First, Definition 6.8 assumes 0 < |at- c|, but in the case that c 6 .4 (which Definition 6.16 assumes), no issues arise. Definition 6.8 also assumes that c is a limit point of A, but if it’s not, then observe that / is guaranteed to be continuous at c. With functional limits, we proved that its e-5 definition was equivalent to a topological and sequential definition. The same holds with continuity, as the next theorem shows. Definition 6.16. A function f : A —> 1R is continuous at a point <■ e .-1 if for all e > () there exists some 6 > 0 such that for all £ .4 where |.r - c| < 4 we have Proof. By the sequence squeeze theorem (Theorem 3.23) the result holds for all sequences an -> c. So by Theorem 6.12, it also holds for the functional limit. Real Analysis, A Long-Form T extbook 187 (i) / is continuous at c, 0 such that for all x e A where |a: — c| < <5(ii) (iii) For all sequences («.„) from A which converge to c, we have /(an) -> /(c).(iv) lim /(.a) = /(c) if c is a limit point of A.(v) why our argument worked for the Theorem. Note. Proof Sketch. Tin' fact that (i) is true if and only if (ii) is simply Definition 6.16. And (ii) being equivalent to (iii) is again just due to a definition: Applying Definition 3.11 we can simply replace the absolute values with e- or ^-neighborhoods. The proof that (iv) is equivalent to (ii) is essentially identical to that of Theorem 6.12. 'Die proof that, (v) is equivalent to (iv) is due to Theorem 6.12. Indeed, using this note we now officially see Dirichlet function. we will Poincare once said that “mathematics is the art of giving the same name to different things.\" This is certainly true for most of Theorem 6.17. Most lines in this theorem are simply rephrasing the original definition using other terms that we have learned. The exception is (iv) this is substantially different, and it will be useful to keep it in mind as an equivalent condition. Indeed, this sequential formulation is often easiest to work with, especially to show that a function is not continuous. In fact, we will now formally note this. For any e-neighborhood of /(c), denoted K(/(c)), there exists some d'­ neighborhood ofc, denoted Vj(c), with the property that for any x. e A for which x e V^(c), we have /(;»;) G K(/(c))- Theorem 6.17 (Continuity topologically and sequentially). Let / : A —> R and c 6 A. Then the following are equivalent. For all £ > (I t here exists some d we have |/(.-r) - /(c)| < e. Note 6.18. By Theorem 6.17 part (iv), if you can find a single sequence (an) from the domain for which «„ -> c while /(«,,) /(c), then you may conclude t hat / is not continuous at c. In particular, if you can find two sequences (<i„) and (b„) from the domain, both of which converge to c, but lim f(a n) A lim f(bn), then at least one of it—>oo n —>oo these is not equal to /(c) and so / is not continuous at <:. Chapter (>: Continuity188 Next are more results which (i) fc • /(a:) is continuous at c, for any k e R; (iii) /(x) • </(x) is continuous at c; and /(x) = On a:\" + an-ix ’ H-------F a\\X + a0, Proposition. Proposition 6.20 (Continuity limit laws). Let f : A -> R and </ : .4 + R be continuous at c, and let c g A. Then, Example 6.19. Our argument in Example 6.3 that the Dirichlet function is contin­ uous nowhere now works. We showed that every e has a pair of sequences converging to it with different limits when you apply f. By Note 6.18. that's enough. are easily obtained from previous results. Example 6.22. By the previous example and Proposition 6.20. this then implies that every polynomial is continuous. Indeed, since by n applications of Proposition 6.20 part (iii) where each function is f(x) = x, this implies that f(x) = xn is also continuous. Then by (i) we see that for any an e R we have the monomial f(x) = anxn being continuous. Now apply (ii) for different functions of this form, we get a polynomial Compounding Examples Limit laws are great because they allow you to use simple examples von know to be continuous to build more complicated examples with that property. So let's take a page to see how far these limit laws can take us. We begin with one of the simplest continuous functions, f(x) = x, and then we repeatedly apply Proposition 6.20. (ii) f(x) + g(x) is continuous at c; (iv) . is continuous at c, provided </(x) / () for all x € .4. Example 6.21. The function f : R —> R given by f(x) = x is continuous. Here’s the proof of that: Let c be any real number. Let £ > 0. ami then let a . Then |x — c| < 6 implies |.x — c| < e. And so, by the definition of f. this is equivalent to |/(x) — /(c)| < £. And hence by the definition of a continuous function, f is continuous at c. And since c was arbitrary, f is continuous. Proof. By Theorem 6.17 part (v), we can rephrase each of these in terms of a functional limit, and after doing so we exactly have the statement of Corollary 6.1 1. and hence this completes tin' proof. Real A nalysis, A Long-Form T extbook 189 which is t hen continuous. (f ° P)(c) Proposition. If I gave you the limit of a polynomial (from R to R), like lim(a:3 — 4a:2 + 1), how would you find the limit.? From calculus you probably arc dying to just plug the limit, in. Well by the above, now you can. Proposition 6.24 (f,g continuous => fog is too.). Suppose that A, B C R, .7 : -A ~* B and f : B —> R. Il g is continuous at c € A, and f is continuous at .(/(c) e B, then J o g : A —> R is continuous at c. Example 6.23. Define a rational function to be a polynomial divided by a poly­ nomial, with souk' domain for which the denominator is never zero. We see that rat ional funct ions are always continuous, since by the previous example we know that any two polynomials are continuous, and by Proposition 6.20 part (iv) we then know t hat, t heir quotient, is as well, as we have already noted that the domain is properly rest ricted so that the denominator is never zero. This approach has now ran dry, though. Any additional applications of Proposition 6.20 will cont inue to yield rational functions. We next investigate another way to obtain new continuous functions from known continuous functions: compositions. Recall that given two functions f and g, that fog is notation for the composition function. That is, Il might look funny that, we have parentheses around the “/ oj\" and around the \"a\". but. t he ones around the “/ o g\" are there to be clear that the “/ o g” is its own thing, so those parentheses are just grouping them together it is a function and we should be thinking of it as a unit. The parentheses around the “a;” are the usual ones around the argument of a function, like /(a;) or //.(a:). Proof. We will use the sequential formulation of continuity, as per Theorem 6.17 part (iv). Consider an arbitrary sequence (an) from A converging to c. We aim to show that (./' o .g)(an) converges to (/ o g)(c). Chapter 6: Continuity190 by Theorem Fact 6.25. • f : R -> R. /(.r) = ex is continuous. • f : (0, oo) —> R, /(:r) = log(x) is continuous • f : R —> R, /(ar) = sin(.r) is continuous. • / : R -> R, /(x) 6.6 Topological Continuity /- ‘(B) = {x £ A' : /(x) S B}. So the inverse of a set is itself a set. Fact. Definition. Definition 6.26. Let X, Y C R and f : X -> V. For B C F, define the inverse image, (or pre-image.) Now here arc a few more standard functions. In Exercise 6.6 you are asked to check that they are continuous. = cos(x) is continuous. an inverse. For example, f : A — ?. given In each input of a function ncrxls to give exactly Since each a,, is in jy’s domain, and a„ —r c, and g is continuous at 6.17 part (iv) we know that g(an) —> g(e). Now, note that since g is a function from A to B, each .</(</,,) is an element of B. So g(an) is a sequence in B\\ Likewise, since c € A, <;(<■) e B. Now, the last paragraph concluded that g(an) -> p(c), so we can again apply Theorem 6.17 part (iv). We have that each g(a„) is in / ’s domain, and </(a„) -> </(c), and f is continuous. So by Theorem 6.17 part (iv), we know that /(</(«„)) —> f(g(c)). We have shown that lor an arbitrary sequence an in (f o </)’s domain, we have that (/o </)(«.„) converges to (/ ° .</)(<■), as desired. Recall that not every functions has /(x) = x2 docs not have an inverse one output, but if ./' 1 (■*•) were ti function, then is f 1 (4) equal to 2 or -2? So we can not simply define the general inverse for an arbitrary function. Wo can. however, always define the inverse of a set. R eal Analysis, A Long-Form T extbook 191 .r'(n) (1/5,4). 5a:, then• If ./' : R -> R is again given by f(x) /- ‘(R) = R. • If / : R -> R is given by /(a:) = :i:2 and 13 is the open interval (1,49), then / “’(B) = (—7, —1) U (1,7). • If f : R —> R is again given by /(a:) = a:'2, then f '((l,4)U(25,oo)) = (—cso, —5) U (—2, -1) U (1,2) U (5,oo). □ /-'(B) = [2,4). f ’(j?) = (1/5,4) O [2,10]. / 1 (R) = Rn[2, 1(1], J Note that in all of these examples, we were taking the inverse image of an open set . and what, we got out was itself an open set. This is not. an accident, and it is almost a general property; then' is just, one way to prevent this from holding, which the next example illustrates. Example 6.28. • If f : [2, 10] —> R is given by /(a:) = 5a: and 13 is the open interval (1,20), then You see? It would have been an open set, but was just forced to be restricted because of the domain. Another way we could have written the above is that □ What these examples suggest is that if J' : X -> R is continuous and 13 is open, I hen f [(I3) is either it self an open set, or is equal to A fl X, where A is some open set. I his is further supported ii you recall the fact from your intro-to-proofs class that f 1 (|J(i 13,,) = (Jrt f l(Ba) (also asked of you in Exercise 6.11). Indeed, as the next theorem states, this is an if-and-only-if condition. Example 6.27. • If f : R —> R is given by /(a:) = 5a: and B is the open interval (1,20), then • Likewise, with the same J as above, Chapter 6: Continuity192 r Theorem. lure, where function f Proof Sketch. For the forward direction, we begin with the following pict we have a domain set X, a codoniain set R (each drawn as a blob), a I going between them, a subset BQ R, and its inverse image under Theorem 6.29 (/ continuous <=> B open implies f '(B) = open A X). Let R. Then f is continuous if and only if for every open set B. we have f~'(B) = X A X for some open set A. How do we do it? Well, we don’t know anything about f '(B), but we do know something about B it’s open. So any point over there we can find a region around (which is contained inside B). Seems like a start, so let s use that. To do it, let s take To and apply f to it. What we get, /(ato), will be a point in B, and hence subject to B's openness property. We want to show that f~'(B) = A A A' where .4 is open. As you'll see. getting f~'(B) to be in A' will be easy. The thing we need to show is that it behaves like an open set. That is, we want to show that if .cq € f '(B). then there is some open neighborhood around .To that is also contained inside /' 1 (Z?). That is. wt want to be able to draw a circle like this: R eal Analysis, A Long-Form T extbook 193 I'his is almost precisely what With a few details omitted, this is the big idea. Now let’s prove it formally. For f : A' —> R and r g X, / is continuous at c if and only if, for any .--neighborhood K(/(c)) of /(c), there exists a ^-neighborhood 14(c) of c with the property that for any x € X for which x € 14(c), we have /(•<•) e K-(/('•)). Since is open we can find some open neighborhood around /(.i.'o) which is coni ained inside /3: How do this to get an open set around xq'I The idea is to use the fact that / is continuous, which we haven’t used up to this point. Recall the topological definition of continuity (but calling the domain X) from Theorem 6.17 part (iii): Chapter 6: Continuity194 /- 1(K(/(t0))) = Anx r Want to show: For any To g f ' (B), there is some ^-neighborhood FsC't'o) of x 0 witli the property that for any x g X where x g \\ js(.r0). we have x g /~ ’(B). for some open set A. And of course, tq g .4 D A'. Since .4 is open and To g A. there must exist some ^-neighborhood Ijj(To) of To contained inside A. Therefore, if x g A and x g V«(t0), then x e AC\\X, and hence f(x) g V£(to), as drain'd. Pi-oof of Theorem 6.29. First assume that f is continuous and let B be an open set in IR. We aim to show that / '(B) = ADA’ for some open set A. If we were only trying to show that / -1(B) equaled some open set A, then (by the definition of an open set) what we would want to show is that for any .r() g (B). there is some open interval (tq — S, xq + S) which is contained entirely inside of A. But since we are trying to show that /~ l (B) = A D X for some open set A, we only care about this property holding for x g X. So we just have to amend the openness property like so: Note that we now have another characterization of continuity. The conditions in Theorem 6.17 were all local conditions that demonstrated continuity at a point, while this is a broader condition guaranteeing continuity at every point meaning the entire function is continuous. Now, to prove this, we will use the fact that f is continuous and B is open. Since t0 g / -1(B), we know that /( to) 6 B. So we have a point inside oi an open set. By the definition of openness, there must exist some > U such that (/( to) — E, /( to) + e) C B. That is, we have an ^-neighborhood I ' ( f (To)) of /( to ) inside of B. Now we use that f is continuous. By the topological definition of continuity (Theorem 6.17 part (iii)), there does indeed exist some rf-neighborhood IT,To) of.ro with the property that for any x g X where t g Vjs(To). we have /i.rt g V (/( to)): i.e., for all these t , we have x g / “ ’(^(/( tq))) C f '(B). as desired. To prove the reverse direction, assume that for every open set B. / 1 (B) = AO A for some open set A. We aim to show that f is continuous, and we will do so by showing that it satisfies the topological definition that we have been using. Choose any xq g X and £ > 0. Since 14 (/( to)) is an open set. the hypothesis gives that R eal Analysis, A Long-Form T extbook 195 The Extreme Value Theorem6.7 Proof Sketch. The idea behind the proof is contained in the following picture. ./'(/I) I J Theorem. This next section begins with one more connection between continuity and the fundamental objects of topology: compact sets. Step I. (Consider - an open cover {[/„} of f(A). Step 4. Then {(Ji,..., U„} is a finite subcover of {L/„}. one of Step 2. Then (/ '((/,.)( is an open cover of .4. Proof. Suppose A is compact. We aim to show that /(A) is also compact, which we will show via the definition. To that end, let {[/„} be an open cover of /(A). We will find a finite subcover of this cover, which will complete the proof. By Theorem 6.29, each J '([/„) = Va D X for some open set Va. In particular, note that G Va. We will show that {Va } is see that {Vj,} is a cover of A, is sufficient since an open cover of A. By the above, each Vn is open. To a cover of A, we will instead show that { f 1 ([/„)} is a cover. This we already noted that each ./ ' C Va. Consider any xu 6 A; Step 3. .4 is compact, {f 1 Gz.«)} has a finite subcover: 1/ '(\"■)....... / '(Un)} The only additional justification that is needed is in Step 2. Theorem 6.29 does not technically guarantee that f 1 ([/„) is open, but that = V.Ti.X for some open set Vn. So technically our open cover of A will be {V,y} but the above sketch will still essentially work. Theorem 6.30 {The continuous image of a compact set is compact). Suppose f : X -> R is continuous. If A C X is compact, then /(A) is compact. C hapter 6: C on tinu ity196 compact set => bounded). A continuous function previous result. But due to its importance it is known Corollary. Corollary 6.31 (Continuous on on a compact set is bounded. on any closed interval, this same for example. R is a closed set. so cl< >sed d< unain is if Here’s another corollary, and you know it’s important because it has a name. It s called the extreme value theorem.11 \"It’s a corollary because it follows from as the extreme value theorem. This has a nice corollary. Notice that / : R —> R given by /( t ) = .r is a continuous function that is also unbounded', meaning, the range of/. which is ? '.. is an unbounded set. You see, if the domain is an unbounded set (like R). then it is east to have a range that is also unbounded (like R). That said, you don't need the domain to be unbounded in order to get an unbounded range. For instance. / : it), 1' —> R given by /( t) = j is a continuous function on the hounded set (0, 1). but yet / is unbounded. However, if /(:r) is continuous on [0, 1], then we can guarantee that / is bounded; meaning, the range of / is a bounded set. And property will hold. But. not. just any closed set the first, example in the last paragraph shows that guaranteeing a not sufficient. You also need the domain to be bounded. But that is enough the domain is closed and bounded, then any continuous / will be bounded. Said differently, if / is a continuous function on a compact set, then / is bounded. we will show that some f~ l(Uao) covers To- Consider /( to). Since /( to) G /(A) and {[/„} is a cover of /(A), there exists some Una which covers /( to); that is, /( to) € Una. But then tq 6 f l(Uno), as desired. So indeed, {/~ ’([/„)} covers A, and hence {!'),} is an open cover of A. And hence, by the compactness of A, there must exist some finite subcover {Vj, Vo..... V,,} of A. Recall that each Vt has a corresponding set f~ l(Ui) for which f~ l (Ui) = V) Tl A'. We claim {U\\, U2, ..., Un } is a finite subcover of /(A). Doing so would complete t he proof. The sets Ui, U2, ... ,Un are from the open cover {l/a }, so clearly these are open. So all we need to show is that they do indeed cover /(A). To this end. choose any !/ 6 /(A). To be in /(A) means that there is some x e A such that /( t ) </. We showed above that f~ '(U t),f covers A, and so since .r t A this in particular means that there is some / “ ’(tZ*-) that covers r. But ,r t / l(f *) implies that y = /( t ) G [Zj.. So indeed, given an arbitrary // € /(A). one of the open sets U\\, U2, ... ,Uk did cover it. So our open cover does have a finite subcover, completing the proof. Proof. If A is compact and / : A —> R is continuous, then by 1 heorem 6.29. /(A) is also compact. And hence by the Heine-Borel theorem (Theorem 5.19). /(A) is closed and bounded. So / is bounded. R eal Analysis, A Long-Form T extbook 197 11 ~x Example 6.35. Suppose J : [0,4] —> R is given by /( t ) = *x J Theorem. Theorem 6.32 (The extreme value theorem). A continuous function on a compact set attains its supremum and inlimum. if x G [0,2), if x e [2,4], By “at tains” its supremum we mean that not only docs the supremum exist (call t his supremum Al), but there is in fact some point ao for which /(ao) = Al. Because this theorem is so important, let’s do a few examples to make sure we understand it. x2, then ,/’([—2,1])’s supremum achieved. That is, we can hud 2 e [-2,1] 2.x 2 Example 6.33. If f : [—2, 1] -> R is given by /(a:) = is 4 and its inlimum is 0. And moreover, these are points in the domain whose images equal these values. In particular, and /( —2) = 4. And 0 G [-2, 1] and /((I) = 0. Note that here the supremum is 4 but the supremum is not achieved. That is, there is no e G [2,4] where /(<•) = 4. This shows that the assumption t hat the function be continuous is indeed necessary. The two assumptions in the extreme value theorem were that f is continuous and J s domain is compact. Now we will give two examples to show that both assumptions are necessary. Proof. Let A be a compact set; so A is closed and bounded. By 4 heorem 6.30, /(A) is also closed and bounded. Since it is bounded above and below, the supremum and inlimum of /(A) exist. Let Al = sup{/(«) : « & A} and L = inf{/(a) : a G A} (that is, Al = sup(/(A)) and L — inf(/(A))). There then exists a sequence /(«„) from / (A) converging to M, and a sequence f(bn) from /(A) converging to L (Proposition 3.29). Since /(A) is closed, they both converge Io some /(«o) and /(bo) inside the set /(A). And so / achieves its supremum and inlimum. Example 6.34. If / : ( 2, 1] R is given by /(.x) = :z:2, then its supremum is 1 and its inlimum is 0. The supremum is not achieved, though. That is, there is no c G (—2, 1] where /(c) I. This shows I.hat. the assumption that the domain be compact is indeed necessary. C ha pter 6: C ontinu ity198 The Intermediate Value Theorem6.8 0, tlit'ii there exists sonic 5 > (I such |.7: - c| l/Cd - /(c) I That is, /( ■*') ’ /(c) + e — 1 _ /(c) - /(c) -c — t <- I Lem ma. (I V |.r - c| < rf). If / is <5 > () such that /(.r) > (1 for all 0 => /(.c) (J, then there exists some /(c ) -£ Proof Sketch. Since / is cont inuous at. c, every e x 6 (c - <5, c + rf) => f(c) - e < f(r) < /(c) + f. which is already looking like what we want to show. And remember, we have complete control over e! So, for example, if /(<•) > 0, then we could choose : to be anything less than /(c), such as /(c)/2. Then by the left inequality above. Lem ma 6.36 (/ continuous, f(c) continuous and /(c) x in (c — <5, c + <5). Likewise, if / is cont inuous ami /(c) that /(;c) < 0 for all ;r in (c — <5, c + <5). will give us what we want. Below is the familiar picture of a continuous function, where we set e = /(c)/2. Notice how the portion of the graph between < - ft and c+ 6 is entirely above /(c) - E, which in turn is larger than 0, as desired. — 6 c c + <> Suppose you hike up a mountain. You leave base camp at 7am and you reach the summit at 2pm. You camp there for the night and the next morning you leave at 7am and hike back down the mountain, taking the same trail down that you took up. In this scenario, the magic of real analysis says that there must have been a moment when you were at the exact same spot on the trail at the exact same time on the two days. And I do mean exactly: perhaps bot h times you were 57.25 I’ < of the way up the mountain when the time was exactly 1 1:32 and 12. I seconds. How could we prove such a tiling? I'm glad you asked. We begin with a lemma. (I has a a > 0 for which R eal Analysis, A Long-Form T extbook 199 E the left inequality, combined with £ = implies that /(® )/(c) 0 0, and apply the same reasoning. □ 0 then there is some 5 0 for which Proposition. £ f(c) + E. /(£) 2 /W 2 -/(c) 2 Proof. Without loss of generality, assume that /(a) is positive and f(b) is negative. Let And now |/(*) - /(c) | < -E < /(.t) - /(c) /(c) - E < /(.t) as desired. In the second situation let e = Proof. Assume we arc in the first situation and let e = > 0. Then since / is continuous there’ exists some <5 > 0 such that |a; — c| < <5 implies |/(.t) — /(c)| < e. With a little algebra, we can show that this implies that /(a:) > 0. To that end, first we unpack the tho inequality |/(a.-) — /(c) | < £: Proposition 6.37 (/ continuous, f(a) > 0 > /(b) => 3 c € (a, b), f(c) = 0). If f is continuous on |</.b] and /(«) and /(b) have different signs, then there is some c G (</. b) for which f(c) = 0. A - {/. : /(a:) > 0 for all x G [u, t]}. Since /(</) I), we know a G A and hence A / 0. Moreover, since /(b) < 0, we know b </ A and hence A is bounded above by b. By completeness, these imply that sup(A) exists. Let c sup(A), and note that c 6 (a,b). If /(c) = 0 then we are done, so assume for a contradiction that /(c) 0. If /(c) > 0, then by Lemma 6.36 there exists some 5 > 0 for which /(ar) > 0 for all ./■ G (c - <5, c + 5); in particular, /(a;) > 0 for all a: G (c - <5, c + 5/2]. And certainly (c - 5) G A since otherwise c — 6 would have been an upper bound of A, contradicting our claim that c was the least upper bound of A. And so by definition, (c — 5) G A means t hat f(x) > 0 for all a: G [a, c — 5], But at the start of this paragraph we also showed that /(.a;) > 0 for all a: G (c — 5, c + 5/2]. Putting these together, we see that /(a:) > 0 for all x G [a, c+5/2], which means that (c-f-5/2) G A, contradicting our claim that c is an upper bound on A. By very similar reasoning, if /(c) /(c) 2 C hapter 6: C ontinu ity200 With that, we are now ready for this section's titular theorem. f(b) f (a): let sa <Y. <;(<•) = 0 That is, □ Theorem . /(e-tf/2) the proof. [</, b]. Then note l hat (I. So by 0. contradicting c being the least upper bound of .4. This completes □ So we have found a c € (a, b) such that /(c) — o, as desired. Interestingly, in some sense the converse to Theorem 6.38 is not true. That is, suppose you know that a function / has this property: Given any pair of points a < j\\b v it's easier a < f(b) Theorem 6.38 {The intermediate value theorem), if f is continuous on Io. bl and « is any number between /(a) and f{b), then there is some c t (a, b) for which /(c) = a. Proof. If /(«) = /(b), then there are no numbers between /(«) and f,b :. so there is nothing to show. So assume that f(a) / f(b). \\\\ ilhout loss of generality, we max assume /(a) > f(b). So /(a) > a > f{b). Deline ,</(;r) = /(ar) - a and note that g is continuous on since /(a) > a, we have t;(«) > 0. Anil since /(b) < a, we have g(b) Proposition 6.37. there is some c g (a, b) such that Note that “u is any number bet ween f{a) and f(b)\" means eit her \"/ (<t) or “/(b) < a < But we don’t know whether /(a) or /(b) is larger, to say it the way we did. Proof Sketch. By assumption, either /(a) assume it’s the former. Now, by Proposition 6.37, which just proved, if <i = (). then we are done. So what do we do if a 0? Well, that proposition is still a powerful tool, so we still want to make use of it. How do we do so? We create a new function! If you let g{x) = /(:;:) — a (intuitively, g is the same as /, just scooted down by <>). then “/(a) < a < /(b)” turns into “<;(«) < 0 < g(b),\" and we are able to apply Proposition 6.37. This gives us a c such that //(<•) = 0, which corresponds to /(< > = o. as desired. This idea of proving the “zero case” before proving the general case will be used several more times in this book. /(c) - a = 0 /(c) = a R eal A nalysis, A L ong-F orm T extbook 201 1, The Hiker Problem 7am Kam 9am lOaml lam!2pmlpm 2pm 1 + 1 -4—> X 2 At the start of this section we mentioned the problem of the hiker. We wish to show that if a hiker leaves base camp at 7am and travels up a mountain trail, camps at the summit t hat night, and then the next, day departs the summit at 7am and travels back down that same trail, then at some point the hiker was at the exact same point on the trail at. the exact same time both days. We can graph their two journeys on the same graph (with a ‘time’ axis vs an ‘progress’ axis where 100 means you are at the summit and 0 means you are at base camp). As you can imagine, these continuous functions will have to intersect somewhere, and whim they do, both their times and altitudes will match.12 That said, the intermediate value theorem can not directly be applied to prove this. Rather, it follows from a more general result that you are asked to prove in Exercise 6.46. 2 I here’s an intuitive way to think about this. Instead of thinking about the same person hiking on different days, imagine that, a hiker ami his twin were hiking the same mountain on the same day. One starts at base camp and hikes up the mountain, while the other starts at the sununit and hikes down the mountain. It’s intuitively clear that at some point these two will pass each other on the trail, and that point is the point we are looking for. ]sm (l/:r) for a: 7^0, ./ (:r) = < I 0 tor x = 0. a and h, and any value a between /(a) and /(&), there exists some c G (a, b) for which /(c) = a; this is called the intermediate value property. Must such an / be continuous? Surprisingly, the answer is ‘no.’ The below, called the topologist’s sine curve, is such an example. Chapter 6: Continuity202 6.9 Uniform Continuity IO'6 R. you would let <' £ e 6 I implies |:r + e|If we insist 3 < 1, then |a: — c| 2c 4- 1. So by choosing <5 \\f (t) - f (c)| = |t2 - c2| = |at - c| • k + c| 6 ■ k + c| < • k + 4 2c + 1. Combining this with the1 implies k + c| < (c + 1) + ■(2c+l) =• k + c| <Ifk) - /k)l Note that k — cl above we have (0. oo), you would rf. If 4) - |:r — c| • |a: + c| k - c| £ 2c+ 1 e 2c + 1 2c 4- 1 2c 4-1 we can guarantee the previous line holds. Consider f : IR —> R where /(a:) = 5x. To prove f is continuous at each c G R. you would let e > 0 and (from your scratch work) you would let rf — s/5 > 0. Then, for all x G R such that |a: — c| < <5, £ £ k + <1 £ |.r 4- c| Likewise, to prove that /(a:) — l().r is continuous at each Note that steeper slopes are requiring smaller rt\"s. Now consider the function /(a:) = x2 on the domain (0, x). We know this is a continuous function: Let £ > 0. For any c C (0,oo) we can lind some 0 > (I such that, if |a: — c| < 3, we have |/(a:) — f(c)| < E. In particular, if you wanted to write a proof that f is continuous, you might begin with the following scratch work: |/(a:) - /(c) | = |5a: - 5c| = 5 • k — c| < 5 • 3 = r>4 5 Then, to write a formal proof that /(at) = a:2 is continuous on let e > 0, c > 0 and 3 = min{l, Tllen for anY G (°> °°) tor which |.r - c| we have R eal Analysis, A Long-Form T extbook 203 (a:, c G [1, 4] => |a: + c| < 8) « Let |/Gr) - /(c)| = |a:2 - c2| = |a: - c| • |.a: + c| < <5 -8 = - • 8 8 We are second case So given any s, a single 4 worked no matter which c we were at. (Indeed, when a: and <■ are close, the “|a: + (j” being about 2a: gives reason to see why the derivative of f(.r) = x 2 is going to be f'(x) — 2x.) Let’s summarize these observations. going to distinguish between these cases. We will call functions in the uniformly continuous. Note also from this that the domain is super important. Functions always have domains, and saying a function is uniformly continuous means that it only has to satisfy the condition for the chosen domain. o Let - > (). Let /(a) = a:2 on (0,oo) and let c € (0,oo). It is true that f is continuous al <•. bill in I he proof of this it is impossible to find a single 8 which works no mailer which c you choose. The reason is that for c-values getting larger and larger, it requires an increasingly smaller 8. In fact, the 8 would be approaching (I. (Since 8 depends on both on £ and c, this is sometimes written \"4 4(s,c),” as 8 is in fact a function of e and c.) Notice how 8 depends on c: We had set 8 = min{l, an(l so as c gets larger and larger, 8 in turn gets smaller and smaller. Remember that for a fixed £ > 0, the steeper t he function is, the smaller the 8 you need. So the fact that 8 is doing this makes sense, since larger points of f(x) = x2 give steeper slopes. The important point from this is that for /(a:) = x2 with domain (0, oo), we. cert ainly can not hope, for a fixed E, to choose just a single 8 and have it work for all of the c-values. For some curves, though, we can pick just a single <5, like the /(a:) = 5a: and 10a: funct ions from earlier. Consider now /(az) = a;2 on [1,4]. The steepest this curve gets is at the very end, where its slope is about 8 (we haven’t covered derivatives yet, but I’m sure you remember that the slope at the end is / z(4) = 2(4) = 8). So if the slope is never more than 8, then for any £ > 0, setting <5 = e/8 will work. Indeed, pick any c € [1,4], let e > 0, and let 8 — e/8 > 0. Then for any x G [1,4] for which |a: — c| < 8, we have (). Let /(a:) = a:2 on [1,4] and let c 6 [1,4]. It is true that J is continuous at. c, and moreover, this time, in the proof of this it is possible to find a single 4 which works no matter which c you choose. Indeed, 8 = e/8 worked. (Since 8 depends just on e, this is sometimes written “4 = 4(e),” as 4 is only a function of £.) C h a pter 6; C on tinu ity204 The first, way to state the definition of uniform cont inuity is this: k - ?/| 8 implies !/( ■' ■) - /(. ' /)! /(a:) on a domain 8 Uniformly continuous'.’ ■T2 Xo [0,4] y/x on (0, oo) Yes ex on (0, oo) min Xo 'les5a: + 2 on R (0,oo) Xo Yes(3, oo) Yessin(a:) on IR Yescos(a’) on R continuous, point-centric Definition. Definition 6.39. Let. f : zl -> R. We say f is uniformly continuous if for all £ > 0 there exists some 8 > 0 such that, for all a:, y g .4, l/.r on 1/x on x 2 on on (0, oo) But note that since c is completely unanchored, there is no difference between that x and that c; they are just any two points from A. Therefore a second way to state it is this: 13Unrelated side note: if you look at the definition, it almost looks like a version of being Cauchy. “ The first two rows have the same 8 but one is uniformly continuous while the other is not. What's the difference? It is in the domain. For the first, c can be arbitrarily big, and so will get arbitrarily small. For the second, c 6 [0,4]. If the biggest c is 4, then the smallest 8 is 2(4) fl = So for any e > 0, letting 5 = | will work, regardless of which c you chose. 'les11 I 1’ <■■ (. I) g/5 min fl 111111 {5M} Let f : A -> R. We say f is uniformly continuous if for all c > 0 there exists some 8 > 0 such that for all c g A ami for every .r g .4 for which |:r - c| < 8, we have |/(ar) - /(c) | < e. min{l,^} 111111 {‘'Tri} e2 Indeed,13 below is a table of continuous functions (on a domain . and the <1' that you would get if you tried to prove it was continuous at c. For each, we noted whether it was uniformly continuous or not. R eal A nalysis, A Long-F orm T extbook 205 x <i ■.<■ & A writes Each point c has a corresponding 6; since 6 changes Proposition. 2 of open intervals is an open cover of A, and hence by the compactness of A there ‘ > (). For each 6 A and |tr—c| e A, 3(c) So being uniformly continuous is a strictly stronger condition than being continu­ ous. How do we identify when a continuous function is in fact uniformly continuous? Well, here’s one nice result: If your continuous function is on a compact set, then you are guaranteed that it is uniformly continuous. no idea I’m making. Please am writing “6(c)” like one depending on c, 6 is indeed a function of 1GTo grammar nazis: I am aware we use letters as variables, “6s” can an apostrophe before the ‘s’ when plnralizing even if it is grammatically problematic. Also to grammar nazis: Apologies for all the mistakes that I have email me all my typos and errors. Also to grammar nazis: Good job learning real analysis! 3(c) 4_ ~T'c + t hat t he contraction does not pluralize. However, in math where be misread as a product between ‘6’ and ‘.s’. Occasionally I add a variable in order to avoid mathematical confusion, Proposition 6.40 {Continuous f on compact A => f uniformly continuous). If f : A —> R is continuous and A is compact, then f is uniformly continuous on A. Pre-proof trick. There is a t rick that we have used a number of times, but because the proof below uses it twice, I thought. I’d just highlight it now. Recall that if I\" M < fl/2 and |/> c| < /1/2, then |a — c| < fl. This follows quickly from applying t he I riangle inequality: |« - c| |a — l> + b — c| < |a — b| + |6 — c| = | = fl. Proof Idea. How do we combine compactness and continuity? First, we will let £■ > 0. Since f is continuous meaning that at every point c, f is continuous at c for every c there exists a 6(c)-neighborhood15 around c for which x being in this 6(c)-neighborhood implies f{x) is in the e-neighborhood of /(c). Now, every point <• lias a 6(c) corresponding to it. To show that J is uniformly continuous, we must prove that there is a single 6 that works for every possible c. To cut down t he infinitely many 6’s (one for each c 6 A) to a finite number, we use compact ness! Each 6-neighborhood is an open interval, and these open intervals collectively cover all of t he compact set A, and so by the definition of compactness (Definition 5.16), this open cover contains a finite subcover. And this is important, because once we have a finite collection of 6’s, we arc then guaranteed that one of t hose is the smallest 6. Proof. Suppose that / is continuous and A is compact. Let e since / is cont iniious at c, there exists some 6(c) > 0 for which x ( imply that |/(.r) /(c)| < e/2. Note then that the collection Chapter 6: Continuity206 exists some finite subcover, <5 0 <5 = min Since x € A and know I hat x € la- ~ ?/| That is, we have seen that both |a- — <*| 6(ck) I// - Cfc|and £(<. . And therefore by the original definition of S(ck). we see that l/W - /(<•*•)! e/2 !/(?/) - /(<%)! < e 2.and Applying the pre-proof trick one more time, this implies th.it □completing the proof. r Note. 2 d(et) <f(c2) 2 ' 2 we found for some kE {1,2,... ,n}. Therefore |q — x| by the pre-proof trick we see that a finite subcover of A, we aim to find a ^(q ) , 6(<k)a- — ,a + — flfr'2) , ^2)C2-^-,Q + — And also, since l.r — i/| -- 4 < <R‘n) , <>(<'»)M— r-+—Jr of A. Pick any x, y G A. By the definition of uniform continuity we such that if |x — t;| < 6 we have |/(x) — J(j/)| < E. Set “ I Note 6.41. Proposition 6.40 in particular implies that any function that is | continuous on a closed interval [a, ft] is uniformly continuous on that interval, t This is the form of the proposition that is most commonly used. ’ <5(ei) 5(C1)\\ R eal A nalysis, A Long-F orm T extbook 207 Notable Exercises • Theorem 6.30 says that if ( is continuous and A is compact, then /(A ) is compact. Exercise 0.33 shows that, even more is true in the case that A is the closed interval [a, 6], • Make sure to appreciate what. Exercise 6.35 is having you prove. It’s a neat result. /w, That • In Exercise 6.6 you will prove the continuity of some fundamental functions. The sine and cosine functions, in conjunction with the material of Chapter 9, are part icularly important in the branch of analysis called Fourier analysis. A teaser straight from the 1822 mouth of Joseph Fourier: “There is no function r part of a function, which cannot be expressed by a trigonometric series.” ■rtainly caught the math world’s attention! • 1 here arc a number of important, fixed point results in mathematics. A first version of this type of result is given in Exercise 6.48, and a famous version is given in Exercise 6.56. can I will ; 6.31 (of a • Exercise 6.2 I asks yon to prove that a peculiar function satisfies the intermediate value property, and Exercise 6.24 asks you to prove that this function is continuous at 0. This function, and others, are called topologist’s sine curves, and will make a splash in Chapter 7. • It is often useful in mathematics to decompose something down into simpler parts. In number theory we talk about prime factorizations, and in abstract algebra we talk about the extent to which general N-like algebraic structures can be uniquely factored. In group theory in particular, an important question is which groups can be expressed has a direct product of cyclic groups. As we just mentioned in the above bullet point, Fourier claimed that all functions be decomposed in some way into sums of trig functions. In Chapter 9 we see similar decompositions into sums of polynomials. Exercises 6.30 and although a fairly tame form of this are yet more useful decomposition i function, in this case) into a form which is sometimes easier to handle. • Exercise 6.16 can be used to prove t he hiker problem that, we discussed at the beginning and end of Section 6.8. Here’s a hint, to solve that exercise: That exercise asks you to prove t he existence of a point, wit h a special property. We have two theorems in this chapter whose conclusions are about the existence of a point wit h a special property (the intermediate value theorem and the extreme value theorem). And as my own undergraduate real analysis professor Jamie Radcliffe used to tell us, “«.sc your theorems!” C hapter 6: C ontinuity208 Exercises (c) lim = 3. 0. Exercise 6.2. Let /(a:) = |.r-e| <5. then |/(.r) — /J < example or prove t hat (b) If lim f(x) and lim //(a:) do not exist, (c) If lim fix) and lim [/(.?) + «/(a:)] exist, must lim </(.;) exist'.’ X—>(l x —Ml * x —><1 * (e) If lim fix) and lim f(x)gfx) exist, must lim </(a ) exist? x —>« x —mi x—mi Use the : -A Exercise 6.6. (a) / : R -> R, /(a;) |a:|. (b) g : (0, oo) -> R, /(a:) (f)(c) h : R -> R. g(;r) = ex. r Prove that this is false by finding a function / and numbers a and I. which arc a counterexample. (Make sure you also state f's domain and eodoniam. k - 31 x - 3 n< > such can lim[/(.r) + </(./■ ij exist'.’ .■an lim 5 .■■■ 'ncist? Exercise 6.4. For each of the following, give an example exists. can lim /(.r)<;(at) exist.’ Use the e-6 definition of continuity to prove that each of the following functions is continuous on its domain. (b) lim x2 z —>0 (a) lim (4a: + 3) = —5. x-t-2 (a) If lim /(.r) and lim </(;r) do not exist. + 4. Prove that lim f(.r) does not exist. j->3 (d) lim a:3 = 8. (d) If lim fix) exists and lint [/(a:) + <;(.<:)] does not exist. x-»a x —mi (d) s : (0,oo) -> R. h(.r) = log(at). (e) t : R -> R. s(at) = sin(at). v : R -4- R, t(a:) = cos(a:). Exercise 6.5. Let f : R -> R be given by /(a:) = ar + 2.r + 1. definition of continuity to prove that f(x) is continuous at x = 1. If |/(a;) — L| < f for all a- for which 0 for all x for which 0 < |a- — a| < <5/2. Exercise 6.3. This is a false statement: Exercise 6.1. Use the definition of the functional limit to prove the following: R eal Analysis, A Long-Form T extbook 20!) Let (t) : R -> R be defined asExercise 6.10. is continuous nt c if and only if 0.I’rove that fl! Exercise 6.13. Define /(*) = Prove that f is discontinuous at c = 0. Let fl(.r) .r2 and let. f be Dirichlet function:Exercise 6.14. I let ermine I lie following. (a) For which ./• is /(x) < x? (b) For which (c) What is fl(/(x)) - /(x)? if x € Q if x Q. if x > 0 if x < 0. Let / : R —> R. Prove that lim /(1/x) — lim /(x). That is, x->0 • >oo :> converges to some L, then the other also converges to L; if one same. 1 -1 if X e Q if X £ Q. Exercise 6.11. Prove that for/ 1 (|J„ = U< J'~'(B n). Exercise 6.12. prove that, if one diverges to oo or to — oo or whose limit does not exist, then the other does the fl! (•'■■) = S (j Exercise 6.8. Sketch the graph of a function / : R -> R which has the property t hat, lim /(x) = 5, but / is not continuous at 3. Include in your picture the e showing clearly why / does not satisfy the definition of continuity. is /(x) < fl(x)? Exercise 6.15. Supp ( that /(x) = 0 for every x iose J : R —> R is a continuous function with the property G Q. Prove that /(x) = 0 for every x G R. Exercise 6.7. Let a, b G R, and let f : R -> R be given by /(x) = ax + b. Use the e-5 definit ion of continuity to prove that / is continuous. Exercise 6.9. Assume that f : R -> R continuous at c, and /(c) > 0. Prove that t here exists some <5 > 0 such t hat /(x) > 0 for all x in the (^-neighborhood of c. Suppose, that / : X —> Y and {//,} is a collection of subsets of Y. Chapter 6: Continuity210 (b) A = (0,1),(a) A = Z, (c) A = [1,2] nQ. Exercise 6.17. Let x k(x) = —x lim /( :r) ■ lim fi.(x). liin f(x) : lim/H(.r). J Exercise 6.19. Let h be Thomae’s function'. h[x) = f(x) e [o,i]. function f satisfies |/(at)| < |a-| for all Show ! Likewise, define the restriction fn : [<■, oo) l~l I R bv fi;.i ‘ = If lim fft(x) exists, then we say that the rii/ht-hand limit of / at < exists, and if x = 0 if x 6 Q and x = in/n in lowest terms with n 0 if x 0 Q. 1/n 0 1 1/n 0 i finite set of numbers from m. Define f : [0, 1] —> R to Prove that lim /(at) = 0 for all a x —>a if X € An if x & .4„ for any n. Prove that h is continuous at every irrational number and discontinuous at every rational number. Exercise 6.21. Suppose that a that f is continuous at 0. Exercise 6.16. For each of the following sets A. construct a continuous function f : A —> R that is unbounded on A. Why these do not contradict Corollary 6.31? Definition 6.42. Let 1 be an interval, f : I -> R and c e I . Define the restriction //, : (-oo, c] n/->R by fif.r) = /(.r). If lim f, (,r) exists, then we say that the left-hand limit of f at c exists, and Exercise 6.20. Suppose that, for each n 6 N, .4,, is a [0,1]. Further, assume that An Fl Am — 0 whenever n > be if x € Q if;r0Q . Prove that lim A:(:r) exists, but for any a 0, lim k(x) does not exist. x—>0 ' x— Exercise 6.18. Prove that lim f(.r) exists if and only if lim fee}-- lim /(./). R eal Analysis, A Long-Form T extbook 211 [a, b] and /(«) /(b). Let Mand L < M, then there exist two values .T|,:c2 G [a,b] such that Prove that. </ : [0,1] -> R has the intermediate value property, Prove that </ : R -> R is continuous at 0, whereExercise 6.25. Exercise 6.26. example of the interval [0,1] that does not Exercise 6.28. (a) Prove that if f : A —> R is continuous, then |/| is continuous. example where |/| is continuous, but / is not continuous. if x ± 0, if x = 0. if a: 0, if x = 0. function J' : R —> R which is discontinuous at 1, 4,..., mtinuous at every other point. (a) (live an example of a function / : R —> R which is discontinuous at 1, ..., but is continuous at every other point. sup{/([a,b])}. Prove that if m < Exercise 6.23. Suppose / is continuous on (b) Give an Exercise 6.24. when* in = inf{/([a,b])} an example of a function onExercise 6.27. Give attain its supremum. Definition. A function / has the intermediate value property if, for any L between /(a) and /(b) (say, a < b), there exists some c G [«., b] such that /(c) = /, Note: By the intermediate value theorem, if / is continuous, then / has the intermediate value property. I :rsin(l/:r) s<1)= 0 (l>) (live an example of and at 0. but is c< I :rsin(l/.'r) ,\"W= (1 Exercise 6.22. Suppose that a function g is continuous at 0 and </(()) = 0, and / is some function which satisfies |/(.'c)| < |<7(.'r)| for all x. Show that / is also continuous at 0. Chapter 6: Continuity212 there which satisfy = 201. Exercise 6.37. the expression. Exercise 6.33. = [c,d] for • R be continuous with /(0) = /(I). Show that are of distance 1/2 apart (i.e. |.t - yj = 1/2) for (b) cos(.c) = x Exercise 6.32. (/(;r))\" = x ~ f°r x - .-83 + x17 + How many continuous functions f are 242 1 + x* + sin2(x) Exercise 6.29. Suppose f : R -> R is continuous, and a, b G R. (a) Prove that <■/(;/•) : f(x + b) is continuous. (b) Prove that ft(.-r) : - f(gx + b) is continuous. Exercise 6.34. In the below, by “finite open interval” we mean an interval (a, b) where a, b 6 R and a < b. And by “finite closed interval” we mean an interval [a, 6] where a, b 6 R and a < b. (a) Let f : A —> B be a continuous function where f(A) = B. Is it possible for A to be a finite open interval while B is a finite closed interval? Either provide an example showing it is possible, or prove that it is not possible. (b) Let f : A -> B be a continuous function where /(A) = B. Is it possible for A to be a finite closed interval while B is a finite open interval? Either provide an example showing it is possible, or prove that it is not possible. For each of the following, prove that there is a number x satisfying (a) x 1 Prove that if f : X —> R is continuous and [a, b] C X, then some c, d G R. Exercise 6.35. Let / : [0,1] —i there must exist x, y € [0, 1] which which f(x) = f{y). Exercise 6.36. Let S be a dense subset of R, and assume that f and g are continuous functions on R. Prove that if /(z) = g{x) for every x G S, then f(x) = g(x) for all x G R. Exercise 6.30. A function E is said to be even if E(-x') = E(x) for all x. A function O is said to be odd if O(-x) = -O(x) for all x,. Prove that if / : R -> R is continuous, then f(x) = E(z) + O(x) for some even function E(x) and odd function O(.r). Exercise 6.31. Let f be continuous. Prove that f may be written as /(:r) = g(x)-h(x), for some continuous functions g are h which are also nonnegative (meaning g(x) > 0 and //.(a:) > 0 for all ;r). R eal A nalysis, A Long-Form T extbook 213 Exercise 6.39. removable discontinuity at 2.(a) Draw (b) removable discontinuity at c, and g : R -> R is(c) a fz(a:) = (d) Exercise 6.40. (a) (b) (0,1). (c) (0,1) that is not uniformly Exercise 6.41. Prove that if f : Z —> R, then f is uniformly continuous. Prove that the function /(a:) 0 for Exercise 6.42. [0, oo). Prove that if f : A —> R is uniformly continuous and A is bounded, then f(A) is bounded. /(*) lim /(a;) x—>c if x / c if x = c. Give an example of a bounded continuous function on continuous. You do not need to prove your answer. a picture of a function which has has a Give an example of an unbounded continuous function on \\/x is uniformly continuous on Exercise 6.43. all x. Show that there is some L Does Thomae’s function have any removable discontinuities.'’ If so. at which points? Suppose f : R —> R has a function for which Let / : [ft, 6] —> R be continuous and suppose that /(;r) 0 such that f(x) > L for all x 6 [a, 6], Does there exist a function f : R —> R which has a removable discontinuity at every point? You do not need to prove your answer, but if you think the answer is ‘yes’, then give an example demonstrating this, and if you think the answer is ‘no’, then give a brief sketch of why you think so. Exercise 6.38. Give an alternative proof of the intermediate value theorem (Theorem 6.38) using the result of Exercise 1.34. Prove that g is continuous at c. Exercise 6.44. Prove that there does not exist a continuous function which maps the closed interval [0,1) onto the open interval (0,1). Definition. A function f : R -> R has a removable discontinuity at c if lim fix') exists, but lim /(.t) / /(c). x —*c x-*c Chapter 6: Continuity214 Exercise 6.45. Cauchy sequence Cauchy sequence, then [0,1] beLet f : [0,1] Exercise 6.51. continuous function f : R -> R to have the (b) Prove that there does not exist every value exactly twice. Exercise 6.49. Suppose that f : R —> R is a function that is continuous at every rational number. Prove that there is an irrational number at which f is continuous. [a, &], and suppose that e [a, &]. on R which obtains every value (That is, for each b £ R there is exactly one a £ R for which (a) Give an exactly /(a) ' Exercise 6.50. How many continuous functions f are there where (/(a;))2 = z 2 for all a:? example of a continuous function defined once. 6.) (a) Give an example of a continuous function / : (0,1) —> R and a (an) where (/(a„)) is not a Cauchy sequence. a continuous function. Prove that (b) Prove that if f is uniformly continuous and (an) is a (/(«n)) is a Cauchy sequence. a continuous function defined on R which obtains Exercise 6.52. Is it possible for a property that /(R) = Q? Exercise 6.53. Prove that if / : R R is continuous and A is connected (See definition preceding Exercise 5.33 in Chapter 5), then /(A) is connected. Exercise 6.46. Let f and g be continuous function on /(a) < .?(«) while f(b) > g(b). Prove that /(c) = g(c) for some c Exercise 6.47. At the end of Section 6.8 we discussed the hiker problem, and in this exercise you prove a generalization of it. Show that if the hiker hikes up the mountain from time .S| to S2 on one day, and hikes down the mountain from time t\\ to M the next day, and [si, sq] 0 [ti, tj] then there exists some time at which the hunter was at the exact same spot on the mountain on both days. Exercise 6.48. f(x) = x for some x. (c) Give an example of a continuous function which obtains every value exactly three times. (If your function’s graph is simple and clear, just sketching its graph is sufficient.) R eal A nalysis, A Long-Form T extbook 215 Give an example of a function / : R —> R which isExercise 6.54. • Monotonically increasing (meaning f(x) < f(y) for all r < »/), • Discontinuous at every c G Z, • Continuous at every c 6 R \\ Z, and • Bounded. Exercise 6.55. (a) Prove that f + g is uniformly continuous. (b) If f and g are both bounded, prove that fg is uniformly continuous. (c) (d) Prove that g o f is uniformly continuous. l/(z) ~ /( ’j)l < C\\x-y\\ for all x, y G R (such functions (a) Prove that f is continuous on R. (b) 1, we have xn — Prove that this sequence converges by showing it is Cauchy. (c) (d) is the only fixed point of f . You do not need to prove that your example works. Note: If you can not find an example with all 4 conditions holding, for partial credit try to find one with the first three holding. is a fixed point of f . That is, prove that f(x) = x. Assume that f : R —> R and g : R -> R continuous functions. are both uniformly Pick any ,iq G R and consider the sequence where, for n That is, this is the sequence Prove that this x are called Lipschitz). Let x = lim xn. Prove that x n —>oo Give an example showing that if g is not bounded, then it is possible for fg to not be uniformly continuous. Exercise 6.56. In this exercise you will prove the Banach fixed-point theorem. Let f : R —> R, and assume there exists some C such that Chapter. 6: Continuity216 Exercise 6.58. Fix a real number b > 1. (a) What do you think 2” should mean? (b) Prove that if r is a rational number, then br = sup{b' : t € Q, t < r}. It is therefore consistent with our previous definition to define, for any x e R, bx = •-El- have bx+y = bx • by. (e) Prove that the range of exp6 is the set { y 6 R } y 0. Exercise 6.59. (d) Prove that the function exp6 : R —> R defined by exp(j(.?;) = bx is continuous and strictly increasing. sup{b£ : t e Q, t (c) Prove that for all x, y G R we Exercise 6.60. A clock has been made with perfect precision: the hour and minute hands move continuously around the clock, and you are able to measure their positions with perfect accuracy. There’s only one problem: the clocksmith accidentally put on identically-looking hands for the minute hand and the hour hand. Is it always possible to determine the time? If not, how many times a day can you not determine the time? (b) Define a function f : A B to be strictly monotone increasing if for all x,y G A for which x < y, we have /(x) < /(?;)■ Prove that if f : [a, b] -> R is continuous, injective (i.e., 1-to-l) and /(a) < /(b), then f is strictly monotone increasing. (a) Define a function f : A —> B to be monotone increasing if for all x,y G A for which x < y, we have /(.-r) < f(y). Is it possible for a monotone increasing function to have uncountably many discontinuities? Exercise 6.57. Prove that if / : [a, b] —> R is a one-to-one and continuous function, then its inverse / _| is a continuous function. Chapter 7: Differentiation <-< i 2 217 -4—> t 3 Speedometers Two millennia after Zeno’s perplexing paradoxes, Galileo Galilei perhaps the first true practitioner of the scientific method — noticed something interesting. He let a ball roll down a long incline and recorded how far it traveled in each 1 second interval. He noticed that if it traveled, say, 1 foot in the first second, then it would travel 3 feet the next second, then 5 feet in the third second, then 7, then 9. and so on. The odd numbers were somehow fundamental to rolling and falling objects. After Galileo’s1 death, Isaac Newton and others were trying to solve some funda­ mental physics problems (such as Galileo’s) which, like Zeno’s paradoxes, required a deeper understanding of the infinite. Here’s a modern version of such a problem, that also contains Galileo’s mystery: If a car is driving in a straight line and you know the position of the car at every moment, can you determine the velocity of the car at every moment? Let’s consider a specific example. Exam ple 7.1. Suppose you are sitting in your car at a red light. The light turns green and you accelerate (which of course changes your position/location). The position graph is below. The /-axis represents the amount of time (in seconds) since the light turned green, and the d-axis represents the distance (in feet) that the car has traveled since that moment. The right-hand side of the graph is the function d(t) = i2. In other words, after 1 second the car has traveled d(l) = 1 foot. After 2 seconds it has traveled tZ(2) = 4 Move over Cher and Elvis, Galilieo’s the real OG at being known by just his first name. Chapter, 7: Differentiation218 -> 7.1 Graphical Interpretations of Velocity Secant Lines A secant line is (2,4) 4 - 3 2 -- (LI) 1 -- <------0- -1 - 4 1 cP /=0. d=0 a line segment from one point on a curve to another. Like this: -d 5 \" 7a t=2y d=4 t=3, d=9 Here’s the question we want to answer: At a fixed time f0, what is the speed of the car at that moment? This is called the car’s instantaneous velocity. If you’re the driver you can tell your speed by looking at the speedometer. Thus we are asking whether we can determine a function which reports exactly what the car’s speedometer does. This is not an easy question, and a full course of high school physics is likely insufficient to find an answer for even some simple distance functions. Indeed, it took perhaps the greatest scientist in history — Isaac Newton to find the answer; and in doing so, differential calculus was born.2 4—> t 2 feet. After 3 seconds it has gone 9 feet, and so on. As you can see, the car is speeding up: in the first second it traveled 1 foot, in the second second it traveled 4-1 = 3 feet, and in the third second it traveled 9-4 = 5 feet, and so on. One of the principal tenets of calculus is that geometry can be used to solve algebra problems. This is good news —the geometry tends to be pretty basic and visual, so not only is it helpful to solve the problems but also it helps us all see (and thus understand) what’s going on. To solve the problem in Example 7.1 we will do this. We begin by reminding you of the geometry that is needed. ’Although these car examples are a fun and carefree introduction to derivatives, with prudence we must now turn to a serious Public Service Announcement: Never drink and derive. R eal A nalysis, A Long-Form T extbook 219 slope of secant d(x\\) and y2 slope of secant Average Velocity average velocity = average velocity = If these points are on the curve of the function d, then 1/1 the same formula can be written as change in position change in time change in position change in time d(x2) - d(xi) x 2 — H'l V2 - y\\ x 2 — £1 0 , <■ , - = undefined. And in this case we would agree with Zeno that something is amiss, and we can not simply apply this formula. Nevertheless, we will be able to use this formula in a different way. Notice that the formula looks a lot like the formula for the slope of a secant line...4 d{x2), so Every line has a slope, and, just like all lines, the slope of the secant line from a point (ati,?/i) to another point (x2,y2) is “change in y over change in x\": Returning to Example 7.1, how would we, for instance, determine the car s velocity after one second? Remember that this is something that you do in your car all the time, as your speedometer is constantly telling you your velocity. We are simply asking what we would see if we looked at the speedometer after 1 second of driving. Well, the one ecpiation you might remember from high school — and a formula Newton knew -was that of average velocity: 3Yes, jogs. I his observation is also more straightforward today than it was back then. Today, every high school student has had years and years of working with graphs of functions. Today when someone mentions the function “y = a:2” its graph immediately enters your mind, but until the 17th century this was not the case. Indeed, the pervading Greek perspective considered it blasphemous to even think about numbers on a continuum, or to compare quantities with non-matching units, which happens when you ptit time on one axis and distance traveled on the other. Graphing functions was a true intellectual leap. So, for example, if a car travels 120 miles in 2 hours, then its average velocity is 120m/2/i = 60m/h. If Usain Bolt jogs3 100 meters in 10 seconds, then his average velocity is lOm/s. Now, you might be tempted to just say “the instantaneous velocity at / = 1 seconds must just be the average velocity from t = 1 to t = 1.” Sadly this doesn't work out. From t = 1 to t = 1 no time has passed and no change in position has occurred, which would give Chapter 7: Differentiation220 Average Velocity = Slope of Secant Line (2,4) slope - 3 3 - 2 -- (1,1) 1 -- ■( ) -1 - (1.5,2.25)2 -- 1 -■ (1,1) 0- + 1 + 1 d 4 £ d 4 - -+> t 2 -+> t 2 Bk 9 If we want to estimate a car’s velocity at time t = 1 second, one thing we could do is find the average velocity of the car from t = 1 second to /; = 2 seconds — the car’s velocity won’t change tooooo much over just one second, so the average velocity over this time period should be a decent guess for its speed at t = 1. average velocity ^(2) — t/(l) from Is to 2s 2 — 1 22 — l 2 2-1 3 ~ 1 = 3. The average velocity from t = 1 to t = 1.5 is 2.5 feet per second; our last guess of 3 ft/s was clearly not perfect. We must be getting closer to the true velocity, but The average velocity from t = 1 to t = 2 is 3 feet per second; note that the average velocity calculation matches the slope of the corresponding secant line. Thus, 3 feet per second is a decent guess for the velocity at t = 1, but let’s try to improve it. If we cut down the time range to just t = 1 to t = 1.5, then the car would have less time to change its velocity, and thus we would have a better estimate. Doing this calculation gives average velocity ^(1-5) d(l) from Is to 1.5s 1.5 — 1 1.52 — I2 1.5 - 1 1.25 = 2.5. 3 slope = 2.5 R eal A nalysis, A Long-Form T extbook 221 2 - 1 -fl 1 If 3 - 2 - 1 (1,1) -0- 1 -1 -t=l 2 ft/s?Inst. Vcl. As the time interval gets smaller and smaller, the average velocity approaches 2 feet per second. And, indeed, as you would probably guess, the car’s instantaneous velocity at t = 1 second turns out to be exactly 2 feet per second. And what about the right-hand side of the above? The secant lines approach the tangent line, and the slopes of the secant lines approach the slope of the tangent line. -H t 2 d 4 ? ■+> t 2 (1.25.1.5625) ,1) d 4 slope 2 The average velocity from t = 1 to t = 1.25 is 2.25 ft/s, again with the formula matching the secant’s slope. So 2.25 ft/s is an even better estimate, but let s not stop now. Average velocity 3 ft/s 2.5 ft/s 2.25 ft/s 2.1 ft/s 2.01 ft/s 2.001 ft/s 2.0001 ft/s why stop here? Let’s keep going. An even better estimate for the velocity would be the average velocity from t = 1 to t = 1.25. t=l t^i t=l t-1 From t-1 t=l Instantaneous Velocity = Slope of Tangent Line we continue to do this for smaller and smaller gaps, the average velocities look like the left-hand side below. To t=2 t 1.5 t- 1.25 t=l.l t 1.01 t 1.001 t -1 ?0001 3 ■■ slopeaverage velocity <1(1.25) d(l) from Is to 1.25s 1.25 - 1 1.252 - I2 ~ 1.25 - 1 0.5625 ~ 0.25 = 2.25. t= 1 Chapter 7: Differentiation222 Inst. Vel. = 2 ft/s?t= 1 The Derivative7.2 exactly how the lint 1 Definition 7.2. Let I be an interval, / : Z —> R, and differentiable at c if If fix') is a differentiable function at xq, then the rate of change of f at a point (.To, 3/o) is going to equal to the slope of the tangent line to f at (xo>?/o)- In our particular case, this means that the velocity at a time to is equal to the slope of the tangent line to d(t) at the point (to,d(to)). Average Velocity 1 ft/s 1.5 ft/s 1.75 ft/s 1.9 ft/s 1.99 ft/s 1.999 ft/s 1.9999 ft/s From t=0 t=0.5 t=0.75 t=0.9 t=0.99 t 0.999 t=0.9999 /(*) - /(c) x — c exists. That is, this limit equals some real number. To t=l t=l i t=i t—i t i 5 In the below, or (—oc, 6]. The limits of these average-velocity and slope-of-secant formulas are derivative is defined.5 Ignition. | c € I. We say f is Moreover — and we will talk later about how important this is — we would get the same conclusion if instead of beginning at t = 1 and ending a little past it, we instead started a little before t = 1 and ended at it, as you can see below. /'(c) = lim v ' x->c an interval is any set of the form (a,b), (a, 6], (a, °°), [a,oo), ( oo,b) If C is the collection of points at which f is differentiable, then the derivative of f is the function f : C —> R where /(ai) - /(c) x — c R eal Analysis, A Long-Form T extbook 223 Notation 7.3. Given a function f, we write ^?/(x) for its derivative. That is, Examples x2. Then forinterval and f : I —> R be given by f(x) = lim (3 ) □ interval and f : I -> R be given by /(x) = xn where xn - cn factored x2 — c2 in (s)? We can factor xn — c” in a similar i = c + c = 2c. lim x—>c Recall that since x is a variable and c is a constant, the ‘x + c’ function is a continuous function and hence we were allowed to just plug in c for x. Example 7.5. Let I be an n G N. Then for any c G /, - /(c) x — c - /(c) x — c c2 Remember how we Example 7.4. Let I be an any ce l, y-/(®) = /'(*)• ax r We can actually prove a much more general formula, that for any n G N we have jjx\" = nxn-1. We show that now. 4-xn = lim ax x->c (l II — x2 = 2x. ax = lim That’s the derivative at every fixed c, so we can instead rewrite this using the variable x: f'(x) = 2x. Or, writing it out as the derivative of a function: lim X—>c x^ x — c (x - c)(x + c) x — c = lim(x + c) x—>c Chapter 7: Differentiation224 xn - cn (x — c) (x’ ),+ c’ because (x — c)(x‘ With this factorization, wc can now compute the derivative at ) ) )+ c’ 7 □ 7.3 Continuity and Differentiability way.6 Note that “Indeed, one way to see that this should be possible is to note that if you plug you get out zero: c\" - c\" = 0. So c. is a root of the polynomial x\" — cn, and hence x - c factor. (In general, this would hold for any algebraic function.) 7In fact, this holds for any real number n, but that’s harder to prove. = Xn 4- x' - x71- 1 = xn - cn. + a:71-2 an arbitrary point c. 'c. + a?n-3c2 + ■ ■ ■ + xcn~2 f ■n-' + xn~2c + Xn~3C2 + ■■■ + xcn~2 + c' x — c ■c + 2Zn-3 C2 + -------h Xc’l~ 2 + c’ c + cn-3c2 + -----f- C • cn~2 There are some important questions that we should now ask. We have spent much time recently studying properties of functions, the biggest being continuity. As we continue our study of differentiability, it is important to keep in mind that both continuity and differentiability are local conditions -a function is either continuous at a point c, or it’s not; a function is either differentiable at a point c, or it’s not. It is of course possible for a function to be continuous at every point, in which case we simply call it continuous, but the definitions are both point-centric. It’s therefore quite natural to ask how continuity and differentiability relate. Do you think a function is continuous if and only if it is differentiable? If not, which of those implications fails? Is every continuous function differentiable, but not into x n — cn should be a Since c was arbitrary, -^xn = nxn 1 for any natural number n. Speaking of important derivatives, in Exercise 7.34 you will prove that £ sin(a:) = cos(z), 2jcos(:r) = — sin(a:), and tan (re) = sec2(a;). Another good example is Example 7.7, which is coming soon. But it will be helpful to think about that example in the context of the following theorem, so we start there. + rr”-2. 1 + xn~2c + xn~3c2 + ■■■ + xcn~2 + c71\" 1) 'c + xn~2c2 + ■■■ + x2cn~2 + xcn~l c - xn~2c2 ---------x2cn~2 - xcn- 1 - cn ,rn _ f.n f'(c) = lim - ----- — X-^C X — C x —>c = x-+c = (c71\" 1 + cn = n • c71' 1. R eal A nalysis, A Long-Form T extbook 225 (X)= L. lim [f(x) - /(c)] = lim (Limit laws) □ Proof. By assumption, f ’s derivative exists at which = lim \\ X—>c = LO = 0. /(a:) - /(c) x — c f(x) - /(c) ■ x — c • (z - c)j • (lim (a; — c)) Theorem 7.6 (Differentiable => continuous). Suppose I is an interval and / : I —> R is differentiable at c G I. Then / is continuous at c G I. every differentiable function continuous? Or vice versa? Or maybe neither implication holds? If / is continuous, is it the derivative of some function </? And if so. is g continuous? What about if / is instead differentiable? And what about with uniform continuity? Extreme values? Boundedness? Intermediate value property? We have all sorts of notions that we have looked at, and so it would be interesting to know how this new notion of a derivative fits in with our theory thus far. We begin with the first question: Does differentiability imply continuity and vice versa? It turns out that differentiability is the strictly stronger criterion. Thus our goal is to prove that every differentiable function is continuous, and then to find an example of a continuous function that is not differentiable. c. That is, there is some L G R for When you have a single-direction implication, it is worthwhile to consider the contrapositive, which is logically equivalent. The contrapositive of Theorem 7.6 is: If / is discontinuous at some c G /, then / is also non-differentiable at c G I. The converse, though, is not true. That is, we can find a function which is continuous at some point but not differentiable at that point. (And if you tried to use the above proof in reverse, it would fail because we can not break up the limit like that if we do not already know that / is differentiable at c.) We wish to show that / is continuous at c. By Theorem 6.17 part (v), it suffices to show that lim /(.t) = /(c); i.e., that lim ]/(.'r) - /(c)] = 0. Since the limit (X) exists by assumption, and the limit lim (a: — c) clearly exists as it equals 0. this follows x—>c quickly from the func-y limit laws (Theorem 6.14): lim W x-ffc X — C Chapter. 7: Differentiation226 Example 7.7. Let /(:c) = |.r| and c = 0. However, f is not x—>0 lim <- -9<- □ limit. 1 f(x) - f(c) x — c “To prove it, let e > 0 and 6 = e, and apply the definition of a Then f is continuous at 0 since clearly lim f(x) = /(O').8 x —>0' differentiable at 0. To see this note that and this limit does not exist since if x > 0 this quotient is 1, but if x < 0 this quotient equals —1. Thus, this limit does not exist by Exercise 6.13 (or by an application of Note 6.13, with, say an = l/n and bn = —1/n). = lim /(a:)- /(0) i-»o x — 0 = lim x—>0 x = lim — , ,T->0 x Real A nalysis, A Long-Form T extbook 227 7.4 Differentiability Rules Notation 7.8. Suppose f and </ are functions and fc € R. Then define ° (f + 9)(x) = f(x)+g(x) ° (f ~ g)(z) = /(a:) - g(x) • (kf)(x) = k ■ /(i)° (/.<?) (t) = f(x)g(x) lim prove (iii), which again just amounts to writing out the definition of the fW g(*) (i) (/ + g)'(c) = /'(c) + </(c). (ii) (f~gY (c) = f'(c)-g'(c). (>ii) (fc/)'(c) = k ■ f'(c). j— Now we •G)w X->C X — C First we recall some notation that yon have probably seen in previous courses. lim [/(■'••) ± g&] - [/(<•) ± ■</(<•)] x->c X — C [fW - ± [<?(•!•) - g(c)] x—>c X — C = f'(c)±g'(c). lim (f ±g)(a:)~(f ±g)(c) x->c X — C In 1684, while Isaac Newton was working out the calculus of dynamics in his masterpiece Principia, the first result laws of calculus were published (without proof) by Gottfried Wilhelm Leibniz. This section covers those rules, and we begin with the fact that derivatives satisfy linearity conditions. Proposition 7.9 (Linearity of the derivative). Let I be an interval, let f.g : I —> R be differentiable at c € I, and let A: be a constant. Then Proof. The proofs of (i) and (ii) are exactly the same, so we will prove them together. Note that we use a func-y limit law (Theorem 6.14) to move from the second line to the third line, which was allowed because by assumption both of those limits existed. Chapter 7: Differentiation228 derivative, moving a couple tilings around, and applying a limit law. □ interval and let f, g : I —> R be (/fz)'(c) = /'(c)g(c) + /(c)p'(c). Y ... then a miracle occurs... Theorem. Theorem 7.11 {The product rule). Let I be an differentiable at c € I. Then Proof Idea. At the moment, we haven’t proved much about derivatives that would be helpful here, so any proof of this will likely be via the definition of the derivative. When solving problems, it is always a good idea to keep in mind where you are trying to reach, and how you might reach that point. Indeed, let’s write out where we will begin and start working down, and let’s write where we will end and start working up, and let’s see how far we can move inward before needing to be smart. Example 7.10. We have shown that ^a;12 = 12a;11 and ^a.\"5 = 5a:4. And so, by Proposition 7.9 part (i), we now know that • -p-(a:12 + a:5) = 12a:11 + 5a:4, and ax • -^-(7 • a:5) = 7 • -^-x5 = 7 ■ 5a:4 = 35a;4. dx dx (f<j) (*) - C/W) (/.g) (c) = lim --------— .. f{x)g(x) - f{c)g{c) = Inn---------------- ----------- x —>c X — C linl (fc/)(^) - (fc/)(c) X — C f(x)-g{c)-f{c)-g{c) + /(c) • g(a:) - /(c) • g(c) ~ X-C x-c r — c K x~*c x — c = /'(c)g(c) + /(c)g'(c). = lim fc-ZW -fc-/(c) X->C X — C T->c X — C = k- f{c). R eal A nalysis, A Long-Form T extbook 229 Proof. Note that by the func-y limit laws (Corollary 6.14), □ interval and let /,</:/ —> R be (c) provided that g(c) 0. Proof. The proof is similar to the previous proof, and is Exercise 7.5. □ -Y .9/ Theorem 7.12 (The quotient rule). Let I be an differentiable at c e I. Then f'^)g(c)-f(c)g'(c) [9(c)]2 .. j g(x) - g(c) x->c X — C ■ g(x) + lim /(c) • x—>c To move to the next two lines we use that g is assumed to be differentiable and hence by Theorem 7.6, g is continuous. Now by applying Theorem 6.17 (v) we know that lim ,9(.t) = g(c): + lim /( c)g(a:) - /(c)g(c) x->c X — C ff(x)-g(c) x — c Now, as the famous comic says, we should probably be more explicit in the miracle step. Note, though, that things almost look good. After the miracle we have an /(•t)<7(.t) in the first numerator and a -f(c)g(c) in the second both of these arc in the numerator before the miracle occurred. Moreover, the other post-miracle terms are almost canceling each other out. Only problem is that in one term there is a g(x) and the other there is a g(c). How do we turn a g(x) into a g(c)1 Another limit! Check it out: = lim • lim g(x) + /(c) ■ lim x —>c x — C x—>c x—>c = /'(c)g(c) + /(c)ff'(c). (/s)'(e) _ liln (MW-tf* x —>c X — C = Hm f(x)g(x) - /(c)ff(c) x->c X — C = Hm f(x)g(x) - f(c)g(x) + f(c)g(x) - f(c)g(c) x —>c X C f(x)g(x) - f(c)g(x) — 11 m ----------------------------------- x —>c X — C = lim^-A£) x^>c x — C Chapter 7: Differentiation230 (f°gY(c) = f'{g{c))-g'{c). (Take a minute to see if you (If you don’t see it yet, take another moment to make your best guess...) Theorem. Wrong Proof. Below is NOT a correct proof of the chain rule. That said, it is close. And in fact, if you dust off your old calculus textbook and find where they state the chain rule, if they provide a “proof” (as they usually do), then they probably will give the following false proof. That all said, here is the false proof: Theorem 7.13 {The chain rule). Let T and I2 be intervals and g I\\ —> I2 and f : I2 -> R. If g is differentiable at c € 7j and f is differentiable at g(c) G I2, then = lim X —>c lim X—>c t can find the mistake on your own...) /(gO)) — /Gs^c)), g(z) - g(c) we again guarantee that x c, but it’s important to note that this does not guarantee we are never concerned about dividing by zero, because in the definition of a functional limit (Definition 6.8) we never have x = c. Likewise, when we take Ok, here is the problem: When you take, say, .. ff(x) - ff(c) hm -------------- , x->c X — C X — C ■lim^Hg^ x-*c X — C As x -> c, note that since g is continuous at c we do have g(x) -> g(c). So the problem is not that in the first line above we have a g(x) instead of an x. (/o ff)'(c) = lim> (:c))~ /(g(c)) a?->c x — C = lim ~ /(g(c)) . g(z) ~ g(c) x-rc x — c g(x) — g(c) f(g(x y) - f(g(cY) g(--r) - g(c) g(x) - g(c) = ,• /(g(a')) ~ /(g(c)) g(x) - g(c) = /'(g(®)) • g'(®)- R eal A nalysis, A Long-Form T extbook 231 Proof. Consider the function rf(g) = / z(g(c)), because / is differentiable (3)= d(g(x)) ■ If g(x) f g(cf then (Cd) is just /'(.9(c)) • and then applying g(x) = g(c), flaW ■ which is simply 0 = 0, which is true.9 So in either case, (O) is true. Therefore, □ ’T'hcre it is, folks. The most obvious statement in this text. if V ± 9(c) if y = .9(c) y(x) - .9(c) x — c /(.9(c)) - /(.9(c)) X — c !/-s(c) /'(.9(c)) /(g(-'c)) ~ /(.9(c)) x — c f(g(x)) - X — c ff(z) - g(c) x — c ■9(c) ~ g(c) x — c /(gfo)) - /(g(c)) x — c f(g(z)) - f(g(c)) g(.-r) - g(c) g(-'t) - g(c) X - c = lim c/(g(z)) • lim x—>c x—>c = f'(g(cY)-g'(c). which are the same just by multiplying top-and-bottom by g(x) - g(c), and moving a few things around. If g(x) = g(c), then applying the definition of d to (<d) gives = lim d(g(x)) ■ X~>C that g(x) yC g(c). For all we know, we could have g(x) = g(c) for x values getting arbitrarily close to c. And in that case, we have a significant divide-by-zero problem. To fix this, we define a new function which is equal to this quotient, provided the denominator is non-zero but whenever we do have a g(x) = g(c) issue, our function just redefines this quotient to be what the derivative ought to be. Doing this right will ensure that we do not change the limit in the meantime. Below is this. (f o g)z(c) = lim f^-f( g(c)) x-*c X — C g(a) - g(c) X — c g(x) - g(c) 3: — c Note that d is continuous at g(c); i.e., lim d(y) at g(c). Now we show that Chapter 7; Differentiation232 7.5 Topologist’s Sine Curve Examples 9n(z) = Example 7.14. We begin with 90 (a:) = Its graph: D.N.E.and if x 0, if x = 0. Below are some important examples, which all deal with the following general form of a function: sin(l/.x-) 0 xn sin(l/a:) 0 And then by (the contrapositive to) Theorem 7.6, go being not continuous at 0 implies that it is also not differentiable at 0. □ if x / 0, if x = 0. As you can see, g0 is not continuous at 0, because lini sin(l/rr) = does not exist. Indeed, by looking at the graph and taking t = you can see that the one-sided limits of this limit are equivalent to lim sin(i) = D.N.E. t—>oo lim sin(t) Z—>—oo We will focus on the three functions go, gi and g^. For each of these we ask: is gn continuous at 0? Is it differentiable at 0? R eal A nalysis, A Long-Form T extbook 233 Example 7.15. Next, consider the function ffiW = This function has the graph y |.t| < xsin(l/a:) < |x|. Also, and 0.0 0. I.e., Note, the fact that the final limit does not exist is from Example 7.14. □ /(.t ) = a;sin(l/.'c) 0 if x / 0, if x = 0. 51 is continuous at 0, first note that by combining —1 < sin(l/z) < 1 < |rc|, we have that To see that and — |.r| < x lim gi(x) = 5i(0), x—>0 which, by Theorem 6.17 part (v), means that 51 is continuous at 0. However, 51 is not differentiable at 0. To see this, we can simply use the definition of the derivative (Definition 7.2): lim - |a;| = 0 and lim lari w—>o 1 1 t->o So by the func-y squeeze theorem (Corollary 6.15), lim m sin( 1 /.z:) x—>0 ■I— > X 2 f/(0) = lim gl(a:)--91(0) J v ’ t->0 X - 0 — lim a's'n(Va:) 0 z->0 x — 0 = limsin(l/x) x—>0 = Does not exist. 1 C hapter 7: Differentiation234 Example 7.16. Lastly, consider the function ,92(t ) This function has the graph A ■> x f(.r) = -x 1 x—>0 = 0. + 2 9o 91 92 Continuous at 0? no yes yes Differentiable at 0? no no yes ,92 Ct) - ff2(0) x - 0 x2sin(l/a:) — 0 x — 0 Note that is continuous at 0 by the func-y squeeze theorem (by essentially the exact same calculation as in Example 7.15). And g% is also differentiable at 0: = lim x—>0 = lim xsinfl/.?;) jx 2sin(l/a:) if x 0, Io if x = 0. .92 (0) = lim x—>0 Note that we had already found this final limit (via the func-y squeeze theorem) in Example 7.15. To summarize the conclusions of the last three examples,10 '“Since differentiable implies continuous, by the contrapositive being discontinuous implies being non-differentiablc. Therefore a ‘yes’ in a cell in the right column implies a ‘yes’ in a cell in the adjacent cell in the left column, and a ‘no’ in a cell in the left column implies a ‘no’ in the cell in the adjacent right column. Likewise, by analyzing the limits involved, the answer in a cell in the left column will be the same as the answer in the cell in the right column and in the following row. Using just this, one can show that for all n > 2, gn will have a ‘yes’ in both columns. /i(.r) = ;r2 R eal A nalysis, A Long-Form T extbook 235 Local Minimums and Maximums7.6 f(x) < f{c). 0 such that /(*) > /(c). r ! L^cglOo The following is sometimes called Fermat’s theorem, but since this chapter is already chock-full with theorems, I’m going to call it a proposition. Fermat predated Calculus, but at times he came tantalizing close to discovering it himself. Proposition. \"But not entirely (cf. saddle points). lypically you solved it by factoring, using the quadratic formula, or using some other algebraic properties, like those of exponentials or logs. An important idea from calculus is that a differentiable function’s local mins and maxes only happen at places where its derivative equals zero. Indeed, back in the day you did lots of examples where you took the derivative of a function, set that derivative equal to zero, and solved.12 In a moment we will prove this result, but first recall the following fact about limits (Exercise 3.22 with an — 0 for all n). Likewise, / has a local minimum at c e A if there exists some 6 for all x g A for which |:c — c| < 6, we have Definition 7.17. Let f : A -> R. Then f has a local maximum at c 6 A if there exists some <5 > 0 such that for all x 6 A for which |.t — c| < <5, we have Derivatives are not just interesting to study, they are darn-right useful too. as you saw when you took calculus. If you recall, all those important optimization problems you did came down to finding critical points of functions, which was nearly the same as finding local maxes and mins.11 Proposition 7.19 {Local maxes/mins happen where f'(c) = 0). Let I be an open interval and suppose f : I -> R is differentiable at c g I. If f has a local max or min at c, then /'(c) = 0. Recall 7.18. If (sn) is a sequence, sn > 0 for all n, and s„ —> L, then L > 0. Chapter 7: Differentiation236 Proof Idea. Since f is differentiable at c, = /'(c). is is both f'(c) > 0, which Proof. Since f is differentiable at c, we know that = /'(c)-liin (?)is By Theorem 6.12, /'(c)- -> /'(c).and> 0 for all n, bn < c + S for all n, and -> /'(c).and if x if x < 0 > 0 c; /(*) - /(c) x — c - /(c) x — c f(bn) - /(c) bn ~ C /(an) - /(c) a„ - c fM ~ /(c) a„ - c /(«n) ~ /(c) tty; C /(a;) - /(c) x — c And notice that since c is a local max, /(x) < /(c) for all neighborhood of c. And for all these x, notice that Therefore, by Recall 7.18, f'(c) > 0. Similarly, if we pick a sequence (6„) from I for which also bn —> c, then by (?) we know that x within some ti­ lt x > c, if x < c. Suppose c € I is a local max. Then by Definition 7.17 there exists some 6 > 0 where x e I and |x - c| < 5 implies /(x) < /(c) (and hence, /(x) - /(c) < 0). Consequently, for all such x, < 0 pos. — > 0 neg. — ” The above two observations, combined with Recall 7.18, will imply that both /'(c) < 0 1 \", ‘ ‘ i can only imply that/'(c) = 0. we know that given any sequence (a,J from I, if an —-> c then < 0 for alln, - c Therefore, by Recall 7.18, /'(c) < 0. And of course, the only way that /'(c) > 0 and also /'(c) < 0 is if /'(c) = 0. We will now pick one sequence approaching from the left and one approaching from the right; both will be within S of c, and such sequences exist since I is an open interval. That is, first pick a sequence (an) from I for which c - ti < an < c for all n, and also an -> c. Then by (?) we know that lim -/(3:) ~ /(C) x~>c X — C Real A nalysis, A Long-Form T extbook 237 f is differentiable => f is continuous => f has the IVP, /'(b).a g'{b) = f'(b) - a < 0.and0 6.32) a attains a < 0. But this contradicts Theorem 7.20 (Darboux’s theorem). Suppose / : [«, b] -> R is differentiable. If a is between f'(a) and /'(b), then there exists c g (a.b) where /'(c) = a. ff'(a) = /'(«) - a we note that “a between f'(a) and /'(b)” means that either f'(a) <a < f'(a). □(claim) First or /'(b) • but none of those implications go the other way. So now, here’s where the fun begins. If / is differentiable, it is certainly not the case that /' will also have to be differentiable. Ok, let’s go weaker: will /' have to be continuous? Again, the answer is no. But the intermediate value property... that we can guarantee! This is known as Darboux’s theorem. Mathematicians have known of this result for about as long as derivatives them­ selves have been defined. Fermat, for instance, made use of this to solve optimization problems. It took 200 years, though, for someone to notice an important corollary to this result. Recall that continuous functions have the intermediate value property, but not every function with the intermediate value property (IVP) is in fact continuous. Also, we know that every differentiable function is continuous, but not every continuous function is differentiable. That is, If we can find a local maximum in (a,b), then we can apply Proposition 7.19 to show that g'(c) = 0 for some c g (a,b), which will prove that /'(c) = a. So that is our goal. Since [a, b] is compact, by the extreme value theorem (Theorem maximum, which of course is also a local maximum. Claim: q’s maximum is not, at a. Assume for a contradiction that the maximum were at a, meaning that </( jr) < g(a) for all x g [a, b], This implies that. 0 < 0 for all x g (a, b], and hence 9'(a) = lim gW ~ flW x->a x — a our earlier deduction that g'(a) > 0. Proof. Without loss of generality, assume /'(b) < a < /'(a). Define g(x) — f(x) — ax. Then g is differentiable on [a, b], and g'(x) = /'(:r) — o. Furthermore. 1 Chapter, 7: Differentiation238 g'(b) = lim > 0. But this contradicts 0. 7.7 The Mean Value Theorems '■‘Typically, d is somewhere between 0.1 kilometers and 10 kilometers. » Claim: q’s maximum is not at b. Assume for a contradiction that the maximum for all x € [a, &]. This implies that — — hence Therefore the max is at some c e (a, bY Then (by taking 6 = min{b — c, c — a}), we see that g has a local maximum at c, which by Proposition 7.19 means that g'(c) = 0; i.e., /'(c) - a = 0; i.e., /'(c) = «. This completes the proof. □(claim) were at b, meaning that g(x) < g(b) \"Negative ° — 0 f°r all ^6 [«,&), and g'(b) = iim : x—>l> x — b our earlier deduction that </(6) Speed cameras measure how fast a car is moving, and hence detect whether someone is breaking the speed limit at that very moment; if they are, then the camera snaps a picture of the perpetrator and their license plate. If a driver knows where the cameras are, though, then they can simply slow down while they pass each camera, and then speed up again afterwards. How can law enforcement rebut this workaround? They can use mathematics! Since 2004, the United Kingdom has used so-called average speed cameras. On a stretch of road with no on-ramps or off-ramps, a pair of cameras snap a picture of the license plate of each passing car. If the cameras are d feet apart13 and it took t hours for a car to travel from one camera to the next, then the car’s average speed during this time is d/t kilometers per hour. And if a car’s average speed exceeds the road’s speed limit, then a speeding ticket is issued. Notice, though, that such a car may have been moving under the speed limit at both moments that their license plate’s picture was taken- implying that the camera did not catch them in the act of breaking the law, as the law simply says that it is illegal to exceed the speed limit. However, one consequence of the mean value theorem which we will prove in this section - is that if your average speed exceeds the speed limit, then there was indeed a moment when your instantaneous speed exceeded the speed limit; that is, it proves that at some intermediate point you were indeed speeding, and hence demonstrates the soundness of average speed cameras. That is our goal, but as with the intermediate value theorem and Darboux’s theorem, first we prove a “zero version” of the result, which we will then use to prove the main theorem. R eal A nalysis, A Long-Form T extbook 239 f(a) > f(x) > f(b). f(b). ThereforeBut also by assumption, we have /(a) f(b)/(«) In fact, this line’s derivative would be the constant function f'(x) = Theorem. Slope + a fW - f(a) b — a (If the ?;-axis is a car’s distance traveled (in miles) and the x-axis is time (in hours), then this is the graph of a car moving at a constant speed of mph.) Theorem 7.21 (Rolle’s theorem). Let f : [a, 6] —> R be continuous on [a. b] and differentiable on (a, b). If /(a) = /(b), then there exists c £ (a, b) where /'(c) = 0. Proof. By the extreme value theorem, / attains a maximum at some c\\ € [a,b\\. and / attains a minimum at some C2 G [a, b], Note that if either cj € (a, b) or co € (a. b), then by Proposition 7.19 such a point c would have /'(c) = 0, as desired. And so we may assume that ci and C2 are the end points; without loss of generality, assume that ci = a and C2 = b. Then for all x G [a, b], /(b) - /(«) b — a -)— > x b for all x £ [a, b]. So / is constant, and hence /'(.c) = 0 for all x, so for any c £ (a. b) we have /'(c) = 0, completing the proof. — Note that if we are told that / is a continuous function on [a, b], then the most direct route between the points (a,/(a)) and (b,/(b)), whatever those points may be. is a straight line between them. This line would have slope Chapter 7: Differentiation240 fW-fWSlope y fW — /(«) -- < -> x Slopet 2/ fW X + b + a + c C2 Of course, the function could be oven more complicated, and in those situations typically there is more than one such value of c. Now, if f is still continuous and differentiable but is not a line, like below, there is still a point c for which the derivative at that point (i.e., the slope of the tangent line at that point) is equal to the “average slope,” which is -^g^ ■ +-+ (-3 b /(a) - I a cj Assume / : [a, b] —> R is differentiable. If we are hoping there to be some number L for which we are guaranteed that f'(c) = L at some c (no matter f is, such a c exists), then is our only hope. The first of the three examples graphed above had a derivative that only took the value so we can’t hope for anything else. However, as the next two graphs suggested, and as the next theorem states, this value we can always guarantee. R eal A nalysis, A Long-Form T extbook 241 /'(c) = yy fix) - six) /(a) - 0 .s(x) (x —fl) + /(o). .?(•'«) = /(.'«) (x - a) + /(a) . «'(*) g (fl, b) such that /'(c) □ Theorem. I a + c Let g(a:) = /(:c) — s(x). That is, g(x) is what you get when you subtract off this line from /(.-r): d—> x b value theorem). Let / : [a. b] —> R be (a, b). Then there exists some c & (a.b) f(l>) ~ 1(a) b — a /(b) - /(a) b - a f(b) - /(fl) b — a /(b) - /(a) b — a we have indeed found a c Our plan is to reduce this theorem to Rolle’s theorem. If you start with /(.r). and then subtract off the secant line from (a,/(a)) to (b,/(b)) (call this secant line s(x), pictured above), what you get is a function with /(a) = /(b) = 0, which the theorem can handle. The theorem will then give us what we seek. Let’s Rolle. Proof. Note that the equation of the secant line from /(a) to /(b) is Theorem 7.22 (The (derivative) mean continuous on [a, b] and differentiable on where /(&) ~ /(«) b — a Note that g is differentiable on [a, b] and continuous on (a,b), since / and s are. Also note that g(a) = f(a) — s(a) = 0, and g(b) = /(b) — s(b) = 0. So we may apply Rolle’s theorem to g to say that there exists some c g («,b) where g'(c) = 0. I.e., /'(c) - s'(c) = 0, or equivalently that /'(c) = s'(c). And since Chapter 7: Differentiation242 /'(c) = But since by assumption f'(x) = 0 for all x 6 I, we have 0 = And hence, 0 = — /(®i), which gives f(xi) = f(x 2), completing the proof. Corollary. Corollary. /fo) ~ /(ah) X ‘2 — #1 f(x 2) - /(a:i) 3:2 — aii Proof. Pick xi,x 2 6 I with x'i < x2. We aim to show that /(an) = f{x2). Since f is differentiable on I, it is in particular differentiable on [311,3:2], and so by the mean value theorem there exists some c g (.i'i, x2) such that The above can also be proved nicely by contradiction. But moving on, do you remember how your calculus teacher would constantly remind not to forget your “4-C” when taking an antiderivative?14 Well, the corollary below is why. Proof. Let h{x) = /(a:) - g(x). Note that /i'(ar) = /'(a;) - g'(x) = 0 for all x e I. So by Corollary 7.23, /(a:) - g(x) = C for some C £ R. And hence /(a:) = p(a;) + C, as desired. □ ’■'Confession: I was terrible at remembering my “+<7” when I took calculus. And I got burned by it so often that eventually I would go into an exam chanting to myself “+C, +C, +C, ... ” And then as soon as 1 got my exam I would write a huge “+C7” on the top of every page, so I wouldn’t forget. It mostly worked. You might be surprised by how important this result is. As Edward Mills Purcell put it, ‘The mean value theorem is the midwife of calculus— not very important or glamorous by itself, but often helping to deliver other theorems that are of major significance.” Indeed, this theorem will be a crucial piece of many major theorems to come. The first of these important results are a trio of direct corollaries. Corollary 7.24 {“Don’t forget your +C1”). Let I be an interval and f,g : I -> R be differentiable. If f'(x) = g'(x) for all x € 7, then f(x) = g(x) + C for some CeR. Corollary 7.23 {f'{x) = 0 => f(x) = C). Let I be an interval and f : 1 —> R be differentiable. If f'(x) — 0 for all x £ I, then f is constant on I. R eal A nalysis, A Long-Form T extbook 243 (i) f is monotone increasing if and only if /'(x) > 0 for all x E I. (ii) f is monotone decreasing if and only if f'(x) < 0 for all x G I. x — c > 0 /'(c) = lim >0 /'(c) I.e., Corollary 7.25 (/' >()<=>/ is increasing). Let I be be differentiable. /(x) - /(c) x — c /(x2) - /(a-1) X2 ~ £1 an interval and /:/ —>£ for all c i Now for all x increasing, it suffices to show that /(x’i) < /(x2). By the mean value theorem, there exists some c G (xi,x2) such that - t /(x) - /(c) X->C X — C G I, as desired. we show the backwards direction of (i). To that end, assume that /'(x) > 0 : G I. Now pick any xi,x 2 G I for which xi < x2. To conclude that / is Proof. We will prove (i), and simply note that (ii) is extremely similar. For (i), first assume that / is increasing, meaning that for all xj,x2 € I where xj < x2, we have /(xi) < /(x 2). Note that this implies that for any x,c 6 I, /(x) - /(c) and are either both positive (or 0) or are both negative (or 0). And therefore, for any x c, Z(x2) - /(xi) = /'(c)(x2 - xi). But by assumption f'(c) > 0, and since Xi < x2 we also have (x2 - xj) > 0. So their product is also positive: /(x 2) - /(xi) > 0, and hence /(x2) > /(xt), as desired. l jThe second derivative determines convexity, and higher derivatives also represent precise things. A fun fact about this: On the reelection campaign trail, Richard Nixon said \"the rate of increase of inflation is decreasing.” This is believed to be the first time a US president invoked the third derivative to help his electability.16Another fun fact: Thomas Jefferson revered Isaac Newton, and a careful reading of the Declaration of Independence shows how axiomatically he wrote it. After leaving the presidency he wrote to John Adams, “I have given up newspapers in exchange for Tacitus and 4 hucydides, for Newton and Euclid; and I find myself much happier.” If a candidate ever invokes the fourth derivative, they automatically have my vote. Finally, it was important in calculus that a derivative is positive precisely when the differentiable function is increasing.15 for all x,c G I. Thus, Chapter 7: D ifferentiation244 L’Hopital’s Rule7.8 By the func-y limit laws (Corollary 6.14), and I provided both of these limits exist. If the denominator converges to zero and the numerator either converges to something non-zero or diverges to ±oo, then the limit of the quotient either does not exist or equals ±oo, and with a little thought about the signage one can determine which it is. Likewise if the numerator diverges to ±oo and the denominator is convergent. What happens if both the numerator and denominator converge to zero, or both diverge to ±oo? Intuitively, it should depend on which one is converging/diverging “fastest.” For example, if both diverge to oo but the numerator does so much more quickly, then the denominator will not slow it down enough to prevent the entire quotient from also diverging to oo. But if the denominator is diverging to oo more quickly, then the ratio should converge to 0. For example, lim 44 = x->a g(x) lim f(x) x-+a lim g(x) ’ x—>a 17This might almost seem circular, as we used limits to define derivatives, and now derivatives are being used to solve problems of limits? Fortunately, when done with care, no issues arise. 18In academia, people talk about their academic family. One’s PhD advisor is considered their academic parent, and their own PhD students arc considered their academic children. And other relationships work likewise; e.g., a pair arc academic siblings if they share an academic parent. Johann Bernoulli’s academic family tree is interesting in that it intersects his blood family tree. His academic father was his blood brother, Jacob Bernoulli; his academic brother was his blood nephew, Nicolaus 1 Bernoulli; and his academic child was his actual son, Daniel Bernoulli. (Oh, and another of his academic children was perhaps the most prolific mathematician in history, Leonhard Euler.) The Bernoulli (blood) family was a mathematical powerhouse, producing eight world-class mathematicians in just three generations. r , v V®2 luu -——- = — oo and hm — = 0. ®->o hi |o.-| _ This suggests that each function’s rate of change will determine what happens to the limit of the quotient. And since derivatives measure rates of change, it is reasonable to think that the derivative will play a role. And, indeed, it does.17 We end this chapter with I’Hopital’s rule. This theorem continues a long tradition in mathematics of not being named after the person who first proved it, although the story behind this theorem’s name is particularly interesting. Johann Bernoulli first proved the theorem, although it was named after Guillaume de I’Hopital. So why does it bear I’Hopital’s name? L’Hopital offered to pay Bernoulli 300 Francs per year for the rights to some of his theorems. Seriously. Bernoulli agreed to inform I’Hopital of his major discoveries, and according the contract that the both signed, I’Hopital could do with those results as he pleased. One of those results is what is today called I’Hopital’s rule. But the credit goes to Johann Bernoulli!18 L’Hopital did have a meaningful contribution, though: He published the rule in his book Analyse des Infiniment Petits pour V’ntelligence des Lignes Courbes, which R eal A nalysis, A Long-Form T extbook 245 /(«)]•</(«) = b(&) -<?(“)]• m[fW Now here’s the rule. and 0,0 or if and ±00, then provided the limit lim exists. Theorem . lim g(x) x —>a lim .</(■'•) x —ta Proof Idea. The big idea behind this proof is that since lim exists, it equals some L e R, which by the definition of a functional limit (Definition 6.8, although in the actual proof e/2 will be playing the role of e), means that there is some 6 blah blah blah such that Theorem 7.27 (L ’Hopital’s rule). Suppose I is point a, and f : I -> R and g : I -> R a). Suppose also p'(at) / 0 on ,. /'(*) 11111 “77T> r-ta g (x) I®-/J !</(*) a subject is sooooooo much harder to write than 20 renditions later. So even as a real analysis author I still have mad respect for I’llopital for paving the lim f(x) = ±00 x —>a Um f(x) x —>a as Jvered fous ^ is ^ ln ^n-Qw °°nrtain. 'aave jt to ■^reise Theorem 7.26 (Cauchy mean value theorem). If f and g are continuous on [«. b] and differentiable on (a, b), then there is a number c€ (a,b) such that was the first ever calculus textbook.19 Its proof will use the following result, which is a generalization of the mean value theorem (Theorem 7.22). lim x->a g(x) f'W x~>a g'(x) 19The first book on though he was cheat, way. *pours one out* an open interval containing a are differentiable on I (except possibly at I. Then, if ' ^ ve disco, a trv 'y marve/i Procxp is to, to c ■So i;i Sr\\ e-- Chapter 7: Differentiation246 also equals L, which means that we want to show into an not into an (f) g'& /w g(aY /'(c) ff'(c) e 2 /(fe) - /(a) <?(&) - g(a) ’ By undoing the absolute value and adding L throughout, the above gives that, for all x E (a — 8, a + b), -1 /'(c) /(b) - /( a) 9'(c) g(b) - g(a) ' ■/fo) _ r\\ g(x) | e Since c G (a - J, a + <5), the inequalities in (Sf) imply L - - To do this we need a means to convert information about the derivative into informa­ tion about the original function. The Cauchy mean value theorem (Theorem 7.26) is perfectly set up to do this, which (after some simple division) says that for any interval [a, b] on which / and g are differentiable, there is some c for which f'W r 9'^ L + -, which but until the assumptions that lim /(:c) = 0 and lim g(x) = 0, it all works out nicely. x —ml x—ml' There is some work to go to find the interval(s) [a, b] on which we will apply this theorem, and the above isn’t immediately perfect since we which to convert an bi­ Pick any x\\,x 2 G (a - 8, a + b) where 11,12 £ / and aq < a < x2. Notice that / and g being differentiable on I implies that they are differentiable on [rci, as2], which by Theorem 7.6 implies that / and g arc continuous on [aq,^]- We can therefore apply the Cauchy mean value theorem (Theorem 7.26), which produces some c € [xi.xy] £ (a — 5, a + 8) such that, /(c) = /fo) ~ /(ail) 5z(c) g^-g^iY Proof of the case. Here we will only prove the case when lim /(.t) = 0 and X —Ml lim g{x) = 0. The case where both limits are ±oo is asked of you in Exercise 7.33. Let s > 0. Since lim 4W exists, there is some L G R such that lim = L, X —ML V W X-ML 9 which by the definition of a functional limit (Definition 6.8) means that there exists a 8 > 0 such that for all x G I for which x G (a — 8, a + J), We wish to prove that lim 4A x- mi 9W R eal A nalysis, A Long-Form T extbook 247 (t) < 0, so by applying the limit to which in particular implies L-e x2, anda (O)L + eL-e (0)L — e L. proven that □ /fol) S(ati) s(®) In summary, we arbitrarily chose aq, x2 G (a — 5, a + 5) Cl I where aq we showed that has the property that J(-t-t) S'('Ei) lim X2~>a o - O-p(aq) when combined with (f) gives Since both equal L, we which by definition means n.„ 44 x~>° g(p) t/(-T2) - .9(-7-T) Since this holds for any such aq and a:2, and this quotient is a continuous function in x2, by taking a limit (as a?2 —> a) on all sides we achieve ^4 By assumption, lim f(x2) = 0 and lim <7(2:2) X-2—Xl X2 —>(1 the above we see that , , fl(-7-'2) <L + 1‘ Likewise, if from (t) we had taken the limit as aq -> a (instead of x2 —> a), then the same sequence of steps would have deduced that x2 has the property that. as desired. /'(*) lim L + - ) . X2~+(l 2 ) „ /(x 2) “ /(^l) < hm —;—r----- 7—r Z2-+a <)\\X2) -.9 41) Since the inequalities of (03) holds for all .'tq 6 (a - 5,a), and the inequalities of (0) holds for all 12 G (<'-> a+<5), we have what we want: For all x such that 0 < |.r — a| < d. we have shown that Chapter 7: Differentiation248 The Universal Language In the opening pages of this book, when we were discussing the building blocks for R, I mentioned a famous quote from Leopold Kronecker: “God made the integers, all else is the work of man.” Regardless of whether you believe in a God, it opens up an interesting philosophical discussion as to how much of mathematics lives in nature, and how much lives solely in our collective brains. Kronecker seems to be far to one side of this debate. Now that we have developed derivatives, if we wanted we could turn to the study of differential equations — equations which include the derivatives of functions, and which do a remarkable just at modeling just about everything in the real world, from moving objects to incoming hurricanes to heat transfer to the stock market. Richard Feynman — one of the greatest modern physicists and an enormously influential science communicator - took quite a different stance than Kronecker, swayed strongly by the universe’s deeply mathematical nature. “Have you studied calculus?” he once asked Novelist Herman Wouk after an interview. “No,” Wouk admitted. “You had better learn it,” Feynman replied. “It’s the language God talks.” R eal A nalysis, A Long-Form T extbook 249 Notable Exercises that Exercise 7.15 deals with Lipschitz functions, which is another way to make precise this important notion of a function never getting “too steep.\" • In Exercise 7.5 you are asked to prove the quotient rule. This is one of the principle rules for actually computing derivatives, which is why it plays a prominent role in calculus. Its proof is similar to the proof of the product rule. ° A function is continuous if it is continuous at each point in its domain. Being continuous at each point c means that, for every e > 0, there is some <5 > 0 such that.. . yada yada yada... . Intuitively, if your function is really steep at c, then you need a really small 5, whereas if your function is not so steep, then although a small 6 also works, a larger 6 will work too. But note that for a fixed £ > 0, each point c can have its own 6. The idea behind uniform continuity is that a single <5 works for all the points c; essentially, the function never gets “too steep.” Exercise 7.13 puts meat on the bones of this idea. It says this if a derivative is bounded (which is another way to say the function never gets \"too steep”), then the function will be uniformly continuous. ° Exercise 7.29 asks you to prove a generalization of the mean value theorem (Theorem 7.22) called the Cauchy mean value theorem (Theorem 7.26). which was used to prove the § case of 1’Hopital’s rule. ° In Exercise 7.33 you are asked to prove the case of 1’Hopital’s rule (Theorem 7.27). Admittedly, this case it significantly harder to prove than the § case was proven a couple pages back. • In Exercise 7.34 you will find the derivatives of sin(a:), cos(i) and tan(a-). o In Exercise 7.7 you are asked to prove a special case of the power rule, another highly useful rule for computing actual derivatives, and one which played a starring role in your calculus class. Chapter. 7: Differentiation250 Exercises (a) f(x) = x/z + 3 Exercise 7.5. Prove the quotient rule (Theorem 7.12). Exercise 7.6. Is /( ■* ) differentiable at 0? for all n 6 N, which is /a(®) = 6 R is f a continuous at 0? I Exercise 7.9. Assume f : R —> R. (a) Let t e (Loo). Prove that if |/(®)| < for all x, then f is differentiable at 0. (b) Let t e (0,1). Prove that if |/(x)| > |a.f for all x, and /(0) = 0, then f is not differentiable at 0. xa 0 if .i- > 0 if x < 0. if x e Q, if x g Q (c) Give a pair of examples showing that if\\f(x) | = |a'| for all x, then either conclusion is possible. (a) For which values of a ^x x Exercise 7.1. Use the definition of the derivative to find the derivatives of the following functions. For each, let the domain be the positive real numbers. Exercise 7.2. Assume f and g are functions defined on (a, &), both of which are differentiable at a point c € (a, b). Also, let a, /3 6 R. Apply the definition of the derivative to the function (a/ + fig) to prove that (a/ + fig)'(c) = af'(c) + fig'{c). Exercise 7.3. Let f : R —> R be defined by /(a:) = [.tJ, and let C be the collection of points on which f is differentiable. Determine C and determine the function f (which is a function from C to R). (b) g(x) = - x Exercise 7.8. Let Exercise 7.7. Use induction to prove that -^xn = nx' the natural number case of the power rule. Exercise 7.4. Prove that there do not exist differentiable function f and g for which /(0) = 5(0) = 0 and x = f(x)g(x). (b) For which values of « E R. is j a differentiable at 0? (c) h(x) = 4x + ~ Real A nalysis, A Long-Form T extbook 251 (a) If f : R -> R is (b) If f : R —> R is odd and differentiable, then f'(-x) = f'(x). Exercise 7.11. (b) Give 0. f+ f + ?' + ■■■ + f M >0- \\f(x)-f(y)\\<C-\\x-y\\ for all x and y. Definition 7.28. A function f is called Lipschitz continuous if there exists some C G R where Let I be an interval and / : / —> R be differentiable. Show that I if and only if f is bounded on I. Exercise 7.16. f is Lipschitz on an example showing that part (a) no longer holds if /(c) even and differentiable, then /'(-x) = ~f'(x). (a) Prove that if f is differentiable at some c. for which /(c) / 0, then |/| is also differentiable at c. Exercise 7.14. Give an example of an interval 1 and a differentiable function f : I R which is uniformly continuous and for which /' is unbounded. You may use, without proof, that / > 0 implies n is even, and yon may use standard properties of even-degree, positive polynomials (e.g. / has a minimuni value and lim f(x) = lim f(x) = oo). X~ > 00 T-V - TC x ' Exercise 7.12. Suppose / is /(.r) > 0 for all a;). Prove that a polynomial of degree n, and f > 0 (that is. Exercise 7.10. Recall that a function is even if f(-x) = f(x) for all x, and is odd if /(-.t) = -/(.-c) for all x. The below two properties are true. Give two proofs of each one using the definition of the derivative, and one using a result from this chapter — and also draw a picture of each to model the property. Exercise 7.15. Let / : [a, h] —> R be differentiable, and assume /' is continuous on [a, 6], Prove that f is Lipschitz continuous on [a, b]. Exercise 7.13. Assume that I is an interval and / : I —> R is differentiable. Prove that if /' is bounded, then f is uniformly continuous. Chapter 7: Differentiation252 don’t assume (a, 6) and /(a) = /(b) (but Exercise 7.19. Use the derivative to find all values of a for which —a| = (□;—2)2. Exercise 7.23. (b) Suppose that h : [0, 5] (c) Can you give a geometric interpretation of the previous two parts? increasing function. Prove r (b) A function f which is continuous f is differentiable on (a, b)). Exercise 7.22. Prove that if f is differentiable and f'(x) > M for all then f(b) > f(a) + M(b — a). Suppose f and g x > a. x g [a, b], (a) A function f which is continuous on don’t assume f(a) = f(b)). [a, b] and differentiable on we don’t on [a, b] and /(a) = f(b) (but we (a, b) (but we (a) Suppose that g : [0,5] -> R is differentiable, ,g(0) = 0, and |.<?'(a')| < M. Show for all x e [0,5] that |.g(s') | < Mx. Exercise 7.20. and f(x) < g'(x) for all are differentiable functions with /(a) = <y(a) Prove that /(b) < g(b) for any b > a. Exercise 7.21. A fixed, point of a function f is a value c Prove that if f : R —> R is differentiable for all x, and /'(a;) 1 for all then f can have at most one fixed point in [0,1], Exercise 7.24. Assume that /(0) = 0 and f'(x) is an that g(x) = f(x)jx is an increasing function on (0, oo). Exercise 7.17. Which is greater, e71 or 7re? Make sure to give a proof that your answer is correct —don’t just quote your calculator. Feel free to use facts you learned in calculus about ln(a:)... and perhaps consider the function f(x) = ^2. for which /(c) = c. x e [o,i], (c) A function / which is differentiable on assume / is continuous on [a, b]). Exercise 7.18. In this exercise you will explore why each of the three main assumptions in Rolle’s theorem is necessary. To that end, give an example of a function / which satisfies of each of the following conditions, and yet /'(c) 0 for all c e (a, b). R is twice-differentiable (meaning that it’s differentiable, and its derivative is differentiable), that /i'(0) = b(0) = 0 and |/i (a:)| < M. Show for all x & [0,5] that |/i(a.-)| < Mx2/2. 253R eal A nalysis, A Long-Form T extbook Show that there is some point c € (0,3) sucli that /(c)(a) Show that there is some point d € [0,3] with f'(d)(b) Show that there is some point e € [0,3] with /'(e) — q.(c) Show that the sum of a positive number and its reciprocal is at (a, b), then /(“ )] • fl'(c) = [»(&) - .9(Q)] ■ /'(c)-l/W of this, in which (fWH ) Use this to produce the familiar formula for the derivative of the square-root function. Exercise 7.31. Prove that Thomae’s function is not differentiable at any point. Prove Leibniz’s rule. That is, prove that if / and g have nth order derivatives h(n)(c) 1 /'(•to) ’ I- Exercise 7.28. least 2. Exercise 7.29. says this: (Note that the g(x) = x.) Prove the Cauchy mean value theorem (Theorem 7.26), which mean value theorem (Theorem 7.22) is a special case If / and g are continuous on [a, b] and differentiable on there is a number c G (a, b) such that E (^/^’(^'-^(c). k=o ' ' Exercise 7.27. Prove that among all rectangles with a perimeter of p, the square has the greatest area. Exercise 7.30. Suppose / is a strictly monotone continuous function (guaranteeing / ’s inverse function, / -1 , exists) on (a, b). Prove that if /'( xq) exists and is non-zero, then / 1 is differentiable at /( xq) and Exercise 7.32. on (a, b) and h = / • g, then for any c G (a, b), Exercise 7.26. Assume / : (a, b) -> R is differentiable at some point c G (a,b). Prove that if /'(c) 0 there exists some 5 > 0 such that /(x) /(c) for all x G (c — <5, c + <5). Exercise 7.25. Let / be a differentiable function on the interval [0,3] satisfying that /(0) = 1, /(I) = 2 and /(3) = 2. Chapter 7: Differentiation254 tangent line 0 1 Do you see the similar triangles? The ratio of corresponding sides But tan (I?) = y = tan(0). y i 1 sin(6>) cos(0) First, do you know where tan(a;) got its name? Consider a circle of radius 1, a vertical tangent line, and a ray emanating from the origin at an angle of 0 from the positive x-axis. are thus equal: We will focus on just a part of this tangent, and ask for the length of the line segment. Call this length y, and decorate this picture (using the definition of a sine and cosine). x^a gw Exercise 7.34. In this exercise you will derive the formulas cos(a:), sin(a:) and tan(a:). hm = L implies x~ta 9 \\x) Remember where y came from: it was a tangent line. So now you see why the tan(0) function is call “tangent” it’s the length of a tangent! You will use this diagram to in this exercise: Exercise 7.33. Prove the following “oo/oo” case of I’Hopital’s rule. That is, prove that if f : (a, l>) —> R and g : (a, 6) —> R are differentiable functions and lim f(x) = lim g(x) — oo, then x-ta x-+a' •S~n77T • So we have deduced that cos(0) R eal A nalysis, A Long-Form T extbook 255 t»n(0) 1 (c) Use the above and the sequence squeeze theorem to prove that 1. (d) Prove that 0 Alternative definition of the derivative. The derivative of f is (a) Notice that there is a triangle in this diagram whose base has length 1, and whose height has length sin(0). Notice that this triangle’s area is less than the area of the portion of the circle in the 0 angle, which is in turn less than the largest triangle’s area. Use this reasoning to show that (e) You will now use the above equivalent definition of the derivative to show that sin(rr) = cos(a:). Here are the small steps: (i) Write sin(x) by applying the equivalent definition. (ii) Rewrite what you have by using the algebraic identity sin(a+b) = sin(a) cos(6)+ sin(b) cos(a). lim^ .?->() X 1 - cos(x) hm ------------ x-»o x by multiplying the numerator and denominator of this limit by 1 + cos(j-) and. after some quick algebra, applying part (c). sin(0) ... 1 > —0— > cos(0). | sin(0) < ^tau(0). (b) Do some algebra to the above to show that A/(x)=lim^ +/t)~ /(a:) ax h~>o h Chapter. 7: Differentiation256 Open Question Question. Notice that the formula for the area of a circle is rrr2. Differentiating this with respect for r gives ^rrr2 = 2?rr, the formula for perimeter of the circle. The formula for the area of a square with side length 2r (so that its “radius” is r) is (2?J(2r) = 4r2. Differentiating this with respect to r gives ^4r 2 = 8r, which is the perimeter of the square. Classify all shapes where this property holds (including the higher-dimensional analogues, where you differentiate the volume formula to get the surface area formula). What other geometric interpretations of “radius” are there that give this property? (iii) Do some algebra so that you can apply the limits from parts (c) and (d). (iv) Conclude that ^sin(ir) = cos(ai). (f) Now that you know ^sin(ai) = cos(.t), use the algebraic identity cos(.r) = sin(?r/2 - x) to show that cos(a;) = — sin(i). (g) Now that you know ^sin(ai) = cos(x) and cos(x) = -sin(x), show that £ tan(:c) = sec2(x). Chapter 8: Integration Brief Review ° U is an upper bound of a set A if • L is a lower bound of A if • If / : [«, 6] —> R is continuous, then f is bounded. (Corollary 6.31) • Dirichlet’s function f (x-) = is continuous nowhere. (Example 6.3) • The modified Dirichlet function 0. (Example 6.5) 257 if x G Q if x i Q if x e Q if x $ Q 1 0 • f ■ [«, 5] 6.40) x 0 • A function f : A —> R is bounded if /(A) is bounded. Or, equivalently, if there exists some M such that |/(x)| < M for all x G A. is continuous only at x = • A is bounded if there exists equivalently, if there exists 1.17) —> R is continuous if and only if f is uniformly continuous. (Proposition an upper bound and a lower bound of A. Or. some M such that |.r| < M for all x G A. (Definition x > L for all x G A. (Definition 1.17) x < U for all x G A. (Definition 1.17) • If x < y for all x G A and y G B, then sup(A) < inf(B). (Exercise 8.3) There are a handful of ideas from earlier chapters that will be particularly important in this chapter (and I anticipate this chapter being near the start of the second semester of an analysis course, so a review seems fitting). For those reasons, let s briefly review. Let A C R. Chapter. 8: Integration258 • Thomae’s function (the function pictured on the cover of this book) 0 is continuous on R \\ Q, and discontinuous • Consider gn(z) = Then (Examples 7.14, 7.15 and 7.16), The Area of a Circle8.1 f if x $ Q if x = 0 • If f is differentiable, then J is continuous. However, f need not be continuous. (Theorem 7.6 and Example 7.16) • If f is differentiable, then f has the intermediate value property. (Theorem 7.20) xnsin(l/.7.-) if a; / 0 0 if x = 0. Continuous at 0? no ______ yes______ yes Differentiable at 0? no no yes go gl g2 on Q. (Example 6.7) x = m/n. e Q in lowest terms with n Early geometers — from Babylon to Egypt to China to India to Greece to Japan — all deduced the area and volume formulas of the standard straight-lined and flat-surfaced shapes. But for centuries, roundedness left them all bewildered. Even determining the area of a simple circle was too much. Such curiosities inspired some ancient mathematicians-at-heart, and would eventually transform the world. This transformation began with the realization that cannonballs in flight, planets in orbit and light through a convex prism all rely on the understanding of funda­ mental curved shapes, and that the geometry developed was critical. But even more transformational than this, was the problem’s solution. The key to solving the circle problem was picked up two millennia later by Issac Newton to develop calculus. And without calculus we wouldn’t have radio communication, econometrics or ultrasound. But it all began with a circle and with one particularly eccentric nerd.1 ’I’ve heard Archimedes be referred to as history’s first true math nerd. He loved math. lie reportedly would become so engrossed in his geometry that he would forget to cat or bathe - and when he did bathe he was still focused enough on his work that after once solving a problem mid-bath (a problem tasked to him by the king), he sprang from his tub and ran down the street naked yelling “Eureka!” Whether or not his last words were actually “Do not disturb my circles” is highly debatable, but we do know that he personally requested that his tomb be engraved with his favorite mathematical discovery. 1 / n if x 0 and h(x) — • 0 1 Real A nalysis, A Long-Form T extbook 259 A What is the area of the circle with radius r? We know that the area is smaller than 4r-2, since it is smaller than the 2r x 2r square that circum­ scribes it. Likewise, you could use a little geometry to figure out the area of the square that inscribes a circle. Indeed, if you realize that the square’s upper-right vertex is at 45°, and the rest are 90° rotations from there, then you can quickly deduce (by the Pythagorean theorem) that the side length of such a square is \\/2r, and hence its area is 2rl . So we just proved that the area of a circle is between 2r2 and 4r2! How can we do better? Well, instead of using squares, let’s use polygons with more sides, as those more closely resemble a circle. couple hundred years after Zeno’s confounding paradoxes of the infinite. Archimedes -building on the ideas of others had some revolutionary brainwaves. What is the area of a circle? With his approach and not too much work, he could see that it was a little bigger than 3r2; the constant looked suspiciously like the value tr (which is defined to be the ratio of the circumference of a circle to that circle’s diameter which is the same for all circles;2 equivalently, tt is defined so that 2-r is the circumference3 of the circle of radius r). His clever idea is known today as the method of exhaustion, and was a long precursor to integral calculus. He applied his idea to many different problems, and some such applications remain magnificently brilliant even with two thousand years mathematical hindsight. But for now, our focus here will be on the circle. T he fact that tt is a constant, and does not depend on which circle yon pick when you take the circumference divided by the denominator, was not proven in Euclid’s Elements. It was a century after Euclid that Archimedes finally proved the result (although Greeks thought of it via ratios, not as a number per se). Indeed, the famous axioms of Euclid’s geometry are insufficient to prove that tt is constant Archimedes had to introduce two more axioms to get a handle on curved arc lengths. For more, see the excellent paper Circular reasoning: Who first proved C/d is a constant? by David Richcson here: arxiv.org/abs/1303.0904. ’Indeed, its symbol ‘tt’ as an abbreviation of the Greek word for periphery. 260 Chapter. 8: Integration k r We first focus on the inscribed polygons. A sequence of them looks like so: For n = 36, you have to zoom in quite a bit just to see any bit of the circle, or to see the edges of the 36-gon!4 So what is the area of each of these n-gons? Each serves as a lower bound on the actual area of the circle, and presumably they are getting closer and closer to the true value. Let’s calculate these values and see what they’re doing. Consider a regular n-gon with side length s inscribed in a circle of radius r. Let 0 = 27r/n radians be the measure of a central angle, as shown below (in the picture on the next page, n = 6): ‘'Archimedes himself moved from 6-gons to 12-gons to 24-gons to 48-gons and eventually as far as a 96-gon, which he used to prove 3 + |2<7r< 3 + ^,a remarkable feat. He was bested 700 years later by Chinese geometer Zu Chongzhi who continued this doubling six more times, and with an astonishing 24,576-gon proved that 3.1415926 < it < 3.1415927. A few hundered years after that, Arabian mathematician al-KhwarizmT estimated it to be 3.1416 in his book. This didn’t set a world record, but here’s a fun fact: The word algorithm is derived from his name, and the word algebra is derived from al-jabr, meaning restoration, and part of the title of his book. Al-KhwarizmTs work on estimating tt is dwarfed by his contributions to algebra. The marriage between geometry and algebra is what makes calculus possible, and although many mathematicians contributed particularly in China, India and the Middle East al-Khwariznii’s work was especially important. Real A nalysis, A Long-Form T extbook 261 And of course, since the n-gon is regular, every interior angle has this same angle, and all n triangles that are produced are identical. So the area of the n-gon is equal to n times the area of one triangle. Thus, we turn our attention to determining the area of a single triangle. One such triangle looks like this: Dropping an altitude from the lower-left vertex to the length-s side gives C hapter. 8: Integration262 The area of the entire triangle is half of the base times the height: |s/i. Therefore, of the inscribed n-gon is | • (perimeter of n-gon) • h, taking Now here’s the awesome observation: so sn is equal to the perimeter of the n-gon, and - • (2tt7-) • r = 7rr2, Area of inscribed n-gon = - • (perimeter of n-gon) ■ h. The number tt is defined to be the circumference divided by diameter of any circle. Equivalently, it is the value such that a circle of radius r has circumference 2ttt. But why does a tt also appear in the formula for the area of a circle? We are just one limit from seeing why! Indeed, since the area of the inscribed n-gon is | • (perimeter of n-gon) • h, taking the limit as the number of sides, n, gets larger and larger, notice that the perimeter of the n-gon approaches the perimeter of the circle, which as we said is 2irr by the definition of tt. And also in the limit, as n grows, notice that h approaches r. Thus, by taking the limit, the area of the inscribed n-gon approaches Area of inscribed n-gon = ~shn. ’Archimedes used similar ideas to prove formulas for the volume and surface area of a sphere. 1 he formula for the volume of a cone had been done a century earlier by another Greek mathematician, Eudoxus of Cnidus, who some regard as the second best mathematician in all of antiquity —second, of course, to Archimedes. which is indeed the area of a circle. And a similar calculation using circumscribed n-gons would also approach irr2. Now, we could be more precise by using trig functions to describe the area, and using the theory of limits of trig functions wc could find what they are tending toward, but you have to be quite careful when doing so to avoid accidentally using something about tt that was not already developed. Also, it should be noted that while Archimedes did use this general idea, he never used a limit. Archimedes used a proof by contradiction: If the area of the circle were assumed to be some Aj smaller than irr2, then he found an inscribed n-gon with area larger than Ai, a contradiction. Conversely, if the area of the circle were some A ‘> larger than ttf2, then he found a circumscribed n-gon with area smaller than A-j, another contradiction. This proves the answer while never invoking any notion of the infinite.5 This was called the method of exhaustion. Archimedes was ahead of his time- way ahead of his time. It took about eighteen hundred years for Galileo Galilei, Johannes Kepler and others to push further the mathematical study of nature. While Archimedes had focused on static systems, these men studied moving objects- whether rolling down an incline, swinging from a pendulum, or hurtling through space. But time and again their potential scientific advancements were diminished by a lack of understanding of the same curved geometry that had stumped mathematicians for millennia. Science needed savior, and on- Christmas Day, a baby boy was born. And his mother called him Issac. R eal A nalysis, A Long-Form T extbook 263 #IntegralG oals What do we want out of an integral? Here are three important goals: • Integrals find antiderivatives at least the definite integrals should.'o Integrals relate to area under a curve s(ir) = 1 21 if x e [o, 1] if x e (1,2] o We want them to be fairly powerful functions as possible. the limitations of this goal, look up Volterra's function, the limitations of this goal, stay tuned. 1 2 gTo see 7To see we want to be able to integrate as many perspective area interpretation, but it approach was out from a More on which most calculus texts call Riemann sums). at least the indefinite integrals should.6 Finding the “area under the curve” of this function is something you could have done when you were 9, but this function is not a derivative. Recall that Darboux’s theorem (Theorem 7.20) states that every derivative has the intermediate value property however, ,s-(:r) clearly does not satisfy the IVP (for example, nothing maps to 1.5). So if we demand that integrals be antiderivatives, then jj? s(x)dx would not exist, even though we already know in our hearts that the answer should exist and should equal 3. So in order to also use our area intuition, and in order to have it be fairly powerful (at least powerful enough to integrate s(x)), we should develop it from the area provided the antiderivative angle also works out. Newton noted this was Cauchy and Riemann who realized that the best to define it only using area, and later prove that antiderivatives pop (fundamental) theorem. this later. For now, let’s jump right into familiar pictures from calculus. sums (but which we will soon call Darboux The history of integrals is complicated (and the vocabulary has evolved which makes it additionally challenging), but one initial goal in their development was simply to find antiderivatives. This is a perfectly fine goal, but developing them in this way significantly limits their power and utility. For instance, consider the simple step function, s : [0, 2] —> IR, given by Chapter. 8: Integration264 8.2 Simplistic Approach - Pictures from Calculus - To find this shaded area for this simple increasing function, you learned that the first thing to do is to find a simple rectangular upper bound, like so: 21) 20 Our approach will be similar to the Method of Exhaustion in which we approached the area of a circle by finding upper bounds using circumscribed n-gons, and lower bounds using inscribed n-gons, and then by taking a limit; if the upper bounds and lower bounds are converging to the same thing, then we have an answer. Likewise, we will find a sequence of upper bound areas and a sequence of lower bound areas, and then take a limit, and if they are converging to the same thing then we have an answer. Back in calculus you were likely shown some pictures like those below. For example, below is the function /(a:) = x2 + 1. 265R eal A nalysis, A Long-Form T extbook 2020 Kil(i 1212 « 2 20 20 IB 16 12 12 8 20 16 12 8 3 .. 20 I 10 By using more and more rectangles you get a sequence of increasingly better upper and lower bounds. And as you discussed while taking calculus, it certainly is reasonable to wave your hands and say that for a function as simple as this, clearly the sequence of upper bounds and lower bounds are converging to a common a sequence of A lower bound was then found by putting a single (dark) rectangle inside the region under the curve, so that it lies entirely below the curve: / Then you continue with more rectangles. For example, here’s pictures where the dark and light boxes arc overlaid. C hapter. 8: Integration266 (©) = 0 and Area < Area < Area If the number of rectangles is N, and each rectangle has width then N And so, the above is equivalent to And so by using (©), is constant and the above holds for any N , it in fact holds 1 7V3 N ■ — I)3 < Area In a moment we will generalize this idea, but here is a quick example showing how the area of some curved regions were found by Fermat and others in the 1630s — decades before Newton and Leibniz’s monumental papers. Example 8.1. Recall a fact that you may have been asked to prove when you were first introduced to the principle of mathematical induction: • For the right area, the ith rectangle has area • For the left area, the zth rectangle has area Since the (middle) area number - the area under the curve that we are trying to find. Of course, to do this there is a limit taking place behind the scenes. I2 + 22 + 32 + ■ • • + N 2 = ^N(N + 1)(2AT + 1). With this, we can find the area under the curve of /(.c) = x2 between x x = 1. Indeed, since the function is increasing we clearly have ^■i(lV-l)lV(2^-l). <Area _i_ (i=L\\2 - 6- 1,)3 N ' \\ N ) ~ N 'J 1 1 N 3 6 R eal A nalysis, A Long-Form T extbook 267 for the limit! And if you take the limit as N -> oo, you will see that - More General Approach - 1 2 3 4 5 6 7 8 9 Let’s thereof. • We no longer make all the rectangles the same width widths. The above works particularly well when the function is continuous and increasing. We will return to the continuity issue in depth later, but two quick changes are: we consider all possible □ now discuss the deficiencies of this simplistic approach, and generalizations So this area must indeed be 1 /3, completing the argument.8 — < Area • When the function is increasing, the right endpoint gives the largest, function value and the left endpoint gives the smallest function value. If the function is not increasing, then we have to instead find the maximum (or supremum) point on our own, and the minimum (or infimum) point on our own. 8I believe this is a startling result. The area under a parabola is something that the standard area formulas from geometry seem completely useless to help find. One could quickly deduce that the area should be less than 1/2, but with that weird curved upper side 1 don't see any reason that we should expect the answer to be nice at all, let alone one of the simplest possible (rational!) numbers less than 1 /2. Math’s pretty neat. For example, here is an upper bound (soon called an “upper sum”) where the rectangles have different widths and one of the rectangles is touching the curve at a non-endpoint: 1 Chapter 8: Integration268 Likewise, here is a lower bound (soon called a “lower sum”): -> 2 3 4 5 6 7 8 9 Types of Integrals • Riemann integral • Daniell integral • Generalized Riemann integral • Haar integral • Riemann-Stieltjes integral • Ito integral • Lebesgue integral • Statonovich integral • Lebesgue-Stieltjes integral • Young integral different! + 1 ... and all of these are It s worthwhile to take a moment to point out that there are many ways to define an integral. Here are versions of the integral that mathematicians have defined: We will study the most classic and fundamental integral, which is the Darboux integral. Note: This integral is often mistakenly called the Riemann integral. Darboux and Riemann each defined an integral and one can (painstakingly) prove that their two integrals are in fact equivalent. Nevertheless, their fundamental definitions are different and we will follow Darboux’s approach, which is far simpler to use (and likely the approach you were taught in calculus). Real A nalysis, A Long-Form T extbook 269 The Darboux Integral8.3 collect the fundamental definitions to allow us to talk about Darboux sums. - Three Preliminary Definitions/Notation - Definition 8.2. A partition of [a, b] is a finite set {rco, mi, rt:2,...,P such that < xn- o TD-i : O Mi : >up{/(x) : For example, one partition of [2,5] is {2,2.7,3.1, tt, 4.2, 5}. There are, of course, infinitely many others. inf{/(x) : x Next, we need to define the heights of the rectangles. We want the rectangles to be eit her big enough to completely encompass the region under the curve, or are small enough to be completely encompassed by the region. These two possibilities lead to two different notations that we need to deline. a partition {xq> • • • > ®n} of [a, b], consider a subinterval First we a = .tq, b = xn, and xg < xi < x? Notation 8.3. Given [xi_i,a:j]. Denote First up, the rectangles can have arbitrary widths. To define these widths, we need only define the set of points which are the left/right endpoints of the rectangles. (Note that this is much easier than trying to define the specific widths of each rectangle while also ensuring those widths add up to b — a.) For example, below is a partition of [xq, x4] where we labeled Af:j x £ [.'1'2, •''-'a]}, the height of the third (upper) rectangle. £ [xj-pXi]}; sup{/(ar) : x £ [xi-pXj]}. 1 Chapter 8: Integration270 M3 - ■> •TO •T 1.7:2 T.3 a?4 And here is m3, the height of the third (lower) rectangle: m3 -- To Tl.7,’2 T3 X4 partition • the lower sum as where Mj and m, were defined in Notation 8.3. I Definition. n L(f,P ): y~^m, • (xi - n Mi ■ (x, — Ti-i), and • the upper sum as Definition 8.4. Consider a function f : [a, £>] R, and consider a P = {xo, I’l , -.., xn} of [a, &). Define Now that we have a way to talk about the widths and heights of both the big rectangles and the small ones, we can write down what we are really interested in: a formula for the upper bound area and the lower bound area. These are called “upper sums” and “lower sums,” respectively. R eal A nalysis, A Long-Form T extbook 271 - Refinements - rT UU,P) >U(J.Q) nixl L(/,P) <£(/,«). Proposition. We begin with an intuitive result - a refinement really docs refine; that is. a refinement makes upper sums smaller and lower sums bigger, or at worst leaves them unchanged. Proof Idea. The idea is fairly intuitive when you consider the following picture (of an upper sum), showing an interval from the partition P being broken into two intervals by the refinement Q. Suppose you have a partition of [a, ft] that contains 10 points. This would give 9 rectangles, and the upper and lower sums may be ok estimates of the integral. But if instead you had 100 points giving 99 rectangles that would presumably give a much better estimate. This isn’t necessarily the case, though, since maybe all 10 points in the first partition arc nicely spread out, while in the second partition 99 of the 100 points are clumped together on one end. Those 99 points would give a fantastic estimate of the area on that one end, but then there’s just one huge rectangle to estimate the rest of the area, which will likely have a huge error. So you see, having more points is not everything, we also want them to be distributed nicely. We begin with an intermediate step, called a refinement. The idea here is that if you want to ensure that 100 points are better than 10, construct your 100 points by first starting with the 10 points from the first partition and then adding 90 more points. If your original 10 points are still there, then you guarantee that you aren’t making things any worse, and are usually making the estimates better and better. Observe that if P is a partition and Q is another partition with all of P's points plus others, then P C Q. Thus we can use subset notation to define a refinement. Proposition 8.6 {Refinements refine). Consider a function f : [a,b] -> R and a partition P = , x„} of [a, &]. If Q is a refinement of P, then Definition 8.5. Consider a partition P = ..., } of [a, &]. A partition Q of [a, b] is called a refinement, of P if P C Q. 1 Chapter 8: Integration272 - <- •T'k— 1 Xk~l z Xk additional point did indeed decrease Zfe-1) + Mk ■ (a;fc - z).M k ■ (-z Thus, □ F Mk • (xk - xk-\\) = Mk ■ (xk - z + z - a;fc_i) = Mk ■ (xk -z) + Mk ■ (z - Kfc-i) > M'k ■ (xk - z) + Mk ■ (z - Xfc_i) = Mk ■ (z - a;*-i) + Mk ■ (xk - z). Mk - M'k~~ are then as an exercise. And hence relining the partition by adding the point z did indeed decrease the upper sum. Since partitions are finite sets, Q has finitely many more points than P. Doing the above |Q\\P| times (or by applying induction to the above) shows that U(f,P)>U(f,Q). The lower sum result is very similar and is left Proof. Consider the upper sum U(J, P) and pick any z € Q \\ P; note that z £ [■£/.■-1, T/J for precisely one k. Observe next that in the summation for the upper sum U(f, P U {z}), the only thing that changes is that the term Mk ■ (xk — aife-i) is replaced by two terms, representing the sum of the areas of the two next rectangles. The function had a supremum of Mk on [•'Cfc-i,ai/J. and so f will now have a supremum of Mk on at least one of the intervals and [z, ,'Cfc], and on the other interval will have a supremum of some M'k. Suppose, without loss of generality, that the first rectangle is the one of height Mk and the second is the one of height M'k (like pictured in the Proof Idea). Observe that since Mk is the supremum of f on [ijt-i,a;*.-], and M'k is the supremum of f on [z,.xj.] C a:fc], by Exercise 8.2 this means that M'k < Mk. The two new terms in the upper sum U(f,PU {z}) From the picture you can see that adding an the area of the rectangle(s). > xk Real A nalysis, A Long-Form T extbook 273 < Upper sums). Let f : [«.!>] -> R. (a) If P is (b) If P] and P2 Hf,Pi)<U(f,P2). U(f.P). Hf,Pi)<L(f,Q) and U(f,Q)<U(f,P2). Moreover, by (a) we have that L(/,Q)<17(/,Q). Combining these, M/.P1) < M/,Q) < U(f,Q) < U(f,P2), giving L(/, Pi) < U(f, P2), as desired. □ Proposition. Next, we have a two-part proposition that ensures that another basic, intuitive result holds: Any upper sum is larger than any lower sum. Proposition 8.7 (Lower sums a partition of [a, b], then L(f,P) < U(f,P). are any partitions of [a, b], then n L(/, P) = 52 m' ■ (x» - a;»- Proof. Part (a) is immediate: Clearly mt < A'4 for each k since the former is the infimum of f over [.?,>_i , .t/.] and the latter is the supremum of J over the exact same interval. And so clearly Now we show (b). The basic idea is this: To show that one thing is less than another, find something that is in-between them. The true integral would be ideal, but we don’t know yet what an integral even is. Instead, let’s use a sufficiently refined partition if it is finer than both Pj and P2, then it should be closer to the value of the “integral” than either one is, which would be good enough. In particular, if we can find a partition Q that refines both P\\ and P2, then Q’s upper and lower sums will be squished between L(f, Pt) and U(f,P2). Let. Q = Pi u P2. Since P| and P2 are partitions, Q is as well. Moreover. Q is a refinement ol both P\\ and of P2! Therefore by Proposition 8.6, Part (a) is of course a special case of part (b), but (a) will be particularly useful so it is helpful to state it explicitly. Also, we will use (a) to prove (b). C hapter. 8: Integration274 8.4 Integrability The lower integral of f is defined to be L(/) = sup{L(/, P) : P e P}. Lemma. Lemma 8.9 (m(b — a) < L(f) < U(f) < M(b bounded function; say, m < f(x) < M for all x m(b -a)< L(f) < U(f) < M(b - a). Definition 8.8. Let J : [a, b] R be a bounded function and let P be the collection of all partitions of [a, &]. The upper integral of f is defined to be — a)). Let f : [a, 6] —> R be a € [a, 6]. Then we have As you probably already anticipated, the idea is to take better and better partitions to get smaller and smaller upper sums, and larger and larger lower sums. If the upper sums and the lower sums are converging to the same thing, then this common value is what the integral is equal to. But which partitions will make things better and better? If we insist on having equally-spaced rectangles, we will see later that issues can arise. Refinements arc good, but if we simply insist on having a sequence of partitions where each is a refinement of the previous, how do you know you’re refining everywhere, rather than refining one region better and better while ignoring another? The solution is simple: Don’t try to be clever; instead, consider all partitions. Indeed, that’s what the following definition does. Proof Sketch. Let’s assume for now that the M and m are optimal, meaning that M is the least upper bound on f over this interval, and m is the greatest lower bound on f over this interval. Remember that U(f) is the infimum of upper sums over all partitions of [a, &]. So, if you pick any particular partition of [a, &], call it Pa, then certainly Z7(/) < U(f, Po)- Likewise, since L(f) is the supremum of lower sums over all partitions of [a, 6], we also have L(/,P0) < L(/). And since £(/) < U(J), you can already start to see a Here’s a quick result: R eal A nalysis, A Long-Form T extbook 275 string of inequalities that looks a little like the one we are trying to prove: L(f,P 0)<L(f)<U (f)<U (f,P 0). turns into / M- Area < L(f) < P(/) < Area m --- \\ (Ia which gives m(6-a)<L(/)<l/(/)< M(d-a), • (6 - a) < M • (t - a). Collectively, □ -> b / 1 L7(/) = inf {[/(/, P):P eP } <[/(/, Po) n = 22 Af, ■ (Xi - Xi-1) m(b - a) < £(/) < U(f) < M (b - a). = > m ■ (b — a). L(f) = SUp{L(j, P):PeP} > Uf, Po) 71 = 5? ' (:r.i - H-i) Proof. The inequality L(f) < U(f) follows immediately from Proposition 8.7 part (b), and Exercise 8.3. Now we show the bounds on £(/) and U(J), which are a sup/inf over all partitions. The simplest partition possible is the 2-point partition Po = {a, b} containing only the endpoints (that is, n = 1, :ro = a, and sq = 6); this in turn gives a single rectangle in the upper or lower Darboux sum. Thus, What’s left? We must find a Po that gives the correct bounds. What is the simplest partition Po of [a, &] that we could apply? Remember that a partition of [a, 6] is a set of the form {xo,®i, • • • ,xn} where xq = a and xn = b. Since a and b are the only numbers that must be in the partition, the simplest partition would be Po = {a, !>}! This is the partition that corresponds to a single rectangle, and since upper and lower sums correspond to area, b / r C hapter 8: Integration276 We are now ready for a biggie: the definition of the (Darboux) integral. Then c(b- a) < L(f) < U(f) < c(b- a). Therefore /(*) = Then f is not integrable. Definition. 1 0 if x G <Q if x Q. stun rectangles will rational) and all lower Proof Idea. Given any partition of P of [0,1], all the upper have height 1 (because every subinterval , rt’j] contains a L(f) = U(f) = c(b-a). By definition, we have shown that f is integrable, and moreover that /„b f(x)dx — c(b — a), as desired. Good, we can integrate a constant function, which is smooth and continuous everywhere. What about a function on the other end of the spectrum? Dirichlet’s function is continuous nowhere, so let’s give that one a go. Example 8.12. Let f : [0,1] -> R be the Dirichlet function Note: Officially this is the definition of Darboux integrable (which, is equivalent to Riemann integrable), but in this text we (The formal distinction is due to the fact that there are . other integral definitions that mathematicians have invented.) once again, will just say “integrable.” approximately a bajillion I* f(x)dx = L(f) = U(f). ./ a Let’s start figuring out which functions are integrable and which ones are not. Let’s start as simple as we can: a constant function. We would sure hope that if our “integrable” definition is worth anything at all that this would be integrable. Example 8.11. Suppose f : [a, 6] —> R is a constant function; say, J(:r) = c. f is integrable and f(x) dx = c(b — a). Proof. To see this, note that if we let m = c and M = c, then we have m < f(x) < M for all x G [a, &]. So by Lemma 8.9, Definition 8.10. A bounded function f : [a, fi] —> R is integrable if L(f) = U(f). When this happens, we denote f and j'^f(x)dx to be this common value. That is, R eal A nalysis, A Long-Form T extbook 277 11 soxq xi L(f,P) 0U(f,P) = l f is not integrable.This will imply U(/) = 1^0 Si-i) = 0 and = (st So) + (s2 - Si) + (s3 - s2) + • • ■ + (xn - Zn-i) which, by canceling, sq + xn 0 and xn 1. the above = -0 + 1 = 1. MAP) = £ Xi n n = 1 • (s» - Si-1) sum rectangles will have height 0 (because every subinterval [sj-i,®,] contains an itrational). Thus P(/, P) is the area of a 1 x 1 square, while £(/, P) is the area of a 1x0 “rectangle.” n ml ■ (xt - Sj-i) = ^0- (sj and since {xq, st ,..., xn} is a partition of [0,1], sq L(/), and so Proof. To see this, let P be an arbitrary partition of [0,1]. By the density of both the rationals <Q and of the irrationals R\\Q, any subinterval [sj-ijS,] contains both a rational and an irrational. Therefore, mi = 0 and Mt = 1 for all i. Thus, s2 s3s 2 s 3 C hapter. 8: Integration278 Since L(f,P) = 0 and U{f,P) = 1 for every partition P, L(f) and □ 0<L(/). haveFinally, note that since f □as desired. Proposition. t/(/) = inf {€/(/, P) : P G P} = inf{l : P G P} = 1. We’ve shown that L(f) V(/), implying that f is not integrable. Proof. By assumption, 0 < f(x) for all x G [a,b]. Therefore by (the lower bound portion of) Proposition 8.9, 0 • (b — a) < L(f). I.e., = sup{L(/, P) : P G P} = sup{0 : P G P} = 0 I f(x) dx > 0. J a Proposition 8.13 (/ > 0 => j ' f > 0). Assume that a bounded function f : [a.b] —> R is integrable. If /(.r) > 0 for all x G [n, b], then So we have on one end of the spectrum the constant function, which is integrable, and on the other end we have Dirichlet’s function, which is not integrable. And there is a lot of ground between these two. One major goal of the next couple sections is to investigate how far from the constant function we can travel and still have an integrable function. Is every polynomial integrable? How about an arbitrary continuous functions? Functions which are discontinuous at one point? At a finite number of points? On a dense set like with Thomae’s function? Venturing much beyond Thomae’s and we will have reached the other end of the spectrum, where we just showed that Dirichlet’s function is not integrable. So where is the tipping point? Our goal is to figure that out. We won’t want to keep using the clunky definition of integrability to prove these things, though, and so we need a tool a theorem which will help us check for integrability. That’s coming up soon, but before we end this section, below is one last quick proposition and a discussion on boundedness. 71 7_; ’ ’ f was assumed to be integrable, by Definition 8.10 we that that L(f) = J* f(x)dx. Plugging this into (>•), 0 < / /(.-r) dx, J a Real A nalysis, A Long-Form T extbook 279 Unbounded Functions 8.5 Integrability Criteria important and highly useful result from Chapter 1. (i) a is an upper bound of A, and (ii) u L 1 J n U(f, P) = Y /Mi-(xi- xi.l) n U(f, = First, wo recall an Theorem 1.24 (Suprema analytically). Let A C R. Then sup(A) only if = a if and Before proving some theorems about integrability I want to quickly address one subtle point in the definition of integrable. In the definition we immediately declared that the function f be bounded. Why is this necessary? If we didn't require boundedness, could an unbounded function be integrable? As you probably remember from calculus, “integrable” essentially means “the integral exists and is finite.” This is the same goal in analysis. So can an unbounded function satisfy this definition? The answer is no. Remember, to be integrable means that L(/) = U(f). Consider for a moment the case where f : [a, 6] —> ]R is not bounded above. Each upper sum U(f, P) is a finite sum of the form an upper bound of A. That is, there is a — e. and each of these Mi is the supremum of f over an interval But there are only finitely many of these intervals and collectively they form all of [a, &], so if f is unbounded on [a, 6], then it is also unbounded on at least one of these intervals. And if it is unbounded on [ojfc—i, a;*], then M/; = oo. This would in turn mean that Given any e > 0, a - e is not some x £ A for which x has at least one oo in this sum (and certainly no -oo’s), so this sum will be oo. Now, given such an f , L(f) may or may not be infinite. But either way, we get a “not integrable” result. If L(J) < oo, then L(f) U(j) and so it's not integrable by our old definition. If L(J) = U(f) = oo, then the only reasonable answer would be to say the integral equals infinity, which again is undesirable. So the standard operating procedure is to avoid it at the offset by demanding in the definition of “integrable” that f be bounded. r Chapter 8: Integration280 sup{L(/, P) : P e p} = inf{[Z(/, P) : P e P}. 17(/,P£)-L(/,P £) |P(/) - L(/)| = t/(/) - L(/) < L/(/, P£) i(/,P e) t/(7,^W(/,P i) We are almost there, but our goal is to find a single partition PE for which the Theorem. But since e was arbitrary, this means that Ulf) — £(/) = 0, and hence L(f) = Ulf) = f a f{x)dx, meaning that f is integrable. Now we prove the forward direction. Assume that f is integrable; that is, assume L(/) = Ulf). Let £ > 0. We wish to find some P£ such that Ulf, Pe) — Llf, Pe) < £■ Since L(f) = fix) dx, and L(f) = sup{L(/, P) : P g P}, by the suprema analytically theorem (Theorem 1.24) there must be some Pi for which L(/, Pi) > f(x)dx — |. Likewise, since U(f) = fix) dx, and Ulf) = inf{t7 (/, P) : P 6 P}, there must be some P2 for which U If, P>) < fix) dx + |. Since each is within e/2 of j\" fix) dx, they must be within e of each other: The above theorem also included a similar statement about infimums, which here we omit. This theorem was quite useful in that it could turn a problem involving an infinite set and infinitely many upper bounds into one in which, for £ > 0, all you have to do is find a single element of A that is within £ of a. We would like to find a similar property about integrability. By definition, f is integrable when Iff) = Ulf). I.e., Theorem 8.14 Integrals analytically). Let f : [a, 6] -> R be bounded. Then f is integrable if and only if, for all £ > 0 there exists a partition P£ of [a, 6] where Proof. First we prove the backwards direction. Let e > 0 and choose P£ so that Ulf. Pc) - Llf, Pc) < e. Recall that L(/, P£) < L(/), since L(/) is a supremum of a set containing £(/, Pf); and likewise that Ulf) < Ulf,Pf). Therefore, And for a supremum of one set to equal an infimum of another set, elements from the first set must be arbitrarily close to elements of the second set. Thus, it makes sense that an analytic condition for this is that f is integrable if and only if for every e > 0, there exists some partition P such that Ulf, P) — Llf, P) < £. Indeed, this is the content of the following theorem. R eal A nalysis, A Long-Form T extbook 281 P] U P2. Then.difference is less than e L(f,P e)>L(f,Pi) and U(f,Pe)<U (f,P 2) U(f,Pc)-L(f,PJ<e. J? Integrability of Continuous Functions8.6 U(f,Pe)-L (f,P e) n 22(Mi -m,) • (x, -Xj-i) < n 1) - < £ Substituting the definitions of P(f,P £) and L(f,Pe) into the above gives n ■ (xj - Xi_ Corollary 8.15 (/ integrable => lim[P(/, P„) — L(f.P,,)] = 0). If J : [a, 6] —> R is integrable, then there exists a sequence Pn of partitions of [a, b\\ for which rb £ I f(x)dx+-, Thus the upper and lower sums with this new partition are still both within e/2 of the integral, and hence are within s of each other: a refinement should do the trick! Let P, Proof. This is Exercise 8.8. Hint: Remember that corollaries follow quickly from theorems, so you should probably try to use the. previous theorem to prove this... lim [U(f, Pn)-L(/,P n)] = 0. n —>oo Is every continuous function integrable? As we have seen, being continuous at a point, or even on a dense collection of points, can still give counterintuitive results. If yon know a function is continuous everywhere, though, then the function is much more tame. By the integrals analytically theorem (Theorem 8.14), a function f being integrable on [a, 6] means that for each e > 0 there exists a partition PE = {.co, X],..., xn} of [a,6] for which [h ef f(x)dx-~, Chapter 8: Integration282 for all i, then and xn = b. So the above This is the proof idea behind the following theorem. So if we can find a partition for which we can guarantee AT, — m; is small, we can deduce integrability. As it turns out, continuity is a near-perfect condition to guarantee this. And by definition of a partition, ;cq = a Why? Consider the partition Pn where each rectangle has width (6 — a)/n. If n is large, each x, —Xi-\\ is small. So what we want to say is that whenever x and y arc close, that f (x) and f(y) arc also close — this is precisely the definition of uniform continuity! And remember that if / : [a, &] -> R is continuous, then in particular it is a continuous function on a compact set and hence (by Proposition 6.40) is also uniformly continuous. £ ~j ’ ( *T0 4\" *Tn) o — a = ■ (-a + b) b — a = 7— -(b-a) b — a n n ~ ^-0 < E - ^-0 n = • & b — a \\ We want this to hold so what sorts of functions give this conclusion? Note that all that matters is controlling Mi — mi, since if we can, say, somehow force Mi - m, < —— b — a Note that this sum contains an :z; i and a —X], so these cancel. It also contains an x2 and a -x 2, and so on, up to the a:n_i’s. All that’s left is a -:r0 and an ;rn: ;;;o) + (x2 - ,-ei) + (.i-3 - x2) + • • • + (xn — -I’n-l R eal A nalysis, A Long-Form T extbook 283 0, for this “e” there exists l/W - f(y)\\ a + i-^2. 1/ (•£»lax ) - /(a-inin)| U(f, PJ Theorem. € b - a e b- a' completing the claim. Now, with this partition we have that Theorem 8.16 {Continuous => integrable). If f : [a, 6] -> R is continuous, then f is integrable. e b — a £ b — a n L{f,Pe} = '^M i -{xi n n • - Zj-i) - mi) ■ {xt - x^t) n e b — a some 5 > 0 for which |x - y\\ < <5 implies that Proof. Let e ((^1 ~ 2.'o) + (®2 - ®i) + (a’3 - Xj) + • • • + (x„ - n - 2-3-1) - (Xi -X f-1) 0 and note that, by the extreme value theorem (Theorem 6.32). f is bounded. Thus by the integrals analytically theorem (Theorem 8.1-1) it suffices to find a partition PE where U(f, PE) — L(f, PE) < e. This is our goal. Since f is continuous on a compact set, f is uniformly continuous (by Proposition 6.40). By this and the fact that Choose n G N so that < 6, and let PE = {arg, xi,..., x„} where x. Note that Pe is a partition of [a, 6], We now claim, for each i, that Mj — m, < To see this, recall that since f is continuous on [xj-i, Xj], by the extreme value theorem we know that f attains its supremum Mi and its infimum m, in this interval. Say, f(xm-,„) = m, and /(•Tnuix) = Mi. Since xmin,x max £ [24-1, x;], we know that |xmin - xmax| < 4. and hence by the uniform continuity of f we deduce that 1 Chapter 8: Integration284 □ 8.7 Integrability of Discontinuous Functions Example 8.17. Let /] : [0,2] —> R be defined by AC's) = Then fj is integrable. Proof. First, here is f\\ ’s graph: 1 if x f 1 if a; = 1. 1 0 1 2 I r £ . = -j---------- (-XQ + Xn) b - a = ■ (-a + &) b — a - T~— ■ (b-a) b — a So continuous functions are integrable. Are any discontinuous functions integrable? We have so far only tested one discontinuous function: In Example 8.12 we showed that the highly discontinuous Dirichlet function was not integrable. Let’s go to the other extreme — let’s take an extremely simple continuous function and make it discontinuous at just a single point and see if the result is integrable. We will not only prove that fi is integrable, but also find what its integral equals. If it weren’t for that one point, it would be clear that the “area under the curve should equal 2. As it turns out, changing one point doesn’t change this answer. Indeed, we will show that /Q2 fi(ir) dx = 2, and will do so by using the integrals analytically theorem (Theorem 8.14); to this end, note first that f\\ is clearly bounded. Now let £ > 0. We will find a particular partition PE for which U{f\\, P£) — L(fi, P£) < e. Here’s the idea: The upper sums will always equal 2, and to get the lower sums within 2 — e we will use 3 rectangles: Two big rectangles will get close to x = 1 on each side and will combine to have area 2 — e. Then one really skinny “rectangle Note that this sum contains an aq and a —aq, so these cancel. It also contains an x^ and a -.t2, and so on, up to the a:n-i ’s. All that’s left is a —x'o and an xn . And by definition of a partition, :ro = a and xn = b: R eal A nalysis, A Long-Form T extbook 285 1 --1 -o 2 21 {0,1 -c/4,1 + e/4,2}. Then the i So, = 2. And, £i-l) 11 U(Jl,P E) = ^2 Mi - (Xi - Xi-i) n L{f\\, P£) = 5Z mi ’ (-7:i = m.\\ • (.XT = 1 - [(1 - e \" 4 ' = 2 - 2 1 - .-Eq) + M 2 • (.T2 - ail) + A'/3 • (x3 - X2) - e/4)] + 1 - [2 - (1 + e/4)] Mj m t — .To) + m2 • (:z:2 - xj) + m3 ■ (x3 - r 2) e/4) - 0] + 0 • [(1 + e/4) - (1 - e/4)] + 1 • [2 - (1 + e/4)] = 1 - {- + 2-1 - | 4 4 „ e More precisely, consider the partition Pe sups/infs for our sums are: = 3 1 1 = Ml • (Z1 = l-[(l-e /4)-0] + l.[(l+e/4)-(l =1-f+ 1+f-1+^+2-!-^ 4 4 4 4 A corollary is the direct result of a proposition or a theorem. A porism is the direct result of a proof.0 For instance, since the above proof could be done almost 9Fun fact: Euclid used porisms in Elements. (whose height will be 0), will be around x = 1; its height is 0 because for the lower sum the height mi is the infimum of the function values, and since /, (1) =0, that infimum will be 0. i = 2 1 0 Therefore U(J\\, Fe) - L(J\\, P£) = 2 - (2 - e/2) = f < e. And so by the integrals analytically theorem (Theorem 8.14), fa is indeed integrable. And moreover, since ■ is arbitrary, we can also see that ,fi(x) dx = 2. i = 1 1 r~ C hapter 8: Integration286 fi(x) = Then fi(x) is integrable. Two Discontinuities What if this function had two points of discontinuity? For example, what about fa(x) = whose graph looks like 1 ■o -o- Porism. exactly the same regardless of where the point of discontinuity is and regardless of the length of the interval, we have the following porism. So the upper and lower sums are within e of each other, showing that this very similar approach does indeed work. 4 1 + 2 k F L(/2,P) = l-( —I > 2 — e. H) + 0 + 1 ■ (d.5 — 2 • — ) + 0+1.(0.5-|) You can probably already imagine that a proof very similar to Ji’s would work here. If you used the partition P = {0, 1 — e/8,1 + e/8,1.5 — e/8,1.5 + e/8, 2}, then the upper sum would again equal 2 and the lower sum would equal 1 if x y- c 0 if x = c 1 if x 7^ 1 or 1.5 0 if 2; = lor 1.5 ’ Porism 8.18 (/] integrable for any discontinuity c). Let c £ [a, 6] and suppose fl : [a, 6] —> R is given by R eal A nalysis, A Long-Form T extbook 287 iOr]O 2 l/(/,pP)-L(/.Pe(,)) t/(/,pp))-L(/,pj2)) 6 2 1 Note: A good way to think about these lower sums is to think about the missing area. The area of the entire rectangle would be 2 x 1 = 2. So how much of that is missing? It’s the shaded area: And the rectangle around x = 1 has width e/4 and height 1, and the rectangle around x = 1.5 has width e/4 and height 1. Each has area e/4, so combined they have area e/2. Since this is the missing area, the lower sum in total has area 2 - e/2. But still there is an even better way to handle this, by using the following lemma. e 2 Since f is integrable on [c,b], by the integrals analytically theorem (Theorem 8.14) there is a partition Pp ’ of [c, b] such that Lemma 8.19 (/ integrable on [a,c] and [c,b] <=> on (a, 6]). Assume f : [a, b] —> R and a < c < b. Then /' is integrable on [a, b] if and only if f is integrable on both [a, c] and on [c, b] Proof. We will use the integrals analytically theorem (Theorem 8.14), so note that f is bounded on both of [a, c] and [c, b] if and only if f is bounded on [a,b]. So the boundedness condition is satisfied. We now prove the rest. First assume that, f is integrable on [a,c] and on [c, b]. Since f is integrable on [a, c], by the integrals analytically theorem (Theorem 8.14) there is a partition pj1’ of [a, c] such that 1 Chapter 8: Integration288 is a partition of [a, b] and + And since each (Af, — m-i) > 0 and each (aij — rci_|) > 0, and T < N, •Ti-l) aij-i) □ i N < E(^ L(f,pW) + L(f,P™) U(f,P^-L(f,P^) T = E(- ^ “ m i)(.xi ~ ^i-l) on [c, b]. T T U(f’P\\[a,c]) ~ L(/>Pl[a,C]) = E M^ ‘ - \"E\" 1^ - So f is integrable on [a, b]. Now, conversely, assume that f is integrable P of [a, b] such that N N = E Mi (Xi ~ Xi- 1) “ E mi ^Xi = U(f,P)-Ltf,P) Then Qe := P£(1) U P£(2) U(f, P)-L (f,P)< e. We may assume that c G P, since if not we can add it to P and by Proposition 8.6 the resulting refinement would, if anything, only bring the upper and lower sums closer together. Let P | ja,c] = P IT [a, c]; that is, P | [(j is the partition of [a, c] that is the restriction of P to the first interval [a, c]. Then we can write P = {.i-0, xj,..., x-p, xT+\\ xn }, where P|jo j = {to>2T, • • • >xp}. Intuitively, it’s probably clear that the difference in the areas of the upper and lower rectangles from a to c is smaller than that of a to b, and since the latter difference is less than e, so is the former. Writing this out formally: Thus, we have found a partition of [a, c] for which U(f, J’|[o c]) — -L(/, ■^>|[a,c]) < e’ which by the integrals analytically theorem (Theorem 8.14) implies that f is integrable on [a, c]. An identical argument shows that f is also integrable W, Qe) - L(/, Qe) = [U(f, P^) + U(f, PW) = U(f,P^)-L(f,P^) e e <2 + 2 on [a, b]. Then there is a partition 289Real A nalysis, A Long-Form T extbook A Finite Number of Discontinuities 1 A Countable Number of Discontinuities 10lf e 2 21 as desired. one of these is outside [0,2], then you don’t include it. As we’ve seen, the goal is to have the “missing area” add up to less than e; in the above we always made it add up to e/2. (The rest of this paragraph is almost correct... but does have one error.) If you have countably many discontinuities you can still make it add up to e/2, and therefore such a function is still integrable! In particular, if your discontinuities are sq, x2, :/;3, ■ ■ ■, then just include in your partition the points xi ~ 2At aI1d Xi + Jj-y for each i. Then the rectangle around the first point will have width around the second will have width around the third will have width A, and so on. Adding these up, the total amount of “missing” area is CO Or, you could apply Lemma 8.19: Break up the domain into A + l closed intervals so that there is just one discontinuity in each interval. Then f will be integrable in each of these intervals by Porism 8.18, and hence by applying Lemma 8.19 f is integrable on all of [0,2]. You can now imagine that there is nothing special about 1 or 2 discontinuities. Suppose a function has N points of discontinuity, say, xi, x%,... ,x\\. If fx is equal to 1 everywhere except at these N points of discontinuity, where /y equals 0. then just create a partition where you include the points x, - and x, + in your partition.10 Indeed, by doing this each of the N missing rectangles has width 2^/ and height 1; hence each of the N rectangles has area and so collectively the missing area has a total area of e/2, giving a lower sum of 2 - e/2. Using this theorem, you can see another reason why having two discontinuities like with / 2 does not prevent integrability. By Porism 8.18, }•> is integrable on [0,1.25] and on [0,1.25], and so by the lemma / 2 >s integrable on [0,2] as well. Chapter 8: Integration290 foo(x) = is integrable. 1 - nmEBDo-o- -> £/4 1 ■TiTTTip -> 2e/4 if :c ~ for any n e N if x = 1 for some n € N 1 0 T 1 1 2 will capture all but finitely many of the points, and do so in a rectangle of area (c/4)-l = c/4. Then we just add skinny rectangles around the finitely many remaining points, and make sure they are skinny enough that the sum of their areas equals e/4. What was the one error in the last paragraph? By Definition 8.2, a partition can not have infinitely many points in it; it must be a finite set, and so we can’t put each point in its own rectangle. Indeed, some rectangle will include infinitely many points! So we must be more careful. Consider, for instance, the following example. Example 8.20. The function foo : [0, 2] -> R where Proof Idea. Here is the idea behind the following proof. First, as we just mentioned, a partition must be a finite set. So we have to find a way to have a finite number of skinny rectangles which contain all the points of discontinuity and their areas collectively add up to less than e (once again, they will add up to e/2). And then we will use the integrals analytically theorem (Theorem 8.14). So how do we get the “missing” areas to add up to e/2? To do this, we will utilize the fact that the points of discontinuity are converging to 0. So for any e > 0, only finitely many of them are outside of [0, e/4]. So if we pick a partition that includes c/4 (and, as is required, includes 0), then the rectangle 291R eal A nalysis, A Long-F orm T extbook P Xi-1) outside of [0, e/4], while the rest, Note: I he reason why we included a “+1” is so there are N points of discontinuity. Ill 1 1’2’ 3.......N' N+\\ 1) ~ 52 m^Xi 1 8A’\"'’T N+l = 52 - -R-i) e 1 87V’ N - 1 N+l P) - Ufoo, P) = 52 - x>-Uifoo, 1 1_____ 1_ N + 1’ N + 2’ N + 3 are inside of [0,e/4]. This makes the notation easier. ^Technically we should assume that e < 8 to ensure that all of these points are in [0,2), but this is unimportant. There are many easy fixes, such as just removing any points from P that fall outside of [0, 2). OA’ l 8N / Then collectively the sum of this “missing” area will be e/4 + e/4 = e/2, which is less than e, as required by the integrals analytically theorem (Theorem 8.14). Ok. now here’s the proof. e 1 e 8/VW -l + SA £ 1 8/V ’ N + A ’ ,x + gjy] each have length so Lastly, on each of these intervals = 0 while Mj = 1. Putting this all Proof. Let e > 0. By the Archimedean principle (Lemma 1.26) there exists some (smallest) N G N such11 that < e/4. Now consider the partition containing 0, e/4, 2 and, for each point of discontinuity x outside of [0,e/4], also including the points x ± gjy. That is,12 This is clearly a partition of [0, 2]. Moreover, clearly all of the points of discon­ tinuity are contained inside the interval [0,e/4] or inside one of the N intervals [x — §7v, a-' + ^77], where x is one of the N points of discontinuity outside of [0,e/4]. We are getting ready to compute (/(foo. P) — L^f^.P). Note that when we do. the intervals that do not contain a point of discontinuity can be ignored since the upper and lower sums are equal in those intervals, as M; = m, there. Thus, we will focus only on these N + 1 intervals containing points of discontinuity; this is the “missing” area. Furthermore, note that the intervals [x — if these equal Xj-j and xq then x, — Xj_] = containing points of discontinuity, note that m, - together, e 1 81V’ 1 Chapter. 8: Integration292 The first term of this sum corresponds to the rectangle of width e/4. So the above [0, 2] is integrable. Proof. This is Exercise 8.17 and Exercise 8.23. An Uncountable Number of Discontinuities ,9(a--) = Other Continuous Functions r Example 8.21. Thomae’s function on 7V + 1 = (1 — 0)(e/4 — 0) + £(1 i=2 And since foo is clearly bounded, the integrals analytically theorem (Theorem 8.14) now says that is integrable. You can imagine that if you take any function f on an interval [a, b] that is dis­ continuous at just 1 point, a similar argument would show that that function is also integrable; like above, you would hollow out a tiny region around the point of discontinuity, then the rest of the function’s upper and lower bounds get as close as you wish, and the error caused by the point of discontinuity you can make as small as you want by making the tiny region around it as tiny as you need. There’s no concern about the function getting too big or small on the subinterval because f being continuous implies that J is bounded. Then, by Lemma 8.19, we can handle any finite number of discontinuities. And, like above, in certain situations we can even handle an infinite number of discontinu­ ities. But how can we tell in general that we have an integrable function? The answer takes a little care to write down, but it’s awesome. It’s called the measure zero criterion. Amazingly, an integrable function can even have an uncountable number of discon­ tinuities. It requires a weird uncountable set. It requires an uncountable set that is “small” in the visual sense. It requires... The Cantor Set! We won’t go into the details, but here is such an example: = 1 + I e ~ 2 i if x e c 0 if x C, where C is the Cantor set. (See Example B.l in Appendix B.) e 4 Real A nalysis, A Long-Form T extbook 293 The Measure Zero Integrability Criterion8.8 <.W»6>A I and Here, by “length” we mean the following (for more on this, see the Example B.l in Appendix B). oo Ac J 4 k=\\ oo k=l Definition 8.22. The length of the interval [a, h] is equal to b—a, and is denoted 6]). This is also the length of (a, b),(a, b] and [«, b). Intervals that involve ±oo are said to have length oo. So above we argued informally that if, for every e > 0, the points of discontinuity can be covered by a finite set of intervals whose lengths add up to less than e, then / is integrable. In fact, even more is true — a countable collection of sets works too! This is the idea of a set having “measure zero.” Definition 8.23. A set A has measure zero if for all e > 0 there exists a countable collection I\\ , I2,13,... of intervals such that “/ is integrable if for all e > 0 the points of discontinuity can be covered by a finite number of intervals, I\\, 1%, I3,..., In , such that sum of the lengths of these intervals is less than e.” This leads to a famous theorem sometimes called Lebesgue’s integrability condi­ tion an insightful and delightful criterion for integrability. In Example 8.20 we showed in detail that was integrable. Why did it work out.' Well, it was highly convenient that the infinitely many points were all bunching up together around 0. This allowed all but a finite number of the points to be contained inside in a tiny interval. And the remaining finite number of points could be handled easily. This suggests one condition that guarantees integrability: — 'i ~ ' ']• f C hapter 8: Integration294 The proof of this theorem is long, technical, and boring; 8.9 Linearity Properties of the Integral 0 we can find t7(/,F2)-L(/,P 2)t/(f, Pi) — l(/, pj and Letting P = P\\ U P2 produces a partition of [a, &] where I Theorem. Proposition. In this section result. e 2 £ 2 Proposition 8.25 f + f). Assume that f : [a, &] -> R is integrable. If a < c < b, then •6 /(.r) dx. Theorem 8.24 (/ integrable O discontinuities have measure zero). Assume f : [a, 6] —> R is a bounded function and let T> be the set of points at which f is discontinuous. Then f is integrable if and only if T> has measure zero. we will prove many familiar properties from calculus. Here’s the first 13You’re welcome. rb rC rl / /(.t) dx = / f(x) dx + / •/a J a J c we will skip it.13 One can use this theorem to prove that if f : [a, b] -> R and g : [a, b] —> R are integrable and k 6 R, then kf, f + g and fg are also integrable. You will be asked to work out the details of this in Exercise 8.24. [/(/, P) - L(f, F) = [U(f, Pi) + P(/, P2)J - [L(f, A ) + L(/, P2)] = [U(f, Pt) - L(f, Pi)] + P2) - P2)] e e 2 + 2 Proof. Recall from Lemma 8.19 that f is integrable on [a, b] if and only if f is integrable on both [a, c] and on [c, b], Thus we only have to show that the asserted sum holds. By the integrals analytically theorem (Theorem 8.14), for every e a partition Pi of [a, c] and a partition P2 of [c, b] for which R eal A nalysis, A Long-F orm T extbook 295 e, which is equivalent to U(f. P) < L(f. P)+e U(f, P) -e Simplifying by removing the extra upper and lower sums, U(f, P) - e And since L(/, F) = L(f, Py) + L(/, P2) and [/(/, P) = P(/, Pi) + U(f, P2), rb □ I Lower sums are always less than the integral, and upper sums arc always greater than the integral: [U(f, P\\) + U(f, P2)] - e as desired. /(a:) - e Yes, I agree, that proof was fairly boring. And the bad news is that this mostly continues. The theorems about integrals are quite beautiful, but since they are defined in terms of infima and suprema of sums of other infima and suprema over arbitrary partitions... the elegance is often lost in the weeds. Nevertheless, we persevere. Here’s a cute PuPP.y f°r motivation. Next up is a proposition on linearity properties of integrals. f(x)dx + f(x)d;rj +?. I f(x)dx, J a re rb / /(.?;) dx + / /(a:) dx ./a J c I /(z) dx J a I /(x) dx < £(/, P) + e. J a [ b f(x)dx<[L(f,Py) + L(f,P2)] + E. J a We saw above that U(f,P)—L(f, P) < and to t/(/, F) - e < L(/, P). Thus, L(f,P )<f f(x)dx<U(f,P). •/a L(f, P) < [\" f(x) dx < U(f, P) < L(f, P) + •/ a f(x)dx + Once again, upper sums are bigger than their integrals, and lower sums are smaller than their integrals. Thus, So we know that /(' f (z) dx + j'‘ f(x) dx and f (:c) dx are within e of each other. And since e was arbitrary, this implies that they are in fact equal: Chapter 8: Integration296 [a, b], and [a, b], and But using what J a and So we have shown that Proposition. Proposition 8.26 (Linearity of the integral). Assume that f : [a, b] —> K and g : [a, b] —> R are integrable. Then, n n U(k -f,P ) = ^k- Mi(Xi - x^) = k ■ 1) = • U(f, P). i=l i=l g(x) dx. (i) For any k G R, kf is also integrable on we argued above and properties of limits, (ii) The function f + g is also integrable on / (/(®) + 9(x )) dx = I f(x) dx + •'« Ja Ju lim U(kf,Pn)= lim k ■ U(f, Pn) = k • lim U(f,Pn) = k- I f(x)dx ti—foc n—>oo n—>oo J (l lim L(kf, Pn) = lim k ■ L(f, Pn) = k ■ lim L(f, Pn) = k ■ / f(x) dx. n—>oo n—>oo 71 >o° J a = k ■ [ f(x) dx, ■/a / k ■ f(x) dx •/ a = k ■ f f(x) dx. J a lim U(kf, Pn) = lim L(kf, Pn) n —>oo n —>oo [ bf(x)dx= lim U(f,Pn)= lim L(f,Pn). I n —>oo n —>ooJ a which by Corollary 8.15 concludes (i) in this case where k > 0. The case where k < 0 is very similar, the only difference is that the upper sums for- f become lower sums for kf, and vice versa. In particular, U(kf, P) = k ■ L(f, P) and L(kf, P) = k ■ U(f, P). And likewise for the lower sums we have L(k ■ f, P) = k ■ L(f, P). Since f is integrable on [a, b], by Corollary 8.15 there exists a sequence (Prl) partitions of [a, b] for which Proof. First we prove (i). If k > 0, then intuitively all we are doing is making each rectangle in our upper/lower sums k times bigger. Indeed, each NL in U(f, P) will turn into k ■ Mi in U(kf, P). And so, 297R eal A nalysis, A Long-Form T extbook The rest is almost identical.14 Finally, the case where k 0 is immediate. More Properties of the Integral8.10 The next result is a corollary of an earlier result. proved the following: Assume that f : [a, b] —> R is integrable. If J(x) > 0 for all x £ [a,b], then Corollary 8.28 (/<<;=> / f < f g). Let f : [a, b] -> R and g : [a, b] -> R be integrable functions. If /(x) < g(x) for all x € [a,b], then The proof of (ii) can use the same general approach, but is just messier. It s left as an exercise.15 ■b g(x) dx. Proof. Since /(.x) < </(x) we since f is integrable, ( — 1) • f = be integrable, by Proposition 8.26 part (ii) We have shown that g — f is Proposition 8.13 we have that Recall 8.27. In Proposition 8.13 wc have 0 < g(x) - f(x). By Proposition 8.26 part (i), —f is also integrable. And since g is also assumed to we have </ + (-/)= g — J is integrable. a non-negative, integrable function and thus by [ (g- f)(x)dx>0. J a 14Interviewer: “So why did you become a mathematician?” Mathematician: “Because I never liked working with numbers.” 1 \"Note: In Exercise 8.24 you will be asked to prove that kf and / P g (and fg) are integrable using the measure zero criterion. [ f(x) dx > 0. J a fb fl / f(x)dx< / ./ a J a 298 Chapter 8: Integration Applying Proposition 8.26 one more time, □ t7(/,Fe)-L(/,P £) Corollary. Since |/(a-)| > /(a) for all x, clearly nir > Mi - mt> Mi — nti Corollary 8.29 (|J /| < / |/|). If f : [«, 6] —> R is integrable, then |/| is also integrable, and m t and Mi > Mi for all i. Moreover, •6 dx. I g(x)dx- I •/ a ./ a I g(x) dx > f fix') dx. •/ a J a The next result can be thought of as an “integral triangle inequality.” When adding up discrete numbers you can use the triangle inequality: |a- + y| < |x| + |y|. More generally, |£2 aq| < 12 l®i|- And in some sense, the way we “add up” a continuous range of numbers is using the integral. So this is the continuous version of the triangle inequality. ! I L?^’) - /(a-)] dx > 0 J a •b f(x) dx > 0 I -b Over each interval [:C{_ i, aq] we have notation mi and Mi to represent, the infimum and supremum of f over the interval, respectively. Likewise, define mi = inf{|/(a;)| : x G [s.-i, £;]} Mi = sup{|/(a-)| : x G [a-i-i,sq]}. since if Mr and m, are the same sign (both positive or both negative), then these two are equal, while if they are opposite signs, then taking the absolute value only makes them closer to each other. Proof. Let e > 0. Note that since f is integrable, f is bounded and hence |/| is also bounded. Furthermore, since f is integrable there exists a partition P£ = {ao, aq,..., x n } such that 299R eal A nalysis, A Long-F orm T extbook Then, £i-i) U(f,PJ-L(f,PJ By the integrals analytically theorem (Theorem 8.14), |/| is then integrable. (*) ■b □ Definition 8.30. • For any function f, define • For any integrable f : [a, b] -> R, define To show that, the integral inequality holds, first note that using the fact that — |I < f(.x ) < l/(a;)l and applying Corollary 8.28 (twice) we have that n U(\\f\\, n) - L(|/|, P£) = £ (Mi - m.)(x, - x^) n <E(^ - mi)(xi I\" f(x)dx. Jb Finally, simply recall that — t < s < t if and only if |s| < t for any real numbers s and t. Using this, (it) is equivalent to I f(x)dx ./ a \\f(x)\\dx. j /(T)d:r| < \\f(x)\\dx. [ f(x) dx = 0. [ \\f{x)\\dx< [ f{x)dx< [ J a J a J a We only defined the integral on intervals [a, b] where a < b. Therefore the below have to be stated as definitions, rather than deduced as properties. Note, though, that they arc consistent with a natural generalization of our definitions. Chapter 8: Integration300 The Mean Value Theorems Recall the (derivative) mean value theorem. /'(c) F'(c) = continuous i Recall. Proposition. Theorem 7.22 {The (derivative) continuous on [a, b] and differentiable where /(&) ~ /(«) b — a Proposition 8.31 (The integral function on [a, b], then there is some c •6 /(a;) dx < M{b — a). F{b) - F{a) b — a ■b f(x) dx. mean value theorem). If f is a G [a, b] such that This theorem will have practical value very soon, but first it motivates the next result, known as the integral mean value theorem. When looked at just right, this new mean value theorem looks a lot like the derivative mean value theorem, provided you recall the fundamental theorem of calculus from when you took calculus. Instead of viewing f as being the derivative /, you could instead think about f as being an antiderivative of f. We haven’t yet formally defined an antiderivative, but using your intuition let’s let F be an antiderivative of f. Applying the (derivative) MVT to F, I'1 m{b — a) < / ./ a i r mean value theorem). Let f : [a, 6] —> IR be I on (a, b). Then there exists some c G {a, b) As an antiderivative, F'(c) = f{c), and by what will soon be the fundamental theorem of calculus, F(b) — F{a) = f(x) dx. With this intuition, we reach the integral mean value theorem, which we state now. Proof. Since f is continuous on a closed interval, f is bounded (by the extreme value theorem) and integrable (by Theorem 8.16). The extreme value theorem furthermore implies that f attains a minimum /(a;min) = m and a maximum f(x max) = M at some points x1Ilin,a;nlax G [a, b], Therefore by Lemma 8.9, since m < f{x) < M for all x G [a, b], we have 301Real A nalysis, A Long-Form T extbook I.e., /(c) □ The Fundamental Theorem of Calculus8.11 1 b — a l6Millennials version: How shocked would you have been if Voldeniort was Harry Potter's father? And what if there was an amazing backstory why, and breadcrumb clues had been subtly dropped along the way? What a twist! 1 m < ------ “ b-a jI /(x) dx < M. J a In summary, f is a continuous function and f(x)dx is some number between /(■Emin) and /(x lnax). Therefore, by the intermediate value theorem, there is some <■ between xmin and x max for which [ f(x) dx. J a The fundamental theorem of calculus (FTC) is remarkable. And it’s a tragedy that you all already know the grand reveal. If tonight you watch Star Wars for the first time, you probably won’t be surprised to learn that Darth Vader is Luke Skywalker’s father; that has been common knowledge for over 40 years now, even among those who haven’t seen the movies. But for those who learned it in the theaters for the first time on May 21, 1980, this was an astounding development. How can two disparate forces in t his grand story be linked in such an intimate way??16 Likewise, due to the evils of calculus classes, you already know what FTC says. But for a moment, pretend you don’t. Under this veil of ignorance, we have an amazing plot twist to our story. In Chapter 7 we developed the theory of derivatives as a limit, motivated by finding slopes of tangent lines, in order to solve physics problems. And we then pushed t he theory further and proved lots of nice theorems. During this chapter we did something completely different. Wc developed integrals as a way to approximate areas under curves, by using infiina and suprema of upper and lower sums. This purely-geometric endeavor also produced some nice results with some fairly intuitive properties. There is absolutely no reason at all to think these two have anything to do with each other. With the veil over our eyes, we should even be confused why these two topics are contained in the same class. They are not even remotely related, right? Right?? Well with four words with implications as startling as “1 am your father,\" we should be amazed at how the “fundamental theorem of calculus” intimately ties together these seemingly-disparate ideas in the most incredible way imaginable. So either take off that veil or hold onto your hats, because we are about to state the fundamental theorem of calculus. That proof was quite a tour of our major theorems on functions! Chapter 8: Integration302 (ii) Let g : [a, 6] R be integrable and define G : [a, 6] -> R by = That is, F(xf) - F(xi_i') = F\\a) ■ (xi - .Ti-i) Using now the assumption that F'(x) — f(x), Super Cool Theorem. Theorem 8.32 (The fundamental theorem of calculus'). (i) If f : [a, b] -> R is integrable, and F : [a, b] -> R satisfies F'(x) = f(x) for all x £ [a, b], then The fundamental theorem of calculus was found by two people, one of which was Issac Newton’s PhD advisor. Surprisingly, the proof of part (i) just conies down to an application of the derivative mean value theorem 17 and a cute use of telescoping. / f(x)dx = F(b) - F(a). J a F(xj) - F(xj-i) Xi - a-'j-i G(:c) = I g(t) dt. J a Then G is continuous. Moreover, if q is continuous, then G is differentiable ([ rx ' and G'(x) = g(x). That is, — / g(t)dt = g(x). (*'1' J a F(xi) - Ffxi-i) = f(cf) ■ (xi - Xi-f). Consider now the upper sum U(f, P) and the lower sum L(f. P). These sums contain the sups/infs Mi and m, which satisfy nit < f(ci) < Mt, implying that n n n m, (x, -Xi-i) < f(ci)(x, — xt-i) < ^^Mi(xi — x'j-i). 17The mean value theorem’s fingerprints are all over real analysis. If it didn t already have an important name I definitely would have called it “the fundamental lemma of calculus. Proof of (i). Let P = {a,-o,... , a;n} be an arbitrary partition of [a, b]. Consider the behavior of F on some subinterval [x,-1, a:;]. Since F is differentiable, by the derivative mean value theorem (stated above) there must exist some cq 6 where 303R eal A nalysis, A Long-F orm T extbook telescopes! Indeed, Using this to simplify the middle term of the previous inequality, L(f, P) < F(b) — F(a) <U(f,P)- But notice that this holds no matter which partition we choose! So we also have that where P is the collection of all partitions of [a, 6]. That is, (ft)L(.n < F(b) - F(a) < U(/). F(b)-F(a), □(i) M Proof of (ii). First, assume that </is integrable; we will prove that G(x) = J^g(t)dt is continuous, by using the definition of continuity. First, note that if g(a?) = 0 for all x, then also G(.t) = 0 on all x, and we are done. Therefore, we may assume that sup{L(/, P) P e p} < F(b) - F(a) < inf{l/(/,P) : P 6 P}, = sup{|g(x)| : x e [a, b]} And this is perfect, since f being integrable means that L(/) = U(f) = J^f(x)dx. This and (6=b) imply that But notice that the middle sum n - F(x0)j + ~ E&fi) + [f (xs) - .E(aT)') = -F( to) + F(t„) = F(xn) - F(.t0) = F(b) - F(a). I f(x)dx J a completing the proof of part (i). The left, and the right sums are just the lower and upper sums, and the terms of the middle sum we already noted are just F^xf) — F(xI-i): L(f,P) < 52 (F(.Ti) - F^.-O) <U(f.P) is greater than zero. Pick any xq € [a, b], To prove that G is continuous at Zy, let e > 0, and then let 6 = Assume now that |t — a,’o| < 5; we will prove that |G(z) - G(zq)| < e. Note Chapter. 8: Integration304 that |G(z) - G(x-0)| < (Corollary 8.29) = 3(c)- = ff(c)- G(xn) - G(c) get G(x„) - G(c) = p(cn) • (xn - c). I.e., (Lemma 8.9) (Choice of x) (Choice of h) By the sequential definition of limits (Theorem 6.17 (iv)), this is equivalent to proving that every sequence (xn) from [a, b] \\ {c} such that xn —> c has the property that lim n ->oo I r Applying this to (£>), we G(xn) - G(c) Xn - C •®n fl(t) dt = g(cn) ■ (xn - c). •Xn g(t) dt. we also know that This proves G is continuous at xq, and since xq was arbitrary, it proves that G is continuous on all of [a, b], concluding the first half of (ii). Next assume that g is also continuous; we will now prove that G is differentiable and that G'(x.) = g(x). To prove this, pick an arbitrary c £ [a, b]; by the definition of the derivative we must prove G(xJ—GM = Xn - C Moreover, since c1l was between xn and c for each n. and xn —> c, fX rxo = / / g(t)dt Ja J a rx I = / g(t) dt\\ Jxo I I \\9(t)\\dt Jxo < M ■ |x - x0| <M -5 = M ■ — M = / g(t) dt- f g(t) dt= i J a J a J c By the integral mean value theorem (Proposition 8.31, but with the “b — a” moved to the other side), there is some c„ between xn and c such that We now prove this. To that end, choose such a sequence (a;n)- Note that lim ^l-^ x->c X — C R eal A nalysis, A Long-Form T extbook 305 G'W= An. And since g is continuous, by Theorem 6.17 (iv), □(ii) To that end, let h(x) (7) (g) holds for any x, b, implying that C = — F(a), completing the proof. = g = 5(c)- lim c,t JI —>oo -F(a), we will have it. And a! And plugging that in gives We are nearly there! As long as we can show that C why is that true? Well, (^) also holds when x .. t G{xn) - G(c) n->oo xn — C - lim g(cn) 71—>OO I /(i) (It. J a I\" f(t)dt = F(b) + C. J a / /(x) dx = F(b) — F(a). J a (■ —> c. We are ready for the final computation: There’s also a neat way to prove FTC (i) from FTC (ii) in the case that f is continuous. Suppose f : [a, 5] -> 1R is continuous (and hence integrable), and F : [a, 6] —> R satisfies F'(x) = /(x) for all x. We’ll show 0 = [ f(t)dt = F(a) + C, J a P /(t) dt = F(x) + C. J a so in particular when x Then, using that f is continuous, by FTC (ii) we know h'(x) = /(x). To summarize, we now have that F' = h! = f (i.e., both h and F are antiderivatives of f ), which by the “+C corollary” (Corollary 7.24) means that these two functions can only differ by a constant; that is, h(x) = F(x) + G, for some C G R. Flipping around (?) and plugging in /i(x) = F(x) + C then gives Equation1K 18The spatula and ‘rock on’ symbols were designed by my former student, Jessie Loucks. She used the spatula as her end-of-proof symbol when she took my analysis class and designed the ‘rock on' for another student to use as his end-of-proof symbol. She graciously let me use them in this book. Chapter 8: Integration306 It is perhaps overdue to formally record the definition of an antiderivative. [a, h] for which F'(x) = f(x) 8.12 Integration Rules number of nice consequences, all of which Rule 1. Integration by Parts — The “Inverse Product Rule” Here is our first integration rule. (/.?)' = f'g + fg'- Integrating both sides, (W Definition. Corollary. ■b u dv Definition 8.33. Assume F and f are functions on for all x. Then F is called an antiderivative of f. The fundamental theorem of calculus has a will be familiar from calculus. rb rb rb / (M= / f'g+ / fg- f'b v du. a [\"f'g- J a I fg' = f(b)g(f) J a Proof. We assumed that f and g are differentiable, and hence are continuous. We also assumed that f and g' are continuous. This all implies that both fg' and f'g arc continuous, and hence by Theorem 8.16 are integrable. Now, by the Product Rule, Note that in calculus this is commonly written f udv = uul — f J a la J a Integration by parts can be thought of as an “inverse product rule.” Indeed, the proof essentially just integrates a product rule and applies FTC. Corollary 8.34 (Integration by parts'). If f and g are differentiable functions which have continuous derivatives on [a, &], then fg' and fg are integrable and R eal A nalysis, A Long-Form Textbook 307 (/»)(&) - (/.<?)(«) = f(b)g(b) - f(a)g(a). f(b)g(b) - f(a.)g(a) □ Rule 2. /^-Substitution — The “Inverse Chain Rule” FW V - F(g(a)) Next is what most people call ^-substitution, but for various calculus-based pedagog­ ical reasons 1 call w-substitution. Plugging this into () gives use FTC to rewrite the left-hand side. Clearly fg is an antiderivative of so by the fundamental theorem of calculus part (i), We now (/<•;)', and ■b fg', which is equivalent to what we are trying to prove. /■6/ (/<?)' ./a First, don’t be confused by “</([«, b]).” Remember, this is a set: it is the set {.g(:c) : x G [a, b]}. Since we are taking /(g(z)), the domain of f must contain the range of g, and are assuming f is continuous on this set. Second, w-substitution can be thought of as an “inverse chain rule’’ the substi­ tution essentially collapses down an application of the chain rule. The proof drives t his point home by showing that it holds via a combination of the chain rule with FTC. Indeed, if you let F(x) = / /(() dt, then the 30,000 foot view of our proof is that I f(.g(xy)g'(x)dx •/ a Both equalities look like variations proof takes some care. Corollary 8.35 (w-substitution). Suppose g is a function whose derivative g is continuous on [a,b], and suppose that f is a function that is continuous on <7([a,b]). Then /■» ( <') / f(w)dw. on FTC, but to make it all work in the formal r6 rf/W / f(g(x))g'(x)dx = / f(w)dw. J a ./g(a) C hapter. 8: Integration308 proving the equality holds for Case 1. Case 2: bj) = [c, d]. Define F(<y(&)) - F(.7(a)) antiderivative of ,/(.9C7:)) ■ g'(x). And by FTC part (i),Said differently, F(.g(a.-)) is an this means that as desired. Proof. Since g is continuous, note that g([a, &]) is either a closed interval or a single point.19 Thus we have two cases to consider. = / /(pfa)) -g(x)dx. J a [■b / /(X®)) • •<7'(a;) dx = J a Note that F(g(b)) is the right-hand side of the equality we are trying to show, so that it suffices to prove that F(.g(b)) = f'‘ f{g(x')) ■ g'(x) dx. Furthermore, note that F(g,(a)) = .//(„)' f(t') dt = 0- Thus it is also sufficient to prove that 19If you’re interested in a detailed reason for this, here’s a sketch for how to prove it: By the extreme value theorem, g attains a max and a min. If the max equals the min, then a([a, &]) is a single point. Otherwise, let c be the min and d be the max, which implies that p([a,6]) C [c, d]. But also note that by the intermediate value theorem, since g hits c and d, it also must hit everything in between, meaning that g([a, 6]) = [c, dj. This is what we will show, and we will combine the chain rule and FTC to do so. By assumption, f(g(xf) and g'(x) are continuous, implying that f(g(x)) • g'(x) is continuous and hence integrable. Applying the chain rule to F{g(x)), F(x) = I f(t)dt. dg(a) -^-F(ry(a;)) = F'(.g(x)) • g'(x) = f(g(xf) ■ g'(x). dx Case 1: df[a, b]) = {L}. In this case, g(x) = L for all x 6 [a, b]. Since the derivative of constant functions are identically zero, g’(x) = 0 for all x. Indeed, the equality in the corollary holds because both sides simply equal 0: / /(flC'c)) • g’(x)dx = I f(g(x))-0dx Ju J a = 0 = [ f(w)dw rn(b) = / f(w)dw, JsM Real A nalysis, A Long-Form T extbook 30!) Shoulders of which giants? Issac Newton often gets most of the credit for developing differential and integral calculus. Part of his genius was the ability to combine many different ideas into a comprehensive theory. Newton took the ancient Greek's method of exhaustion, but expressed it using algebra from the Middle East; he adopted the analytic geometry of the French to analyze functions, which he then expressed in an ingenious way via a novel perspective on Indian decimals. In just a couple years in his early 20s. Issac Newton developed the unifying theory of calculus, and in doing so. thousands of problems which at that time only the best mathematicians would have a chance to (inelegantly) solve, were instantly turned into today’s high school homework problems. However, perhaps there is another reason that Newton gets more credit than he deserves. German mathematician Gottfried Wilhelm Leibniz discovered many of the same results that Newton did. And even though he did so nearly 10 years after Newton, it seems likely that much (or maybe all - although Newton s crew suggested otherwise) of it was completely independent of Newton. Moreover, Newton didn t bother to formally publish or widely promote his results, which allowed Leibniz was to publish first. That said, Leibniz’s landmark paper was rather odd. He begins it by immediately listing general rules of differentiation, with little explanation for why any of his claims are true. John Bernoulli — one of the best mathematicians of the day— struggled to understand it, calling it “an enigma rather than an explication.” But despite this inadequate introduction, Leibniz did popularize the newly discovered Held, giving lectures and inspiring others to do likewise, including Marquis de 1'Hopital. who would go on to write the first calculus textbook. So as you can see, assigning credit was a bit complicated. And neither man would relinquish their claim particularly as the accusations turned ugly, and their character was on the line. Indeed, Newton and his supporters accused Leibniz of scooping his work, Leibniz fired back as you’d imagine an irritated mathematician might do, and a controversy for the mathematical ages erupted throughout Europe, with surprisingly consequential backlashes. The mystery continues to this day. but in the end both men likely deserve significant credit. In closing, even though it is common to focus primarily on Newton when one wants to give a passing reference to some of the history of calculus without falling deeply into controversial weeds, it’s some of Leibniz’s personal touches that we most explicitly duplicate time and time again: the familiar notation we use repeatedly, including “^/(ir)” and “ f f(x) dx\" are Leibniz’s own. His legacy is firmly rooted. Chapter 8: Integration310 Notable Exercises 95- (ft • In Chapter 6 on continuity, Theorem 6.12 gave a method to convert theorems on sequences into theorems on functions, which quickly produced func-y versions of the sequence limit laws and the sequence squeeze theorem. Exercise 8.8 is in some ways similar; It (halfway) turns the esoteric integrability criterion of Definitions 8.8 and 8.10 into a much more practical form. • Exercise 8.11 asks you to prove some special cases of what is sometimes called the inverse power rule, which in particular implies that an antiderivative of xn is -A twenty-two-year-old Isaac Newton discovered this result, recording the below table in his college notebook:20 • You are asked for two proofs that Thomae’s function is integrable, one in Exercise 8.17 and one in Exercise 8.23. Knowing multiple proofs of a theorem is an underrated way to understand a result. A minor reason for proving things in this text is to know the theorem is true. Proofs foremost allow us to understand why it is true, so digesting multiple proofs lichens our understanding. And in the same spirit, Exercise 8.27 asks for a second proof of the intermediate value theorem (Theorem 6.38). 2o9/10. Remember your +C next time, Isaac. 21The above image was reproduced by kind permission of the Syndics of Cambridge University Library. Their collection is amazing -check it out. The above page of his notebook is here: https://cudl.lib.cam.ac.uk/view/MS-ADD -04000/260 . And you can Hip through each page! uh/ hjvm tf «-3 2SZ. . LT Ri The language and notation has evolved some since these first pen strokes. The left column he labeled “The equations expressing the nature of ye lines.” Their antiderivatives give the area under the curve, which used to be called “squaring the curve.” So the right column he labels “Theire square.” Note also that, he viewed each of these expressions as having dimensions, and therefore divided by various powers of a, which acted as an arbitrary unit length.21 HZOt.ZA. if Wl tjcA. Jxx =. ck-r|. g'X.T y <Vf R eal A nalysis, A Long-Form T extbook 311 Exercises But Quin sends his reasoning and it looks like this: Travail: Morgan: Quin: nonempty bounded sets and .4 C B, [a,d]. Prove example of a function f : [0,1] R for which f is not Travell < Morgan Quin Travell Morgan Quin Explain each person’s reasoning. Why do they get different answers? Who do you think is correct? Explain why theirs is better than the other. $7.50 $15 $22.50 a < b M- Exercise 8.2. Prove that if A and B are then sup(A) < sup(B) and inf(B) < inf(X). Exercise 8.5. Suppose that f is also integrable on 1-45 1-45 1-45 Exercise 8.6. Give an < integrable, but (/(:<:))2 is integrable. Exercise 8.3. Suppose A and B are nonempty sets of real numbers such that for any x E A and y E B we have x < y. Prove that sup(A) < inf(B). Exercise 8.1. Travell, Morgan and Quin arc splitting an Uber to get to their homes; they all live on the same straight street, which is also the same street they are getting picked up on. After driving 10 miles on this street they reach Travel!s house and he gets out, after another 10 miles they reach Morgan's house and she gets out, after another 10 miles they reach Quin’s house and he gets out. The cost of the Uber is $1.50 per mile, so in total they have to pay $45. They discuss how much should each person have to pay for it to be fair. They agree that since their rides were different distances, they should pay different amounts, but Travell and Quin come up with different ways to divide the cost. Travell sends his reasoning, and it looks like this: c < d and that f is integrable on = 1-15 = $5 = | • 15 + | • 15 = $5 + $7.50 = $12.50 = | • 15 + A • 15 + 15 = $5 + $7.50 + $15 = $27.50 Exercise 8.4. Let f : [0,2] -> R be defined by /(x) = z2 - x, and let P = {0, 1, 2}. Compute. U(f, P) and L(J,P) with respect to this particular partition P. Chapter. 8: Integration312 Exercise 8.7. Recall that the modified Dirichlet function is defined to be ,g(:c) = f : [0,1] —> R), we have W,P) U(f,P) for every partition P of [0,1]. f : [1,2] -> R), we have L(f, P) U(J,P) for every partition P of [1,2]. U(f,P) + U(g,P)u(f + g,P) for every partition P of [ft, &]. Make sure to prove your answer. (a) Prove that (b) Prove that (c) Prove that D (a) Let P be a partition of [0,4]. Compute L(g,P). (b) Find inf{I7(p, P) : P a partition of [0,4]}. if x e Q, if x Q. x 0 • But when restricted to the domain [1,2] (so now lim[tl(/,Pn)-L(/,P n)] = 0. n—>oo Exercise 8.10. Give an example of numbers a and b, and of integrable functions f, g : [ft, 6] -> R, where Exercise 8.9. In this exercise you do not need to prove that your example works. Give an example of a function f : [0, 2] —> R which has the following two properties: • When restricted to the domain [0,1] (so now Exercise 8.8. Prove Corollary 8.15. That is, prove that if f : [a, 6] -> R is integrable, then there exists a sequence Pn of partitions of [a, /;] for which Exercise 8.11. rb b2 / xdx = — by considering partitions into n equal subintervals. Jo - f b & / x 2 dx = — by considering partitions into n equal subintervals. Jo 3 f b . //' / x3 dx = — by considering partitions into n equal subintervals. Jo ' 4 R eal A nalysis, A Long-Form T extbook 313 /(*) Using the integrals analytically theorem, prove that f is integrable. Consider the function s : [0,2] -> R given byExercise 8.13. s(x) = Using the integrals analytically theorem, prove that s is integrable. 1 -- <- 2 y(x) dx. Exercise 8.16. if x & [0,1) if a; = l if ate (1,2] 1 5 2 Exercise 8.14. Let f be the function graphed below, where the zig-zag pattern continues, and where /(0) = 0. Is f integrable on [0,2]? Exercise 8.15. Suppose f and g are integrable on [a,b]. (a) Prove that if there exists some c e [a, b] such that /(x) = g(x) for all x / c, then [bf^dx= [b J a J a (b) If /(tc) = g(x) for all but countably many x values in [a, b], must it be the case that / f(x)dx = I g(x)dx? •/ a J a A function f is strictly increasing on [a, b] if for any xi and x2 from [a, b] where xi < x2, we have that f(x\\) < f(x2). Prove that if f is strictly increasing on [a, b], then f is integrable. 1 if x e [0,1) 2 ifxg[l,2) 3 ifxe[2,3] \"i I I 1 Exercise 8.12. Consider the function f : [0,3] -> R given by Chapter. 8: Integration314 Exercise 8.17. 0 (e) State which theorem completes this proof. Exercise 8.18. e [a, 6]. Prove that e ML ./M) = (c) fa ■ [-1, i] R given by ,/M) = (a) Prove that L(h, F) = 0 for any partition P of [0, 2). (b) Note why h is bounded. Exercise 8.19. For each function / A. below, find a formula for Ffc(.-r) = A-(t) dt. Where is F* continuous? Where is Fk differentiable? Where does F/. = A? You do not need to prove your answers. (a) fl : [-1,1] -> R given by = |a;|. (b) fa : [— 1,1] —> R given by Consider Thomae’s function h restricted to [0,2]. That is, h : [0, 2] —> R is given by if x 7^ 0 and if x £ Q if x = 0 1 2 1 2 if a: < 0 if a; > 0. if a; ± 0 if x = 0. 1/n 0 1 (a) Suppose f is continuous on f(x) = 0 for all x g [a, &]. x = m/n. g Q in lowest terms with n (d) Explain how to construct a partition Pe of [0,2] where U(h, Pfa that partition works. This function is pictured on the cover of this book. In Example 6.7 we discussed how h is continuous at every irrational number and discontinuous at every rational number. In this question you will prove that Thomae’s function is integrable. To do this, complete the following steps: [a, 6] and J® f(t)dt = 0 for all x (c) Let e h(x) ' > 0. Determine whether there are finitely many points e/4, or infinitely many such points. Explain your answer. x such that (b) Suppose f is continuous on [a, I»] and f* ffa}dt = f(t)dt for all x Prove that /(.r) = 0 for all x g [a, &]. e. And prove R eal A nalysis, A Long-Form T extbook 315 J a Exercise 8.21. Suppose that / is continuous The average value of an integrable function / on an interval [a. b] avg(/) (c) Prove that (cl) Suppose that (f) Give (a) (b) (c) 1 b - a Prove that T>kJ C Vj, V f+g C T>f U©5. and T>Jg C Vs U'Dg. Explain why this implies that kJ, / + g and fg are all integrable. Exercise 8.22. is defined to be Prove that if sets A and B have measure zero and C C A U B. then C has measure zero. lim n—>oo an example to show that the previous part cannot be extended to all discontinuous f . on [0.1]. Prove that (b) Prove that if f is the derivative of another function F, then avg(J) is the average rate of change of F over [a, b|. /'/(x ”) & = /(()). Jo Exercise 8.24. Assume that f : [a, b] -> R and g : [a, b] —> R are integrable and fc G R. In this exercise we will use Theorem 8.24 to prove that kf. f + g and fg are also integrable. To that end, let 'Dj be the set of discontinuities of f; likewise for T>g, T>kf, TJf+g and P /g. favg(f) J a A-./fl (a) Explain in your own words why this is a sensible definition of “average value. Exercise 8.20. Suppose f and g are continuous functions on [a, b], and t;(.r) > 0 for all x G [a, b]. Prove that there exists some c € [a,b] such that I f(x)g(x)dx = f(c) I g(x)dx. J a Ja Exercise 8.23. Use Theorem 8.24 to provide a second proof (easier than the way outlined in Exercise 8.17) that Thomae’s function is integrable. m < J(.t) < FI for all x G [a,b]. Prove that m < avg(J) < A/. (e) Prove that if f is continuous, then f achieves its average value: precisely, there is some c G [a, b] such that J(c) = avg(J). Chapter 8: Integration316 Give (a) A non-empty compact set of measure zero. Exercise 8.26. Exercise 8.28. Prove that Prove that if /(®o) 0 0 for dt. (c) Suppose f is continuous i for some a'o & [a > &], then Exercise 8.25. example exists. (a) Assume f is integrable on [ f(x)dx > 0. Prove that there •b f(x) dx > 0.(a) Suppose f is integrable on [a, 6] and /(a:) > 0 for all x. x. If g(x) that J* </(.r) dx > I (b) A non-empty open set of measure zero. an example of each of the following, or state that no such Exercise 8.29. (a) Let F(x) = / Jo ) > 0 for an infinite 0? on [a, 6] and f(x) > 0 for all x. ,-b i / /(;e) dx > 0. ./ a [a, &], and f(x) > 0 for all x. Moreover, assume that ; are infinitely many points x for which /(.-r) > 0. /Prove that / •J a integrable on <7(rc) dx. 'a xf(t)dt. What is F'(x)? [a, 6] and f(x) > g(x) for all x. Exercise 8.27. Use the fundamental theorem of calculus (Theorem 8.32) and Darboux’s theorem (Theorem 7.20) to give a second proof of the intermediate value theorem (Theorem 6.38). (b) Suppose f and g are rb rb / f(x)dx> / J a J a (b) Assume g is integrable on [a, 6] and g(x) > 0 for all number of values of x, must it be the case (d) Give an example of a function f on [a, 6] where f(x) > 0 for all x, f(xo) some x0 £ [a, &], and / f(x) dx = 0. J a (b) Prove that if f is continuous, then / f(t)(x-t)dt= I ([ f(s)ds\\ Jo Jo \\Jo / R eal A nalysis, A Long-Form T extbook 317 Find a function f such thatExercise 8.30. Exercise 8.31. Prove that Exercise 8.32. Prove that Define a function L : (0, oo) -> R byExercise 8.33. L(x) although we haven't (a) What is L(l)? Explain why L is differentiable and compute its derivative. (b) Prove the identity L(xy) L(x) + L(t/). (c) Show that L(x/y) = L(x) — L(t/). (d) Define litn 7n is called the x for Tn - (1 + 5 + g 4------ n) ~ M\")- Prove that the sequence (7„)„>i converges. The constant e Euler Mascheroni constant.. You should intuitively think of this as the natural log function formally defined that yet. (e) By considering the sequence q2n - Tn <>r otherwise, show that L(2) is the limit of the alternating harmonic series. Exercise 8.34. Suppose that f : [a, b] -> R is bounded. Suppose further that / is continuous at every point in [a, b] with the exception of a single point To G («, b)- Prove that f is integrable on [«, b]. rb f(cx)dx. I tg(t) dt. = .r2 + 2i3. Jo (f) Prove that = yL(x) for all x e (0,oo), y e R. Deduce that L(eT) all x G R. Deduce also that 4-ex = ex. ax [b l / - ax ./] X rd) d / f(x)dx = c- / ./ ca •! a r 1, / - dx + Ji x Chapter 8: Integration318 Exercise 8.35. Suppose f : [a, 6] —> R is integrable. .t'o € [a, 6] such that i. Let Ii = [rrj_i,a+]; 1. (c) Prove that there exists a subinterval I? C Z, where (d) Prove that, in general, there exists a subinterval Z<.+ 1 C where (f) Using what you just proved, show why f is continuous Exercise 8.38. 1 k +1 1 2 Exercise 8.37. maximum value 2. lim n->oo on a dense subset of [a, &]. (a) Prove that there is some 1 for some case that a.'o £ (a, b). (e) Apply the nested intervals theorem (Exercise 1.34) to prove that there exists a point c at which f is continuous. Suppose that f : [0,1] —> R is integrable. Prove that there is a point c £ (0,1) at which f is continuous. (b) Under the partition F, prove that Mi — m.i that is, Exercise 8.36. Suppose / : [a, 6] —> R is integrable. Follow the following steps to prove that f is continuous at infinitely many points (a dense set, in fact). Parts (a)-(e) will prove that there exists at least one point c € (a, 6) where f is continuous at c. r^o rb / ftf)dt = / /(t)dt. ■hi Jxn (a) By a theorem from this chapter, there exists a partition P = {.To, ar,..., xn} of [a, 6] with U(f,P) — L(j, P) < b — a. Which theorem gives this? sup ({/(a;) : x £ Zfc+i}) - inf ({/(ar) : x £ 4+1}) (b) Give an example showing that it’s not always the sup ({/(.+■) : x £ Z2}) - inf ({/(a:) : x £ Z2}) Suppose that f : [a, 6] —> [0, oo) is a continuous function with Prove that sup ({/(a) : x £ Zi}) - inf ({/(a-) : x £ }) 319R eal A nalysis, A Long-Form T extbook Exercise 8.39. < 7 < M. (b) Prove that if f is continuous for some xq € [a, b]. (c) Show by example that (b) need not hold if f is not continuous. (A definition of the Cantor set is (d) Prove that the function b(x) C is the Cantor set.) 1 0 if x 6 C if x C < f(x) < M for all x in [a.b], then is integrable and compute Jo* h. (Here ■b g(x) dx (a) Prove that if f is integrable on (a) Show that every finite set has content zero. (b) Show that the Cantor set C has content zero, in Example B.l of Appendix B. for some 7 with m for some xq € [a, b]. [a, b] and m f(x)g(x) dx = f(xu) ■ on [a, b], then / f(x) dx = (b - a) • /(-To) J a rb / f(x)dx = (b -a)-i J a Exercise 8.40. Say that a set X C [a,b] has content zero if for ewr\\ - ' 11 ''l 11 are finitely many intervals [ai,bi], [aa^], [<»n>M suc^ - Ui.=irf' >■ and Efe=i(^ “ «fc) < e. (The first, condition says that the intervals cover A ; the second says that their total length is small.) (c) Suppose that f is a bounded function on [a,b] and that the set of points x t [a, b] at which f is discontinuous has content zero. Prove that / is integrable. (d) Prove the following more general result (part (c) is the special < ast g( J ) all x), known as the general mean value theorem for integrals. Il f is continui u. on [a, b] and g is integrable and nonnegative on [a,b], then Chapter 8: Integration320 /(a:)] dxande pair of step functions Sj and s2 where andE Prove that f is integrable. 0 there •b■b (b) Suppose that for any e si(®) < f(x) < 6'2 (z) for all x, and Exercise 8.44. that if f and g are Exercise 8.43. Prove that if /:[«,&]—> R is integrable, then for any e is a continuous function g where g(x) < f(x) for all x, and 0 there is a / g(x)dx J a Exercise 8.42. A function s : [a, b] —> R is called a step function if there is a partition P = {xq,xi, ... ,xn} of [a, b] such that s is constant on each interval (•'Ki-b-'Ti)- Prove the Cauchy-Bmiyakovsky-Sc.hqarz inequality, which says integrable functions on [a, b], then / /(a;) dx J a /Wo ./a I [S2(:r) - /(*)] dx ./ a. I [/(3;) - dx J a Exercise 8.41. Prove that the set d? dx : b g [1, oo)} is bounded above and compute its supremum, which we might sensibly denote / t°° dx. (c) Give an example of a function f which is not a step function but for which [b / f(x.)dx = L(f,P) for some partition P of [a, b], You don’t need to prove your answer. (a) Prove that if f is integrable on [a, b], then for any e > 0 there is a pair of step functions si and s2 where si(x) < f(x) < s2(x) for all x, and l'b/ [/(a) - «i(x)] dx J a R eal A nalysis, A Long-Form T extbook 321 Open Questions Question 1. Under which conditions on f does the inequality be a non-negative function and let a > 0. Prove for all t € [0, oo), then dt < hold for some a, /?,7, <5 and A, and for such an f. what are the most general conditions on a, /3, y and A for which the above inequality holds? t + t2^ 1 Question 3. Let h : [0, 00) —> 00 that if [b fa+^x)dx> ( [ (x J a \\Ja roo Jo GE Q\" (.T - d)ap(x)dx rb / f a+0(x)dx J a____________ [ fa+i(x)dx J a hold for some a, /? and A, and for such an /, what are the most general conditions on <1, /3 and A for which the above inequality holds? Jo x Question 2. Under which conditions on f does the inequality (i)af a(:r) dx\\ inK)- fc=l Introduction to Pointwise Convergence9.1 Recall 9.1. for all Notation 9.2. If, for each k G N, we have a function J;- : .4 -> i*- then is a sequence of functions and is denoted (//..). of two types of 323 Chapter 9: Sequences and Series of Functions o o.fe —> a if for every e k > N. With sequences of numbers we studied convergence, and with sequences of func­ tions we also have a notion of convergence. (Note: This is one of two types oi functional convergence we will study.) In this chapter we will study sequences of functions. Instead of having each term of the sequence being a number, each term is a function. We begin by generalizing the above notation. • In Chapter 3 we studied sequences of numbers. For example, if ak - A-. then (a/.) denotes the sequence ai, a?, 04,.... For this particular t s is the sequence 1,4,9,16,.... 0 there is some N € N for which |«a- - a| Chapter 9: Sequences and Series of F unctions324 /a (a-1) = /3(a:) = Zi(z) = Definition. Example 9.4. For each k G N, let fk ■ R —> R be given by /fc(a;) = ---- ------■ That is, for each fixed k G N we have defined a function of x. Collectively we have defined a sequence of functions: It is important to note that since .To is fixed, the sequence is a sequence of numbers, it’s not a sequence of functions. Indeed, ./'i(.to) 6 R, fzfxo) & R, /a(T'o) £ R, and so on. So the sequence (/*,) of functions converges pointwise to a function f : A —> R if, for each tq G A, the sequence of real numbers (7t(a;o)) converges to the real number /(a:0). Definition 9.3. Suppose (/fc) is a sequence of functions, each defined on A C R. The sequence (//J of functions converges pointwise to a function f : A —> R if, for each Xq G A, fl (a;) = x 2 + x x 2 + 2a; 2 x2 + 3a; 3 a;2 + 4a; 4 lim A(a:o) = f(x 0). K,—>OQ In this case, we write “//. -> f pointwise.” The following is an example of this. As you are reading through it, see if you can think of what function this sequence of functions is converging pointwise to. This is challenging, as it may be surprising that this sequence converges to anything at all! a:2 4- kx ~k The first four iterations (/b/2,/3 and /q) are graphed1 above. 1 Geogebra and Dcsmos can demonstrate the whole sequence well, with an enormously satisfying slider bar. (’heck it out on your own! R eal Analysis, A Long-Form T extbook 325 6 4 2 42-2-4 -2 200 - 100 - <- -101 200 —I— -200 H- 100 These functions look like nice parabolas, but take a look what happens when k gets large. Here’s /ion: Why does it look more like a line than a parabola? We are zoomed in too much! Zooming out: I Chapter 9: Sequences and Series op F unctions326 But if we then plot /i,ooo on these same x-values, it again looks like a line: 200 -- 100 -- <- = 0 + xo = x0. k —>oo 9.2 Continuity and Functional Convergence —I— -200 —I— -100 -+- 100 -4- 200 Question 9.5. If f k -> f pointwise, and each fk is continuous, must f also be continuous? = lim fc—>oo After some thought you might realize that the answer is ‘no.’ What’s a coun­ terexample? We need to come up with continuous functions f k and a discontinuous function f for which f k -> f pointwise. Let’s start with f. One simple way to have a function be discontinuous is for it to have a jump discontinuity at just a single point, as the next example shows. .co2 + k-XQ k Suppose we know fk -> f pointwise. We want to start investigating which properties of fk will carry over to f. Here’s a basic question: lim A(-'-'o) = lim k —>oo k —too So you see, for any particular range of T-vahies like this, we can crank up A: high enough to make the parabola look like a line (even though if you zoom out far enough it will look like a parabola again). The way we think about this is that, for any particular .z.'o 6 R, if you let A: —» oo we have zo2 \\ That is, for each fixed x we have lim A(;r) = x, meaning that (A) converges k —too ' pointwise to the function /(.?:) = x. R eal A nalysis, A Long-Form T extbook 327 1 -- 1 — / <- -W 0.8 1 1 0.8 1 For .r-vahies close to 1 it takes longer, but all will eventually get arbitrarily close to 0. For instance, below is / 2o(t)’s graph (with J>o(0.8) again marked): Plugging a few points into the function, we have J20(0.8) = 0.01, /2U(0.9) = 0.12, and /2o(O-99) = 0.82, so all but the last 10% of the domain is becoming quite close to 0 by k = 20. And /soo(0.99) = 0.01, so by k = 500 far less than 1% of interval remains far from 0. As you can see, for any fixed x E [0,1), as k gets large we see that xk is tending to zero. For example, fix x = 0.8; the point /i(0.8) is marked on each of the graphs, and you can tell it’s tending towards zero: Example 9.6. Let fk : [0,1] —> JR where fk(x) = xk. This gives us a sequence of functions (//,). The first five iterations (k = 1,2.3.4.5) look like this: Chapter 9: Sequences and Series of F unctions328 1. For /(*) = □ |.T - C| 6 !/(*) - f(c)| • Wo can make the second term small because each fa is continuous. then we would have a complete proof; • We can make the first term small because fa —> f pointwise. 0 1 if x G [0,1), if x = 1. Notice how this works for any choice of k. If we can make each term less than e/3, so what goes wrong? You might think: if xe [0,1), if x = 1. There is of course one point that will never get close to 0: the point x = any k, / a-(1) = l fc = 1. To summarize: So we have seen that the sequence of continuous functions fa = xk converges pointwise to the discontinuous function l/(z) - /(c)| = |/(ar) - falx') + falx) - fa(c) + fafa) - /(c) | < !/(■'«) - + \\falx) - fa{c)\\ + |/fc(c) - /(c)| = IA-(-t) - f(x)\\ + - / fc(c)| + |/fc(c) - /(c)|. lim falx') = 0 K —YOO lim fa(x) = 1 K->OO • We can make the third term small because fa —> f pointwise. One of these doesn’t work though... Can you spot it... ? It’s actually the first term, but to see why, let’s look at the others first, in reverse order: • We can indeed make the third term small: Since -> f pointwise and c is fixed, we can choose some ko such that |/ a-0(c) — /(c) | < e/3. Almost-correct proof that pointwise convergence preserves continuity. Assume that each /& : A —> R is continuous, and that / a- —> / pointwise. Fix a point c 6 A and an e > 0. To show that / is continuous at c we would have to show that there is some 8 > 0 such that Rewriting |/(.'k) — /(c) | in a tricky way and applying the triangle inequality twice, This is kind of a bummer. We might have hoped that pointwise convergence would preserve the continuity property, but sadly it is not strong enough. Now, there is another, stronger notion of a functional limit that is strong enough to maintain continuity in the limit. To understand where it comes from, let’s try to prove that pointwise convergence preserves continuity, and see where the proof breaks down (and hence how to fix it). R eal A nalysis, A Long-Form T extbook 329 So the problem is in controlling |/a(x) - /(x’)| for aH x - Indeed, in Example 9.6 each ,/a(t ) = xk was continuous, but as k got large, .t-values close to 1 required much smaller <5-values than did the x away from 1. This shows why we were unable to control the |/ a(.'c) — /(x)| term in this sequence. Pointwise convergence allows us to control each individual x. but we want to control them all at the same time; that is, we want uniform control. This directly motivates the following definition of uniform convergence. • We can then make the second term small: We had assumed that each / a- is continuous, and so by / a-0’s continuity there exists some Jo > 0 such that \\fk0(x) ~ A-0(c)l < e/3 for aU x whore lx “ cl < d'»- • But this is a problem for the first term. For each particular x. we can apply pointwise convergence to produce a big enough fro for which |/a„(t)-/( t)| < e/3. However, each x will likely have a different “fro\" value, and so we have no guarantee that any particular fro is big enough for all of the infinitely many x for which |.-r — c| < Jo- But in the event that our fro is not big enough, why don’t we just go back and pick a large enough fro so that it does work for all these x! Well first, maybe no fro is big enough for them all (there are infinitely many i-values and each requires a large fr, so maybe there’s no upper bound on the needed fr’s). But more to the point, even if there was a max fr-value (call it Aq) that was required and we went back and switched out Aq, for this Aq. then suddenly Sq likely changes (to some <5|), since it is now dependent on the function Ja, and not / a0- So we found a new Aq that works for all the z-values for which — c| < Jo, but with our new Aq we instead need it to work for all the z-values for which |a: — c| < Jj! See? Because x depends on Jo, which in turn depends on fro. we can t just change Ap without messing everything up. Note that if / a —> f uniformly, then certainly / a- f pointwise, so this definition is strictly stronger than our definition of pointwise convergence. We constructed this form of convergence so that it will preserve continuity, so of course our first result is that it does indeed do this. Uniform Convergence .-J -- ------- J Definition 9.7. Let (/a-) be a sequence of functions defined on a set A. We say j (/fc) converges uniformly on A to a function f if, for every e > 0, there exists an I AT G N such that |/ a-(t) - /(z)| < e for all k > N and for all x e A. : When this happens we write “/fc f uniformly.” Chapter. 9: Sequences and Series of F unctions330 0. By the uniformity assumption, there exists some IA-(t) - /(a;)| |.-r - c| 6 implies I.fN(•'»-') ~ / n (c)| Picture of uniform convergence, and of not 1 f (*) = o+ 1- Proposition. for all ;c 6 A for which |x- — c\\ < 6. Thus by the definition of continuity, f is continuous at c. e 3 And so, by rewriting |/(.t) — /(c)| in a tricky way, applying the triangle inequality twice and using the above, Next, fk -fr f uniformly when there is an £ > 0 for which, for every N , there is some k > N where fk is not entirely inside the dashed £ region. Proposition 9.8 (/^ continuous, fk f uniformly => / continuous). Assume that each fk : A -> K is continuous at some c € A. If (fk) converges uniformly to /, then / is continuous at c. Proof. Fix a c e A and let £ N e N such that Let £ > 0. Then fk -> / uniformly if there exists some N for which, for every / a/ t) where k > N, fk(%) is entirely inside the dashed £ region. £ 3 for all k > N and for all x g A. In particular, this means that |//v(c) — /(c)| < f- We also assumed that each fk is continuous at c. In particular, since f^j is continuous at c there must exist a 6 > 0 for which H— > l/W - /(<•)! = l/W - f N(x) + f N(x) - f N(c) + f N(c) - /(c)| < |/(-t) - f N(x)\\ + |/N(x) - / w(c)| + |/jv(c) - /(c)| = I/at(.t ) - f(x)\\ + |//v(a:) - /jv(c)| + |/n (c) - /(c) | e e e < 3 + 3 + 3 = £ Real Analysis, A Long-Form Textbook 331 Other Properties with Functional Convergence9.3 Boundedness AW if x e [i/fc, i] if a: £ (0, l/fc). 6(0,1], And thus for 1 0 Clearly 0 < / fc(:r;) < k for each x, so by the Archimedean principle there is all fc > N we Assume that each fa has the below property Continuous Bounded Unbounded Uniformly Continuous Differentiable Integrable ??? ??? Yes. by Proposition 9.8 777 A few of these will be left to the exercises, but ticking off the rest will help us better understand the differences between pointwise and uniform convergence. It’s also pretty fun to think about finding a proof or counterexample of each of these. Let's start at the top -boundedness. liin fa{x) = -. fc-»oo X 2 Recall again that for each particular fa, the number k is fixed. So. e.g., 0 < /ioo(x) < 100. If we knew that g : R —> R had the property g(x) < i, then this would not mean that g is bounded, because x is variable. But saying A(a:) < k does mean that /j. is bounded above, since k is fixed. If fk f pointwise, If fk -> f uniformly, must f satisfy property? must f satisfy property? No, by Example 9.6 ??? ??? ??? ??? ??? each fa is bounded.2 However, for any some N g N for which have fa(x) = I/.?;. So clearly for each x we have For each of these I strongly encourage you to think on your own about what you think the answer is. And if you think the answer is no, try to come up with an example demonstrating it. Assuming you have spent time thinking about whether each fa being bounded implies f is, you can read on. We will show that for pointwise convergence boundedness might not carry to the limit, but with uniform convergence it does. We begin with an example showing the pointwise claim. Example 9.9. Assume that each fk is bounded and fa —> f pointwise. It need not be the case that f is also bounded. Here is an example of that: Define fk : (0,1] -> R by We want to investigate which properties arc preserved by pointwise and uniform convergence. We aim to complete the following chart. Chapter 9: Sequences and Series of F unctions332 1 l/jv(z) - 1 for all x 6 A. I.e., L — 1 P + 1 Unboundedness These will be left for Exercise 9.5. Uniform continuity In case you need a reminder, below is the definition of uniform continuity. !/(■ «) - /(?/)!k -y\\< 8 implies Proposition. Recall. Proof. Since -> f uniformly, then (by letting e = 1) some N 6 N such that Definition 6.39. Let f : A —> R. We say f is uniformly continuous if for all e > 0 there exists some 8 > 0 such that, for all x, y e A, But while pointwise convergence does not preserve boundedness, we prove next that uniform convergence does. l/fe(®) - | for all k > N and x G A. In particular, Proposition 9.10 (/j, bounded, fa —> f uniformly => f bounded). Assume that each fa : A —> R is bounded. If (fa) converges uniformly to /, then f is also bounded. /k) for all x G A, proving that f is bounded. we know that there exists That is, by letting f(x) = \\/x we know that each fa is bounded, f is unbounded, and fa —> f pointwise on (0,1]. So we are done. fN(x) - 1 < f(x) < fN(x) + 1 for all x 6 A. And since fiy was assumed to be bounded, there exist real numbers L and U such that L < fiv(x) < U for all x G A. Combining this with above, we see that R eal A nalysis, A Long-Fohm T extbook 333 /(*) □And note that f is not uniformly continuous since it is not even continuous. Proof. This is Exercise 9.6. □ Proposition. As a quick reminder, here is where we stand in our efforts to complete the table from earlier: Proposition 9.12 (/t unif. cis., f k -4 f uniformly => f unif. cts.). Assume that each f k : A —> R is uniformly continuous. If (Jk) converges uniformly to f. then f is also uniformly continuous. 0 1 Exam ple 9.11. Assume that each fk is uniformly continuous and fk -r f pointwise. It need not be the case that f is also uniformly continuous. In fact, our continuity example (Example 9.6) works: Define f k : [0,1] -> R by fk(x) Assume that each fk has the below property Continuous Bounded Unbounded Uniformly Continuous Differentiable Integrable If A -» f pointwise, must f satisfy property? No, by Example 9.6 No, by Example 9.9 Exercise 9.5 No, by Example 9.11 ??? ??? If fk f uniformly, must f satisfy property? Yes, by Proposition 9.8 Yes. by Proposition 9.10 Exercise 9.5 Yes. by Prop 9.12 and Ex 9.6 ??? ??? if x e [o, i) if z = 1 This section will be brief. I will give you an example where each fk is uniformly continuous and fk -4 f pointwise, but yet f is not uniformly continuous. What about if the convergence is uniform? If instead fi, -4 / uniformly, then f will be uniformly continuous but the proof of that will be left to the exercises. First up. the example. xk. Since each fk is a continuous function on a closed interval, by Proposition 6.40 we know that each f k is uniformly continuous. However, as we saw in Example 9.6, fk -4 f pointwise where Chapter 9: Sequences and Series of F unctions334 9.4 Convergence of Derivatives and Integrals Differentiability Example 9.13. Assume that each fa is differentiable and fa —> f uniformly (and hence also pointwise). It need not be the case that f is also differentiable. Here is an example of that: Let’s keep going. Next up, differentiability and integrability. As you may guess, the weakness of pointwise convergence persists. For these more sophisticated properties, though, it is less obvious right off the bat whether uniform convergence is strong­ enough to preserve the properties. 1 -1 0 lim a;2*-1 = < k—>oo if :i: € (0, 1]; if :r G [—1»0); if x = 0. —> |a:| as k —> oo. So fa —> f pointwise where x = 0, despite each / a- being differentiable also have fa -> f uniformly.) Assume each fa is differentiable at a point c. It turns out that fa -> f pointwise does not guarantee that f is differentiable. This may not be a surprise since in Example 9.6 we showed that continuity is not preserved by pointwise convergence, and differentiability is strictly stronger than continuity. (That alone docs not is not imply the same for differentiability, but it’s decent motivation.) For continuity, boundedness and uniform continuity, once we insisted that the convergence is uniform then we could prove that the property carries over to f for differentiability, though, this is not the case. Indeed, it is possible for each fa to be differentiable at a point c and fa -> f uniformly, while f is not differentiable at c. And so for this subsection, we can give just one example that shows that neither convergence is sufficient.3 And so fa(x) = = x ■ x™-> f(x) = |a:|, which is not differentiable at at 0. (Exercise 9.8: Show that we ’Recall that we essentially defined uniform convergence to be just strong enough to guarantee that continuity is preserved. The fact differentiability is strictly stronger than continuity is one reason to believe that things may be different for differentiability. We will consider the functions fa : [-1,1] —> R, defined by fa(x) = x 1+™<z'; note that fa is indeed defined on [—1,1], since 2k — 1 is always odd. For any k G N the function fa is differentiable at x = 0. (In fact, each fa is differentiable on all of [—1, 1] by the power rule.) To understand the limit of this function as k oo, note that 335R eal A nalysis, A Long-Form T extbook 1 A sequence (<//.) of functions such that gi- -> </ uniformly.1. Each is differentiable at a point c,2. g is also differentiable at c,3. 4. 5. By looking at those first few graphs it seems pretty convincing that the functions do converge uniformly. Showing it requires a little finesse, though. are graphed below (note how they And the limit lim 4(c) exists, fc—>oo But yet lim 4(c) + g'{c). K->O O The first three functions in Example 9.13 already look very much like f(x) = |x|). Weird! The idea is that you can be getting really close to a function but yet at a particular point, by using the e-high wiggle room, you can achieve any slope you want. In the below, for instance, the functions are getting closer and closer to 0 (whose derivative is 0 everywhere). However, right at zero they re-angle themselves so that they go through the origin with a slope of 1, giving /(.(0) = 1 for each k. That’s next. What’s particularly amazing, is that there even exists a function g which has these properties: Chapter 9: Sequences and Series of F unctions336 . The first four 1 — 34 <- -1 -- closer to the x-axis. For instance, here is goo: 1 -- 1 And here is <7ioo; 1 — -1 -- =t -1 -+ -1 + 1 + 2 + 2 -2 d- 1 Example 9.14. Let g^ : [—2,2] —> R be defined by gk.(x) = functions looks like this: H— > 2 x 1 + kx'2 The later functions are <--- 1= -2 .{/l i 92 93 ■Ai So as you can see, the sequence is converging both pointwise and uniformly to the function g(x) = 0. However, despite this, each = 1, since right at x = 0 R eal Analysis, A Long-Form T extbook 337 = 1. begin, recall that if I = [at. Now we prove the proposition (our last dry, technical integrals proof!). - /(x)| < - What about for uniform limits? We showed in the last section that uniform limits do not preserve differentiability. For integrability, though, this property is preserved. d dx e 2(TT) 1 - kx2 (1 + far2)2' x 1 + kx2 is a subinterval in a Darboux sum.Before we H 1K- We will use these in the following proof. As for the second, we will in particular use the equivalent statement ’reposition. each of the functions reorients themselves so that, if passes through the origin with a slope of 1. Indeed, by the quotient rule, 1 • (1 + kx2) - x ■ (2kx) (1 + kx2)2 Proof. We will prove that f is integrable by using the definition of integrability. That is, we will show that / is bounded and L(/) = (/(/). For the former, simply note that since each f k is integrable and fk -> / uniformly, by Proposition 9.10 we may conclude that f is also bounded. Now we prove that L(j) = U(f). Let e > 0. Since fk -> f uniformly there exists some N € Id such that Integrability Example 9.15. Assume that each fk is integrable and f k -> f pointwise. It need not be the case that f is also integrable. For Exercise 9.9 you will give such an example. Proposition 9.16 (fk integrable, f k —> f uniformly => f integrable). Assume that each f k : [a, h] —> R is integrable. If (fk) converges uniformly to f. then f is also integrable. Moreover, fkdx -> f'’ f dx. r, , 1 - So 9k^ ~ (1 + fc(0)2)2 So wc have shown that each </(.(()) = 1, but meanwhile the gk's converge to the zero function g(x) = 0 which clearly has g'(0) = 0. sup({fl(:r) + h(x) : x E I}) < sup({g(at) : x G I}) + sup({/i(z): x G I}), inf({</(x) + hfx) : x G 1}) > inf({g(x) : x G I}) + inf({/i(at) : x G /}). - inf({g(at) + /i(at) : x G I}) < - inf({<?(x) : x G I}) - inf({/i(x) : x G /}). Chapter 9: Sequences and Series op F unctions338 for all k > N and for all x 6 [a, &]. Then, ^(/) ^(/) — U(J — / n + fiy) — L(J — / n + fiy). So by the recall right before this proof, < - //v) + U(fN) - L(f - f N) - L(fN). And since f N is integrable we have U(fN) = L(fN), = U(f-f N)-L( f-f N). / n (x)\\ < /(*) -That is, Av(z) Thus, < U — L 0. This implies that U(f) = L(f), f(x)A(-'C) ■6 dx. f k{x) dx - e E E b — a £ b — a By our choice of N above, |/(.?;) E 2(1) - a) ’ £ 2(6 - a) ‘ —E 2(6 - a) —£ 2(b — a) [b (aA) + ./ a \\ / fk(x)dx + s J a Using the linearity properties of the integral (Proposition 8.26) and the fact, that l'b dx = ^-(b - a) = e, the above says that Ja b—a b—a v 7 / fk(x)dx-e< / f(x)dx Ja for all k > N. This means that /Ct) £ 2(6 - a) £ E ~ 2 + 2 = e. So we have that 0 < U (/) — L(f) < e for all s and hence that f is integrable. Next we must prove that the sequence of numbers (/„' f k dx) is converging to the number Ja f dx. Let e > 0. Since A —> f uniformly and > 0, there exists some N such that |A(-T) ~ f( x )l < b^a ^or b: > N and for all x 6 [a, 6], This implies that 7— < /(-t) < A-(-t) + 7-^— b—a b —a for all k > N and x £ [a, 6], which by the monotonicity property of the integral (Corollary 8.28) implies that, for k> N, •b /(•t) dx 33!)Real A nalysis, A Long-Form T extbook Completed Table Table 9.1: Properties of the limit of (fy) Three Final Results Assume that each f k has the below property Continuous Bounded Unbounded Uniformly Continuous Differentiable Integrable If f k -> f pointwise, must f satisfy property? No, by Example 9.6 No, by Example 9.9 Exercise 9.5 No, by Example 9.11 No, by Example 9.13 Exercise 9.9 If /k f uniformly, must f satisfy property? Yes, by Proposition 9.8 Yes, by Proposition 9.10 Exercise 9.5 Yes, by Prop 9.12 and Ex 9.6 No, by Example 9.13 Yes, by Proposition 9.16 •b /(ar)d.T < c. -> faf^ dx- □ fk(x)dx- By the definition of sequence convergence (Definition 3.7), Ja fk(x)d.r I will wrap up our discussion of sequences of functions by mentioning three more results, without proof. For the first, note from the table above there is only one major failing of uniform continuity, and that’s that it does not preserve differentiability. I would like to mention that if you additionally know that the derivatives converge uniformly (plus one more minor assumption to ensure nothing funny is happening with the “+C\"’s), then you can guarantee that the original sequence is converging to a differentiable function. In essence, with these additional assumptions that lone ’no in the right column of the table can be turned in to a ‘yes.’ Below is that. Proposition 9.17 (Uniform limit of differentiable functions). Let fy : [a, 6] -> R and assume each f k is differentiable. If (f(.) converges uniformly to some </ and there exits some xq E [a, b] for which (fyfyo) converges, then (fy) converges uniformly to some f, this f is differentiable, and f = - heorem. for all k: > N. That is, we have shown that for an arbitrary e > 0 there exists some N such that k: > N implies that Chapter 9: Sequences and Series of F unctions340 Proof. This is Exercise 9.11. □ rE Proposition. The final result is another generalization from Chapter 3’s work on sequences of numbers, in this case of the of the Bolzano-Weicrstrass theorem which says this: Theorem 3.37 (The Bolzano-Weierstrass theorem'). Every bounded sequence has a convergent subsequence. Proposition 9.18 (Cauchy criterion for sequences of functions). Let fk : A —> R- The sequence (fk) converges uniformly if and only if (fk) is Cauchy. There is an analogous theorem for sequences of functions (fk), where the conclusion is that there exists a subsequence of (fk) that converges uniformly. It’s a famous result known as the Arzela-Ascoli theorem. Bolzano-Weierstrass requires that the numerical sequences are bounded (there exists some M such that |<z*| < M for all k), and likewise, Arzela-Ascoli requires that the functions be bounded. However note that if A (■''.') = k for all a, then each fk is bounded, but yet clearly (fk) is not converging to any particular f. So we need more. It is not enough for each fk to be bounded we need the whole sequence of functions to be bounded. Indeed, we need there to exist an M such that |A(.t)| < M for all x and for all k; this is called being uniformly bounded. Unfortunately, being uniformly bounded is alone not enough to get a convergent subsequence (either pointwise or uniform). Convince yourself that every subsequence of (fk(x ) — 011 [f)’ f] converges to the same limit, and no subsequence converges uniformly to that limit. The problem is that the functions are getting steeper and steeper; each is uniformly continuous, but for later and later functions in the sequence, the “£■” in the definition of uniform continuity requires a smaller and smaller “S.” What we need is that, for every e > 0, there exists a single 5 > 0 that works for all functions fk- Then, for this 5, we have that < 8 implies that \\fk(x)~ fk(y)\\ < £ for all x, y G A and for all k G N. This is called being equicontinuous. The second result I’d like to mention will be useful when studying series of functions, and is a generalization of a Chapter 4 result that said a numerical sequence converges if and only if it is Cauchy. Indeed, a sequence of functions (fk), each defined on a domain A, is said to be Cauchy if for every e > 0 there exists some At G N such that |/m(:r) - /„(□;)| < £ for all m, n > N and all x G A. R eal A nalysis, A Long-Form T extbook 34] The proof is a diagonalization-type argument, that we omit. Brief Review of Series of Numbers <=> Ve > 0 3/V s.t. Theorem. n oo ^2 a/; converges <=> The sequence of partial sums converges fc=i Theorem 9.19 (The Arzela-Ascoli theorem'). If (//•) is uniformly bounded and equicontinuous on A, then (/fc) contains a uniformly convergent subsequence. n <=> (5’„) converges, where Sn = ) A-l m > N. o In Chapter 4 we had a definition for what it means for a series to converge, in terms of the sequence of partial sums (Definition 4.1). In the below we write that, plus state a pair of different ways to write that definition, and finally at the end we state the Cauchy Criterion for convergence, which is equivalent to converging. n <4 lim V a/. exists n—>oo z—' l-l O We also proved many tests for convergence, including the F h-term test, ge­ ometric series test, comparison test, series p-test and alternating series test (respectively, Propositions 4.5, 4.9, 4.12, 4.16, and 4.17). OO ° In particular, for to converge, it must be the case that —> 0. The 00 1 converse, though, is not true. For example, the harmonic series - diverges k= 1 to infinity even though j -> 0 (Proposition 4.15). After studying sequences of numbers in Chapter 3, we moved on to studying series of numbers in Chapter 4. Likewise, now that we have studied sequences of functions, we are about to move on to series of functions. There are a handful of ideas from Chapter 4 that will be particularly important as we move forward. We will now briefly review those ideas. c Vn Chapter 9: Sequences and Series of F unctions342 Series of Functions9.5 partial sum. Definition. Assume that each fa has the below property We will define both pointwise and uniform convergence of series, although almost all of our focus will be on uniform convergence. The reason is, as we have seen, pointwise convergence is so weak that it does almost nothing worthwhile. of these properties, to recast the results oo (ii) The series fa converges uniformly to &=] sequence (s„) converges uniformly to f. OO (i) The series fk converges pointwise to a function f : A —> R if the sequence k=l (sn) converges pointwise to f. OO Table 9.2: Properties of \" fa k=l Continuous Bounded Uniformly Continuous Differentiable Integrable Yes Yes Yes’ Yes Yes’ OO If fa converges uniformly to f, k=l must f satisfy property? Yes, by Proposition 9.8 Yes, by Proposition 9.10 Yes, by Prop 9.12 and Ex 9.6 ______________No_______________ Yes, by Proposition 9.16 n Note that if each fa is continuous, then sn = fa is also continuous. And, likewise, finite sums also preserve boundedness, uniform continuity, differentiability and integrability. Therefore, if you know that each fa satisfies one then sn will too. This fact, along with Definition 9.20, allows us of Table 9.1: a function f : A —> R if the Definition 9.20. Let (/j.) be a sequence of functions defined on a set A and let n Sn = yy fa be the nth fe=i I Must each sn satisfy property? 313R eal A nalysis, A Long-FormT e^ tbook Next we generalize the Cauchy criterion to series of functions. for all n > m> N and all x G A. Proof. This is Exercise 9.21. □ Proposition. £2 k=m As with every other use of the Cauchy criterion, the advantage to using Cauchyness is that you can show convergence without knowing what the sequence series is converging to. That said, this criterion is still usually hard to apply. Its corollary, though, is much easier to apply. The above gives a condition that guarantees that a series of functions converges uniformly, but oftentimes it is a cumbersome condition to apply. The following corollary will give another such condition. It is weaker and so it does not always work, but. when it. does it. is often much easier to apply. We will build up to it by discussing how “tame” such functions will have to be for their sum to converge uniformly. Since a scries is just a sequence of partial sums, by rewriting each “^2 ft” as k=\\ “ lim s„” we can apply all of our previous results to series to complete the above table. The one exception to this is with differentiation; we won’t go into details here, but to guarantee that the sum is differentiable you need a couple further assumptions. Proposition 9.21 (Cauchy criterion for series of functions). Let fi: : .4 -> R. oo The series ^2 /*. converges uniformly on A if and only if for every e > 0 there A?— 1 exists some N € N such that ° If each fk(x) = k, then the functions are all fairly “tame,” since each is a constant. But collectively they are not tame. Indeed, certainly /r does not Ar=l converge uniformly; it diverges to oo everywhere! So having functions which arc each individually “nice” is not enough. And certainly they can’t go off to infinity. • But what does “collectively tame” mean? If Ji(:r) = 1 for all k, then certainly OO ^2 fk does not converge uniformly; it again diverges to oc everywhere! So k= 1 having functions that don’t go off to infinity is not enough, and also having Chapter. 9: Sequences and Series of F unctions344 could still go off to as Proof Sketch. The general outline of the proof is this: Now we prove it in detail. Corollary. Mk converges => Mk Cauchy => A Cauchy => A converges. them be close together is not enough, because their sum infinity. Corollary 9.22 ( Weierstrass M-test). Let fk : A -> R and suppose that, for oo each k € N, there exists AA £ R such that | AC31)! < AA for all x € A. If y^ AA fc=l • Let A (a-) = on [0,1]. The function A (x) = x is already pretty small for most x £ [0,1], and then for larger k the functions A are getting even smaller and smaller. For instance, Aoo only takes values between 0 and 0.01. Nevertheless, the series A is still not converging to any f. The reason is that at x = 1 we have A(l) = 1/k for each k. And so at this x-value, OO converges, then A converges uniformly on A. fc=l OO yy a d°es not converge to an f . Indeed, if it did then we would have to have /(l) = oo, which is not allowed. One way to state this issues is that |A(a:)l — k whde yy — does not converge. oo oo . i2A(i)=yy^=00, *=1 k=i this is the harmonic series which in Chapter 4 we saw diverges. So it is not true that the sum converges for all x £ [0,1], and hence the sum • So not only do we need each A t° be bounded, but we also need the sum of all of their bounds to converge. This corollary is called the Weierstrass M-test. R eal A nalysis, A Long-Form T extbook 345 Proof. Let e Thus, for this same N, by the triangle inequality we have n k=m A. Here’s a quick example of using the Weierstrass Af-test. on a specific function. Exam ple 9.23. Let //.(a;) = converges uniformly on R. I AC1) I Solution. To sec this, note that every term in the denominator of fa is non-negative, and hence k=m n n 52 ac*) - 52 iami - 52 k=m k=m 1 a:4 + 3:r2A: + A:2 + 7 on R. We will show that 52 A fe=l oo oo 0. Since 52 ^A converges, the partial sums of 52 ^fa are Cauchy. k= 1 k=1 Thus, there exists some N € N where for all n > m > N we have for all n > m > N. So by the Cauchy criterion for series of functions (Proposition OO 9.21), 52 A converges uniformly on 1 \"F 1 a-4 + 3x2fc + fc2 + 7 OO 00 1 Let Affc = and note that 52 ^A = 52 converges by the series p-test fc=l fc=l (Proposition 4.1G). So by the above we have that |/*.(x)| < A fa for all k, and that the 00 sum of the M/.’s converges. Therefore by the Weierstrass Af-test, 52 A converges k— 1 uniformly on R. Chapter 9: Sequences and Series of F unctions346 Power Series9.6 where each ak € R. Example 9.25. The geometric series Definition. Definition 9.24. A power series is an expression that can be written as an infinite polynomial. That is, oo /fa) = a-k%k = ao + aix + t^x2 + asx3 + ... k=0 oo xk = i + x + x2+ x 3 +... k=0 As it happens, the points for which a power series converges always look somewhat like this. First, they always form an interval. Second, that interval is always centered at zero. (However, note that we do include the extreme cases as an option, like the “interval” that is just the point x = 0, as well as all of R, in addition to standard intervals like (—1,1).) is a power series where each ak = 1. And since (in the lingo of geometric series) the common ratio r = x, we saw in Proposition 4.9 that this power series converges precisely on the interval (—1,1). indeed, Proposition 4.9 also told us that for these x values it converges to Note that the sum has to start at k = 0, since we need a constant term in the sum (which could be zero). Also note that, unlike finite polynomials, for each x-value you plug in, the resulting sum might converge or might not converge. So the first important question to ask is, for a specific sequence (a*), for which z ’s does f ’s sum converge? Of course, for any (afc), at x = 0 we have that /(0) = a0 converges. But where else? We have seen that a series of functions XL fk can converge to another function f. But if you are given the f first, are there “simple” functions f k which sum to /? Working towards this end, we begin with some of the simplest functions: polynomials. We first define power series, which essentially are polynomials with an infinite number of terms. R eal A nalysis, A Long-Form T extbook 347 Intervals of Convergence I*.- |afeTfc| < |afccfc| And 4.9, with M k = M ■ are doin'. □ Lemma. and so we c T() < 1). So by the Weierstrass Af-test (Corollary 9.22. with oo have that converges uniformly on fc=0 k converges by the geometric series test (Proposition The proof is a fun tour through many of the important results we have proven throughout this text. k=l OQ we know that A. = 0 ' “ l*o| | ^| ) ’ We OO Pi-oof. Since «fe.'Cy converges, by the fcth-term test (Proposition 4.5) we know k=0 that the terms o.^Xq —> 0, which in turn implies that these terms are bounded by some M > 0 (Proposition 3.20); that, is, |afcZy| < M for all k g II. And so. for any x € [—c, c] (implying |a;| < c < |zy|), we have Note that this lemma implies that if a power series converges at some xo > 0. then it converges on all of (—tq, a;0]. And if it. converges at some xy < 0, then it converges on all of [;r:0, —rcy). The lemma has nothing to say about -xy. though. It may or it may not converge at this point. “Most” examples will have it converge at —To, but. one power series where it does not converge is At .7.0 — 1 this series converges by the alternating series test (and hence by Lemma 9.26 it converges on all of (-1,1]), but at -x 0 - -1 this is just the harmonic series, which diverges. Indeed, this power scries converges only on (-1.1]. Lemm a 9.26 (P.S. converges on(—a,'o,zy) => un’f- on closed subintervals). If a power series converges at some point To € R and 0 < c < |tq|, then it converges uniformly on [—c, c]. In particular, if a power series converges at some xy mid kl < |to|- then it also converges at x. Chapter 9: Sequences and Series of F unctions348 • {0}, • One of (-77, R), (-R, 72], [-77, 7?) D' The above is only for pointwise convergence. What about uniform convergence? Theorem. Definition. Definition 9.29. The interval of points for which a power series converges is called its interval of convergence. Also, notice that in Theorem 9.27 the points on which a power series converges form an interval. We call this its interval of convergence. o R, or or [—7?, 77], for some R. G R. Definition 9.28. The R. in the above theorem is called the radius of (pointwise) convergence. If the set of points of convergence is {0}, then we say that the radius of convergence is 0, and if the set of convergence is R, then we say that the radius [ of convergence is oo. Theorem 9.27 (P.S. converge on an interval centered at O'). The set of points that the power series “fc®* converges at is Proof. Let C be the collection of points for which the power series converges. We pointed out earlier that 0 G C. If this is all there is, then we are done. If not, then C is some nonempty set with at least one non-zero element and hence {|a:| : x € C} either has a positive supremum or is unbounded above. If {|rr| : x G C}) is unbounded above, then for any x G R there exists some xg G C such that |t | < |rro|. But then by Lemina 9.26 we have that x G C, giving C = R, and we are done. If, however, sup({|.z| : x G C}) = R. for some 7? G R (implying that if |.r| > 7? then x £ C), then we know by the lemma that every x G (-77,77) is also in C. Moreover, if x [—77, 77] then x f C, otherwise such an x would have the property that |a;| > 77, contradicting our assumption that 77 = sup({|a;| : x G C}). We have shown that (—77, 77) C C C [—77, 77]; that is, the only possibilities for C arc (—77, 77), (—77, 77], [—77, 77), and [—77, 77], as desired. R eal A nalysis, A Long-Form T extbook 349 Proof. This is Exercise 9.30. □ 1 + X + ,T2 + X3 + • • • Properties of Power Scries9.7 Theorem . 1 1 -x 00 Table 9.3: Properties of ailxk k=l Each sn has property? Continuous Bounded Uniformly Continuous Integrable Yes Yes Yes Yes oc If converges uniformly, k=i to f, must f satisfy property? Yes, by Proposition 9.8 Yes, by Proposition 9.1(1 Yes, by Prop 9.12 and Ex 9.6 Yes. by Proposition 9.16 A-(-t) = akx k on some [-c,c] have the below property uniformly on In the following table, we are considering functions fyfy:) = ak.rk on some closed interval [-c, c]. This allows us to apply Theorem 9.30 and the results from Table 9.2 oo to learn properties of f k. fc=0 When is that guaranteed? Turns out the answer has to do with compact, sets. For simplicity, though, in the below we will state it just in terms of closed intervals. Theorem 9.30 (P.S. converges absolutely at c => uniformly on [-c.c]). If a OO power series converges absolutely at some ato € R, then it converges the closed interval [ - |xq|, fy'ol]- It is worthwhile to note that even if you know that a power series converges uniformly on any closed interval within the interval of convergence, that does not imply that it converges uniformly on the entire interval of convergence. For example, the following geometric series converges (but not uniformly) on its interval of convergence. (-M): Chapter 9: Sequences and Series of F unctions350 •A:;?-1 integrable function of the a X. □ Theorem. A dx Needs justification oo akxk = lim n->oo lim n~>O O (ii) If [a, 5] C (—72, 7?), then the power series is an variable x on [a, &], and (i) If I? > 0, then the power series is a differentiable function of the variable x on the domain (—R, R), and \\ OO z 7 k=0 x rb / 00 / |52afc' Ja \\A=0 / »n dx J a oo Theorem 9.31 (Derivatives and integrals of P.S.). Let be a power series with radius of convergence R. Note that the above table is somewhat redundant. Since the power series was only defined on a finite, closed interval [—c, c], once we deduced that it was also continuous we immediately got that it was also bounded (Corollary 6.31), uniformly continuous (Proposition 6.40) and integrable (Theorem 8.16). \\ oo ■xk ] = ^2 k —0 - a fc+1 Derivatives and Integrals of Pow er Series Are power series differentiable and integrable? The answer is nice it says you can differentiate or integrate term-by-term, just like with (finite) polynomials - but the proofs (given what we have developed thus far) would be long and tedious. Therefore I will tell you the answer and give a quick sketch of one of the proofs, but that’s it. /•ft = / lim sn dx . Ja n->o° Proof Sketch. Here is a quick sketch of how (ii) is proved, ft \" 'b . ulxJ dx = lim a^x dx — JI-too a^xk dx R eal A nalysis, A Long-Form T extbook 351 New Power Series from Old9.8 1). with interval of convergence (—1,1). By replacing “x” with ( ) We can x2 We also find a power series for — 1 by subtracting 1 from both sides of ( ): (1 + a:3 + x6 + a:9 + ...)-!- 1 -l = x3+x 6 + x9 + .... (1-a:3) her (I dx = 1+x 3 + (x3)2 + (x3)3 +... = 1 + x3 4-x6+ x9 + ..., 3x2 (1 - x3)2 1 i ---1-- = 1 + x + x2 + x3 + . . . 1 — X 1 1 — X3 1 1 1 — X3 d dx - (1 — x3)-2 • (—3x2) 3x2 (1-x 3)2' I hat cat symbol above was designed by my former student, April Loyd, who used it as end-of-proof symbol. She graciously let inc use it in this book. a new power series. A power series representation can be obtained in the following way. First note that Theorem 9.31 affords us a valuable tool to turn old power series into new power series. Indeed, some of the most important power series can be obtained by manipulating geometric: scries using this theorem and some algebra (technically justified by the limit laws). The next example is a growing collection of such series. Exam ple 9.32. By the geometric series test (Proposition 4.9. with r = x, a Finally, we can use calculus to find of /(x) = which4 is a new power series with interval of convergence (-1.1). x2 now find a power series for------ 7 (with the same interval of convergence), 1 — xJ simply by multiplying both sides of ( ) by x2: = x2(i + x3+ xg+ x9+...) - 'L = x2 + x5 + x8 + x11 + . . . . . ” we get Chapter 9: Sequences and Series of F unctions352 This is helpful since we already showed that = 1 + a3 + a6 + a9 + .... Differentiating both sides (term-by-tenn, by Theorem 9.31), (l + ^3 + a.6 + 3.9+ ) = (0 + 3a2 + 6a5 + 9a:8 + ...). Here’s one more that uses calculus. Example 9.33. Find a power series representation of /(a) = In |1 — a3|. In |1 - a3| .dx Then by Example 9.32, = 1 + a3 + a6 + a9 + ... -3a 2 □which is a power series of In jl — a3|. 3a12 12 power series representation of convergence (—1,1)). Solution. We will make w-substitution dx d dx (which still has interval of □ 3^ 9 3a-2 (1 - a3)2 1 1 — a3 ( 1\\ 1 — X3 ) 3a;2 (1 - a3)2 use of Example 9.32. The key is to first note is that (via Corollary 8.35 with w = 1 — a3) /' —3a2 ./ l 77^ 3 Thus we have a 1 1 — a;3 Q * = -3a 2 (1 + a;3 + a6 + a9 + ... ) = -3a 2 - 3a5 - 3a8 - 3a11 - ... 1 — a3 —3a2 3 ...6 In |1 - a 3| = -a 3 - —3a2 — 3a5 — 3a8 — 3a11 — ... ) dx R eal A nalysis. A Long-Form T extbook 353 where each a.). G R. Taylor and Maclaurin series9.9 r—|' iKtegsfflo ■ ■ Recall 9.35. The A:111 derivative of f is denoted oo /(•T) = 5? a^ x ~ c)k = ao + fl|(.T - c) + a2(z - c)2 + - C)3 + ... fc=o 00 jw = E fc=O oo ak^k = ao + a\\x + a^x1 + a:)-7’3 + • • • ■ k —Q for every x in some interval of convergence I centered at x = c. Seriously, if you haven’t yet, go watch that video. I know it sounds like I’m making someone else do my job for me, but Grant simply does it better than 1 could / W(c) fc! Power series centered at c We defined a power series to be of the form I strongly recommend you begin by watching an excellent video motivating Taylor series. It is a video from the inimitable Grant Sanderson, through his 3BluelBrown channel on YouTube. Here is a link to the video: https://youtu.be/3d6DsjIBzJ4. The video explains intuitively how, for “nice” functions, the function equals its Taylor series where it converges, and intuitively and visually why it does so. That is, Note that this power series is centered along the y-axis: the polynomials a0, aix, a2a;2, and so on are all symmetric about the ?;-axis or rotationally symmetric about the y-axis. What if we want our power series to be centered on some other vertical line, x = c? This is the idea of a “power series centered at c,” and as you’ll see in the following section, it is an important idea. (a:-co­ Definition 9.34. A power series centered at. c is an infinite series of the form Therefore what we earlier just called a “power series\" can also be called a ’power series centered at 0.” Chapter 9: Sequences and Series of F unctions354 (x-c )k. Here is an example of finding a function’s Taylor/Maclaurin series. find the Maclaurin series of /(a;) = cos(a:). It is evident that Definition. Definition 9.36. Assume /^(c ) exists for all k € N. The Taylor series of f about x = c is if k is odd, if k is even. /(a;) = cos(a;) f'(x) = - sin(.c) /\"(.-r) = — cos(:r) /'\"(s) = sin(a-) f^(x) = cos(.t) /f 5)(a:) = — sin(.-c) /(0) = 1 /'(0) = 0 /\"(0) = -1 /\"'(0) = 0 / 4>(0) = 1 / (5)(0) = 0 oo E k=0 / W(0) k! f™(c) kl Example 9.37. Here we 5 Named after Scottish mathem­ atician Colin Maclaurin, who was a pioneer in the field of analysis and, presumably, a pioneer in the art of rockin a dope afro: x 6 + .... 0, (-l) fc/2, So the Maclaurin scries for /(a;) = cos(a;) is ao = 1 ai = 0 “ 2 = a3 = 0 “'1 = F a5 = 0 (He was also considered the youngest professor in history, until 2008 when American materials scientist Alia Sabur claimed the crown 3 days be­ fore her 19th birthday.) oo E fc=0 If c = 0, then the series is called a Maclaurin series.5 hope to do it. Also, this is a topic where seeing animations of the ideas makes a huge difference, and his animations are top notch. You won’t be disappointed. Ok good. Now that you have watched his excellent motivation and developed some intuition, we will get into the formal development of this theory. First up is a definition that is truly Talyor-made. ,,.2 ...'1 ^ = 1-2! + ¥-6! 355R eal A nalysis, A Long-Form T extbook e1 to befind the Maclaurin series of </(z) = sin(x) and fi(x) and □ (x- C)fc. ^n(.T) = /(x)-T\" =c(/), oo E k=0 fc! Mfc>(0) fc! I 4 4-.... ^U/) = E fc=() By construction, the first n derivatives of T\"=l\\f) agree with the first n derivatives of f at the point .7: = c. They share a lot in common, but this degree-n Taylor polynomial is likely not equal to /, and in fact they differ by Likewise, one can Indeed, only nice functions equal their Maclaurin series. So what does \"nice\" mean here? Well, the formula itself requires that we are able to differentiate / arbitrarily many times; that is, they are infinitely differentiable. So “nice” certainly must include this property. And as you saw in the video7, if a function is infinitely differentiable, then t here is good reason to suspect that it might equal its Taylor series. However, that alone is not enough. What other properties are needed? Let's investigate. Define the Taylor polynomial of f of degree n at c to be It is worth underscoring that at this point we have wot shown that cos(.r) (or sin(x) or e®) actually equals its Maclaurin series. This will turn out to be true, but we still have work to do to show this.6 y^.9 (A:)(0) . a:3 x5 x ‘ ...2 ,r3 ^ = 1 + ^¥ + 3T-4! Among the many series that were discovered first by Isaac Newton, the series for sin(x) and cos(t ) were not two of them; Newton was beat by a couple hundred years, in fact. These scries were written down (in verse!) by Jyesthadeva and Niklakantha Somayaji in the early 1500s in Kerala, India. They in turn attributed them down Madhava of Sangamagrama from about a century before. 7I’m going to keep passive aggressively encouraging you to watch it, in case you haven’t yet. called the error function. And, as probably makes intuitive sense, f equals its Taylor series on I if and only if this error tends to 0 as n —> oc. (To emphasize, it s as n —> oo, not as x —> c. This is a subtle but important distinction.) Chapter 9: Sequences and Series of F unctions356 En(x) —> 0 pointwise.if and only if Proof. Fix any x. Note that And since this worked for any fixed x, we are done. □ Two forms of the error function En(x) Lemma. Theorem. Theorem 9.39 {Integral form of the error function}. Assume that f is infinitely differentiable in an interval I, and eg I. Then for x e I we have The proof simply to the limit of its partial oo /(*) = E fc=o lim n —>oo oo Ar=O / w (c) A:! / W (c) fc! / W (c) fc! comes down to remembering that a (numerical) series is equal sums. ; case highlights the important ideas, so here will show that Ei(x) = I (x — t}f\"{t} dt. J c = 1 Aa:-t)n/ tn+1)W^. 7?-. Jc Proof Sketch. The proof is by induction on n, and uses FTC and IBP. It’s fairly long and technical, but the {n = 1) base we just sketch that. That is, we i The principle way to determine whether a function f equals its Taylor series is by checking its error function and applying Lemma 9.38, and thus it is important to get as good a handle on this function as possible. There are several ways to express this error, but here I will mention two. We begin with an integral expression for it. (x — c)k (x — c)k (.r-c/- n /(.-r) = lim ^2 k=0 f{x) = lim T\"=c(/) n—>oo f(x) - lim 7?=c(/) = 0 n—>oo [/(.r) - T\"=c(/)] = 0 En(x) —> 0. Lemma 9.38 (f equals its Taylor series En —> 0). Assume that f is infinitely differentiable in an interval I, and ce l. Then for x & Z, 357A nalysis, A Long-F oi<m T extbookR eal To this end, first, note that by the definition of the error function, (x - c)k By the fundamental theorem of calculus, 'X This allows us to continue our above string of equations for Fi(x). — (/'(0 - /'(c)) (i - x) Ek+i(x) = Ej.(x) - Ex (x) = /(x) - T2=c(x) = /(x) - £ fc=0 = /(■'■) - /(c) - /'(c)(x - c) V = -(x - t) dv = dt k! It=c •x(t-x)f\"(t)dt, rx rx = /( f'&dt- f'(c)dt = / (/'W - /'(c)) dt j x-(x-t)f\"(t)dt = 0+ f J c as desired. This completes the base case, n = 1. The rest of the proof is by induction. By a little algebra one can show that Now we use integration by parts (f udv = uv - f vdu). In it, recall that when finding v from dv, we can pick any antiderivative. M = /'(«) - /'(c) du = /\"(/.) dt There is one more representation for the error function that we will discuss, and it is known as the Lagrange form, after its founder. The theorem says that at any particular point xq, / is equal to its (n - l)st Taylor polynomial evaluated at xq, phis the 7tth term of the Taylor series evaluated at some other nearby point. (k + l)l ' ’ Using this, the inductive hypothesis, and one more application of integration by parts, one can finish the proof. Chapter 9: Sequences and Series of F unctions358 (®o - c)n.+ That is, j3n-ifr0) (a.'O - c)”, for some an between Xg and and < En-i(x0) < < Theorem. /n —\\ f&o) = 152 \\A—0 Since m < f^n\\t) < M, by the integral form of the error function (Theorem 9.39), •®o fro - t)n-1 dt < En^i(x0) < k! M (n-1)! And by integrating the left and right sides of the inequality, M(x0 - c)n n! f (n)(an) n! m(.To — c)n nl _ / (Tt)(q„) n! m(a;o ~ c)n n\\ m.{xg - c)n < f^(t) ■ fr0 - c)n n! ~ n! on this interval, and it achieves these bounds. Therefore by the intermediate value theorem (Theorem 6.38), there must be some an between ,-r0 and c for which js equal tQ the number En-i(x 0), completing the proof. Theorem 9.40 {Lagrange form of the error function). Assume that f is infinitely differentiable in an interval I, and c e I. Then for any other xg € I there exists some an between xg and c (which depends on xg and c and n) such that The proof follows from the integral form of the error function (Theorem 9.39), but also make use of two other important theorems from earlier in the text. Note that, as n -» oo, the {xg - c)n term is growing at the rate of an exponential function, while the n! in the denominator is of course growing at the rate of a factorial. M = inf / (n)(t). «e[c,xo] m r {n - 1)! ,/c rn = inf / ”>(£) tgfc.Zo] {Xg -c) k We know that / (\"^(t) is a continuous function on [c, To], it is bounded by m < f M {t) < M on this interval, and it achieves these bounds. By simply multiplying by the positive constant , we see jbat —— is also a continuous function on [c, a?o], it is bounded / {xg — t)n~ 1 dt. J c CJL< Proof. Assume, without loss of generality, that c < .i'o- Since fW is differentiable (and hence continuous) on [c, itq], by the extreme value theorem (Theorem 6.32) it attains its supremum and infimum. Set 359 9.10 A beautiful application I®) E n (■-'■•()) I En (.-/:0) | < <e\". This already gives an x = 1 into the above. sin x = x — 3! ex = 1 + x + — _ h(\"+1>(a„+1) ~K+ 1)! for some a„ +i between xn and (). This in particular means that |q„+1I < d. and since also |/i<\"+,)(a„+i)| = e“n+i < ed, (x0-c)n+1 ^2^ m T extbookR eal Analysis, A 7**^ 7'4 7*^’ X~ e’ =1+l+ 2! + 3! + 4l+ S + a +7!+'- amazing result. And when you plug Recall that in a! ipk, 9.37 we noted that cos(x), sin(x) and e* have the following Maclaurin scries. b . X x4 r8 T10 cos x = 1 --------1----- — i _ __ * 2! 4! 6! + 8! 10!+ ” a:3 a:5 ;i.7 x9 3! + 5! “ 7?+ 9! ■ - s 2 a;3 a:4 .t5 ,r6 x 1 ~ ' 2f+ 3! + 4! + 5I + 61+7I+-'- One can also prove the above really are equalities that is, these three functions do indeed equal their Maclaurin series. The fact that cos(.t) does was argued in the video that I trust, by now I have pestered you all to watch, and the fact that sin(r) does is very similar. To see that /r(a.) = ex does, pick any interval [-d,d]; we will prove that the error function converges to 0 on this interval. For any :r0 g [~d,d], by the Lagrange form of the error function (Theorem 9.40), (^W +1 And since factorials grow faster than o ■ not converge to zero is if the xponentlals> only way that this error does Onc particular conclusion tha* “ \"* fel |/<\">(a„)| < V for all x 6 /, £ . 1 t” '” ' \"• \" h™ 9.38, f equals is Taylor series on I \" pointwise on I. and hence by Lemma dn+l ------ — -> 0 as n -> x, (n +1)1 since factorials grow faster than exponentials (or by looking at the ratio of consecutive terms). And so the error function does indeed tend to 0 on [-</.(/]. Moreover, since d was arbitrary, the error function tends to 0 on all of R. And hence, by Lemma 9.38, the ex function does indeed equal its Maclaurin series, as asserted: Chapter 9: Sequences and Series of F unctions360 e - — + Pulling out an i, an i and which do not. That is, you learn that this crazy number e - which pops up all over the place, from probability to statistics to calculus to asymptotics to economics has a remarkable expression: Moving the —1 to the left gives one of the most remarkable equations in history, known as Euler’s identity, a single equation that simply and beautifully combines perhaps the five most important constants in all of mathematics: 0, 1, e, tt and i: e™ = cos tt + i sin tt ei,r = (—1) 4-z(0) e\" = -1 - , , 1 1 1 1 1 1 e = 1 + 1 4------ 1------ 1------ 1------ 1------ 1------ (-.... 2! 3! 4! 5! 6! 7! But don’t pack up just yet; there’s still more gold out there. We now have three new expressions for our old friends, cos(a;), sin (a:) and ex. In fact, when you take complex analysis you will learn that this expression for ex even holds for complex values! The imaginary number i has probably been defined to you as T; that is, it has the special property that z2 = -1, and hence z3 = -z, z4 = 1, z5 = z, and so on. Plugging in ix to the Maclaurin series of ex gives this: •ix = 1 + ix + ^■7:)2 , , (is)5 (is)6 (ix)7 2! 3! 4! 5! 6! 7! -/“a:2 i3x3 z4a;4 z5x5 z6a:6 i7x 7 = 1 + ix 4----- — 4--------- 1--------- 1----------1----------1--------- p ... 2! 3! 4! 5! 6! 7! , . . x2 ix3 x4 ix5 a:6 ix7 = 14- za;----------------- 1------- 1-------------------------1- 2! 3! 4! 5! 6! 7! We now regroup based on which terms contain etx = cos a: 4- zsina;. Once again, you might be packing up your bags, thinking things can’t get any better than this. But hang tight, because there’s one more value to plug in. Watch what happens when we set x = tt: ,r2 „4 „.6 ...3 ...5 7 77 ’ / H •I' ■ <- .tz . . •*> •*-' »*' \\ e =(I-2i+ IT\" + 3i+ 7T-). and suddenly the Maclaurin series for sin(:r) and cos(a:) from (@) appear! The above is equivalent to ix x2 x4 a,-6 , . ix3 ix5 ix7 . r eal A nalysis, A Long-F orm T extbook 361 Notable Exercises — • Exercise 9.30 essentially says that power series always converge in a region centered at 0. It does this by asking you to prove that if a power series converges at a point x0, then it in fact converges on the closed interval [ - |x0|-|^o|] - . Exercise 9.11 asks you to prove the Cauchy Criterion for Uniform Convergence-. Let f n : A -> R. The sequence (/n) converges unifonnly if and on]v if for every e > 0 there exists some A g N such that |/m(x)-/„(z)| < e for all m, n > N and all x g A. As with numerical sequences from Chapter 3, the advantage to a Cauchy- criterion is that yon can show something is converging (uniformly) without knowing what it converges to. Chapter 9: Sequences and Series of F unctions362 Exercises Exercise 9.1. Let/fc(a:) Exercise 9.2. Let = xk = argued that f/. —> f pointwise. Prove that /j. -/> f uniformly. [0,1]- ,2fc (0) /fc(x-) = (d) A(:r) = [a, 6] (b) If /fc —> f uniformly, must f be unbounded? Either prove that f must be unbounded or give a counterexample. (a) If fk —> f pointwise, must f be unbounded? Either prove that f must be unbounded or give a counterexample. 0 1 ex & if x e [o, 1), if x = 1. .rsin(a;) k on [0,10]. Prove that (/*,) converges uniformly. In Example 9.6 we (a) = v^, on on [0, oo). on [0,1], and let , on (1, oo). Exercise 9.9. Give an example of a sequence (/*) of integrable functions on for which fk f pointwise, but yet f is not integrable. on [0,1]. Exercise 9.6. Assume that, for each k G N, the function : A —> R is uniformly continuous. Also assume that f k -> f uniformly. Prove that f is uniformly continuous. (c) = xk - x ‘ 2kx 1 + k + 3:c Exercise 9.4. For each of the following, determine the pointwise limit of (/*,) on the indicated interval, and state whether the convergence is uniform. You do not need thoroughly to prove your answers, but give a brief justification for your answer. Exercise 9.3. Let fk(x) = x/k on R, and let f(x) = 0 on R. Prove that (/*,) converges pointwise to /, but does not converge uniformly to f. Exercise 9.7. Give an example of a sequence (/fc) of discontinuous functions, each defined on a domain I, for which f k -> f uniformly, for some continuous f. Exercise 9.8. Complete Example 9.13 by showing that the f k and f given in that example have the property that f k —> f uniformly. Exercise 9.5. Assume that, for each k (E N, the function f k : A —> R is unbounded. A nalysis, A Long-F orm T fR eal [j^'BOOK 363 Exercise 9-10. example of _4n. then fk also Suppose f k or give a counterexample. Suppose f k not converge uniformly on R. each of the sets j4i,42, Ua. i=l above does not necessarily hold for countably y /(•'■) dx J pointwise and gk -4 g pointwise, both on a .1 uniformly and gk -4 g uniformly, both on a / fk(x) dx -4 ■Io pjx.vx’-*— - ’ Give an example of [a, b] for which f Pointwise, and f js . 1'1‘;nce of integrable functions on ^ofa * y /(./ ) d.r. auchy Criterion for Uniform Convergence: Let converges uniformly if and only if for every ■ > 0 • ) ~ /nMI < E for all m.n > N and all Exercise 9.11. fk . A -4 R. The sequence (fk) there exists some TV e N such that x & A- Exercise 9.12. (a) Prove that if /t —> f uniformly on converges uniformly to f on the set Exercise 9.13. domain 4 Q R. (a) Prove that (fk + (Ik) -> (/ + g) pointwise on A. (b) Docs (fk ' flfe) -> (f ■ g) pointwise? Prove Exercise 9.14. domain A C R. (a) Prove that (fk + <jk) -4 (f + g) uniformly on A. (b) Do( s(/fc <ik) > (./ fl) uniformly? Prove or give a counterexample. (b) Give an example to show that the many sets Ai. Exercise 9.15. Give an example of a sequence (fk) of functions where (i) (fk) converges uniformly on [-10,10], and (ii) (fk) converges pointwise on R, but does Exercise 9.16. By Proposition 9.16, if fk _> f uniformly on (a, t] and each fk is integrable on [a, b], then J(j f k(x) dx -> j^f(x)dx. We also showed in Example 9.6 and thereafter than fk(x-) = :rf does not converge uniformly on [0,1]. In this exercise, prove that, uniform convergence is not a necessary condition for the convergence of a sequence of integrals by showing that if fk(x) = xk on [0,1] and / is its pointwise limit, then Chapter 9: Sequences and Series of F unctions364 (ii) fk f pointwise; and (iii) f(ak) /(a). Suppose (//;) is a sequence of functions Exercise 9.20. e for all n > m > N and all x € A. Exercise 9.22. of (a) Explain why the property “each fy is bounded” is different than the property “(/fc) is uniformly bounded.” k=ni (b) Give an example of a set A and a sequence (/*,-) for which each is bounded on A but the sequence (/j.) is not uniformly bounded. (b) Give an example to show that this fails if we and not uniformly continuous. (a) Suppose that f : R —> R is uniformly continuous, and define a sequence functions by f n(x) = f(x + £). Show that (/n) converges uniformly to f. assume only that f is continuous Exercise 9.21. Prove the Cauchy criterion for series of functions. That is, let oo /k : A —> R, and prove that the series fk converges uniformly on A if and only if fc=l for every e > 0 there exists some N g N such that Let fy : A —> R. A sequence of functions (/<,) is said to be uniformly bounded if there exists some C e R such that |/fc(a:)l < C for all fee N and all x e A. Exercise 9.17. Given an example of (1) a sequence of functions fy on [0,1], (2) a function f on [0,1], and (3) a sequence (at) where each ay € [0,1] an ay —> some a, such that the following conditions hold. (i) Each fy is continuous; Exercise 9.18. Suppose (fy) is a sequence ol functions on [a, 6], cac i o w monotone increasing. Suppose further that fy —> /, f°r some J on [u, ]• rov f is monotone increasing on [a, b]. Exercise 9.19. Give an example of a sequence (fy) of functions on [0, ], cac which is discontinuous at every point in [0,1], but which converges uni orm y continuous function. 365 Exercise 9.23. tan '(x). Use this in the following. (a) Show that, for tan = following series converge uniformly on the given Exercise 9.25. Exercise 9.26. Exercise 9.27. Prove that the series Exercise 9.28. on a oo (a) 52 fc=l [2, oo). You may use the fact that lim ^2 = 1. z->0 I Exercise 9.24. Show that the interval. sin(fc2.r) fc2 Prove that if the on [-10,10], converges uniformly on Give an (-1,1), on (—oo, oo). Recall that j OO it follow that Affc converges? fc=i real A nalysis, A OG Prove that the series function f : R —> R. fc=1 OO series of functions //,. converges uniformly on a set A, then the sequence of functions (/,) converges uniformly to 0 on .4. 00 example of a series of functions /i- on some set A k=l which converges uniformly, but. for which the Weierstrass Af-test fails. Exercise 9.29. Determine whether the following converse to the Weierstrass Af-test holds. Suppose that (J).) is a sequence of nonnegative, bounded function OO set A, and let M). = sup ({A-(x) : a: g A}). If fk converges uniformly on A, does k=l k2 + x4 2 converges to a continuous 1 r x3 x5 x1 x —-----1------------- 1-3^5 7 + \" ” (b) Use part (a) to find a series expression for tt. Chapter 9: Sequences and Series of F unctions366 Exercise 9.31. = 1 + 1.?; + 2z2 + 3z3 + 5.t‘* + 8a:5 + ■ • • converges for |.?:| 1/2. (c) Prove that for |t | 1/2 the power series in the previous part converges to /(*) = (d) Use partial fractions to obtain another power series for /(.c). kn the strange beauty of the formula from the previous part. (b) g(x) = cos(2a:) about (c) /i(a.) = a:3 about x = 2. 1 “ fc = ~f= v5 (cl) s(x) = about x = 0. (e) t(x') = y/x about x = 9. (f) u(x) = £ about x = 4. (a) Show that for every k G N the inequality < 2 holds. (b) Show that the power series Exercise 9.33. Find the Taylor series for the following functions about the given point. 1 /5 1 + 2 -1 x 2 + x — 1 oo 22 akx‘ k=l (a) /( t) — sin(a:) about x — 0. x = tt/6. (f) Reflect on (e) The two power series must be the same. Conclude that Exercise 9.32. Recall that the Fibonacci sequence 1,1, 2,3,5,8,... is defined by ci U2 ■ 1 and = a^k-i + 2* oo Prove that if a power series akxk has the property that A:=0 0 < m < |afc| < M < oo for some m and M, and for all k, then the power series has a radius of convergence of 1. OO Exercise 9.30. Prove that if a power series 22 akx>i converges absolutely at some fc=o x0 G R, then it converges uniformly on the closed interval [ — l-'Eol> l^ol] ■ 367 nd ex to show that and cos(x) and Sn(l)where 0 3 (n+1)! • contradiction that l + ... + l + En(l), ^ sinW d ^cos(x) = - sin(I ). hi this exercise you will prove that c is irrational. n., Exercise 9.37. (a) Show that for any e = e 1 Exercise 9.35. Use. the Maclaurin series expansion for e1 to show e'e9 = ex+®. Exercise 9.36. Let f{x) = ln|x-f- (a) Find the Maclaurin series for /. (b) State where this series converges. (c) Use this to find a series representation for ln(2). (b) Assume for a 1 Tl + - - 1 ■ 1 b ~ ' 1! Since this holds for all n, pick an (c) Multiply both sides of the above must be an integer. Then explain why this is’this ^(^fa nd !4t\\sh<?w that<>re,n 931 the 1Maclaurin expansions for sin(x), £-ex = dx e — a/b, for some a, b G N. That is. 14-1.1, 1 1 1 1! 2! + 3! + 4!+ ’” + d +£,,(1)- n so that the rest of the proof works out. by a.!. For your chosen n, argue that n!En(l) „ -- _...j a contradiction. 2i + l RgALANALYSIS’ A LOH C-FO KMTgT ^ Chapter 9: Sequences and Series of F unctions368 Open Questions What is a oo Question 1. Assume that /(a;) := afc.'rfc is convergent for all x. fc=l necessary and sufficient condition on the sequence (at) for f to be function?8 a bounded Question 2. Let R(x) — where P(x) and Q(t) arc polynomials with integer ' ‘v coefficients and Q(0) 0. Is there an algorithm that, given P(a-) and Q(x) as input, always halts and correctly decides if the Taylor series of R(x) at a: = 0 has a constant coefficient of 0? 8As two examples, note that if all but finitely many of the a/^are zero, then f is a non-constant polynomial which is certainly unbounded. However, if (i-L = * j.,’ for odd k and a* = 0 for even fc, then /(x) = sin(x), which is bounded. As you can see, there has to be some intricate cancellation occurring to achieve boundedness. Appendices 369 Appendix A: Construction of JR 371 “Far out in the. uncharted backwaters of the unfashionable end of the western spiral arm of the Galaxy lies a small unregarded yellow sun. Orbiting this at a distance of roughly ninety-two million miles is an utterly insignificant little blue green planet whose ape-descended life forms are so amazingly primitive that they still think digital watches ate a pretty neat. idea. This is how Douglas Adams began his classic book The. Hitchhiker's Guide to the Galaxy. He began its sequel, “The story so far: In the beginning the Universe was created. This has made a lot of people very angry and been widely regarded as a bad move.” Douglas Adams can certainly set a tone. “It was a pleasure to burn is the first sentence of Ray Bradbury’s Fahrenheit 451. “I’m pretty much fucked” is the start to Andy Weir’s The Martian. And. \"All happy families ate alike, each unhappy family js unhappy in its own way\" is how Leo Tolstoy began Anna Karenina. If the first chapter of the Harry Potter scries were a dry introduction to wand movements and cauldron thickness, few would read on. Yes, the spells and potions rely on those details, but it’s not where the magic really is. Therefore J.K. Rowling s first chapter contained exhibitions of magic, mention of a dark wizard so terrifying that most feat to speak his name, allusions to this wizard's sadistic reign which mysteriously and abruptly just ended, and a significant baby bov, dropped on the doorstep of the least magical people possible. Lots of questions, few answers. Whete am 1 going with this? The material in Appendix A is the 'wand movements’ and cauldron t hickness part of real analysis. The spells and potions we developed in t his text rely on the foundational aspects we are about to discuss, but if 1 started t he book with them yon might have fallen asleep before Chapter 2. And just like how, after reading (atrd rereading1) the books, hardcore Harry Potter fans crave to know the small but fundamental — details about the world they entered, perhaps rrow you will be motivated to learn the underpinnings of the world of real analysis. Everything we proved relied on the existence of the real numbers. They needed to be there and to have the properties we discussed, atrd the rigor of mathematics demands we don t simply assume their existence. Which axioms are necessary to give us the world we want, and why? Doing this thoroughly (in long-form style) might take .>() pages, and even hardcore analysis fans would likely fall asleep. This appendix is just a 7 page sketch of it. Its goal is simply to illustrate for you the meticulous process which needed to be done to formally begin the theory of real analysis.2 'And rerereading And to make you appreciate tire brave soul who took one for the team, and painstakingly did it. Appendix A: Construction of R372 A.l Axioms of Set Theory R = {.v: : x $ x}. 2. 3. 4. 5. I It is hard to get more simple than the notion of a set, but the mathematical world did a double take in 1901 when Bertrand Russell discovered a paradoxical set. Recalling that the elements of a set can themselves be sets, he considered the set are sets, there exists a set which contains A and on their shoulders the reals are built. 1. Axiom of extensionality: Two sets are equal if they have the same elements. Axiom of regularity: Every non-empty set A contains an clement B such that A and B are disjoint sets. Axiom schema of specification: You can create subsets using set builder notation. Axiom of pairing: If A and B B as elements. 7. Axiom of infinity: There exists 8. Axiom of power set: For any set A, there is a set B that contains every subset of A. a set having infinitely many members. Symbolically, there was no reason to disallow such a set definition, but yet you can work out the strange contradiction that R g R. if and only if R $ R; indeed, if R is not a member of itself, then according to its definition it must be a member of itself, and if it does contain itself, then it contradicts its own definition.3 When mathematicians reach a logical impasse, they often trace their reasoning backwards; the longer they trace, the more nervous they get, as they fear for the foundations of their field. These nerves caused some great mathematicians of the early twentieth century to rework set theory from the ground up. In the end, Zermelo- Fraenkel+Choice set theory (ZFC) was born nine axioms for the field of set theory, and in turn for much of mathematics. 9. Axiom of Choice:'1 First, a choice function is a function /, defined on a collection X of nonempty sets, such that for every set A in X, f(A) is an element of A. Now, the axiom is: For any set X of nonempty sets, there exists a choice function f defined on X. These are the axioms of set theory, and 3 A classic riddle works along the same lines: “A barber cuts the hair of everyone in his town who does not cut their own hair. Docs the barber cut his own hair?” ’Axioms 1-8 you probably think are completely obvious and fair to assume, while Axiom 9 is a bit confusing. Indeed, due to its less-than-painstakingly-obvious stature, it has been blamed for all the paradoxical-sounding theorems of set theory the final example in Appendix B, most notably. Axiom of union: You can take union over the elements of a set. (E.g., the union of the elements of the set {{1,3}, {3, ©}} is {1,3,©}.) 6. Axiom schema of replacement: Given a function f whose domain is a set A, f(A) is also a set. R eal Analysis, A Long-Fokm T extbook 373 A.2 Constructing N ■S'W ifn < m n g in. 3 since it is true that {0} 6 {0, {0}. {0. {0}}}. We now have an x U {z}. we get a collection of sets which are going to represent 0 = 0 1 = {0} = {0} 2 = {0,{0}} = {O,1} 3={0,{0},{0,{0}}} = {O,1,2} 4 = {0, {0}, {0, {0}}, {0. {0}, {0, {0}}}} = {0,1,2,3} We define No to be the set of all these numbers (represented as sets). Of course, the natural numbers are not just isolated objects that we need to make up representations for they also have an order to them and an algebraic structure. Beginning with the former, if we are going to describe the natural numbers as sets, we must also describe what “n < m” means in terms of these sets. One reason why the naturals were constructed like the above is that it is now easy to describe their order. Notice how, as sets, each number (represented as a set) is an element of each later number (represented as a set). Indeed, we say For example, 1 ordering on Nq! Another important property of the numbers in N() that we need to capture is that we can add them together. How should we define the addition 2 + 5 by using only the tools of set theory applied to the sets representing 2 and 5? This one is a little more complicated to write down, but the basic idea is to think about um + n\" as m + 1 + H ------ El, where you have n copies of 1. With this frame of mind, “m + n” is defined to be 5(5(5(... S(m)...))), where you apply the successor function n times. The only problem being that, at this point ‘n’ is a set, so “n times” doesn’t make sense. Instead, we must create a recursive function 5„ that equals a composition of In the naturals, the successor to 0 is 1, and indeed we are going to represent 1 as the set 5(0) = 5(0) = 0 U {0} = {0}; note that this equals {()}. Then. 2 is going to be represented as the set 5(1) = 5({0}) = {0} U {{0}} = {0- {0}}; note that this equals {0,1}. Continuing in this way, the natural numbers for us. Everything we build is going to rely on nothing more than the axioms of set theory. Indeed, we begin by constructing the natural numbers which are themselves sets. We represent the number 0 as the empty set, 0: this may seem weird, but bear with me here. We then define a successor function Sir) of a set x to be the set Appendix A: Construction of R ned to be Sn(m). pages proving the following, where m,n,k G Nq. ’ ) + (m • k) < n + k hen k ■ m k • n hen m < k owing holds: m n, m = n, or n < m. ning to really lean into the fact that this is a “sketch” of •ties like the above are a pain and a half to prove, and I)jX without making a typo. But, it can be done. Si(x) : S(x) 5’2 (a:) := 5(5(a:)) 53(.t) := 5(5(5(x))) S4(x) := 5(5(5(5(x)))) 55(x) := 5(5(5(5(5(x))))) proudly claim to have shown that (No, +, <) is what is Phis is a completed construction of the natural numbers 'ays to go. An ordered semi-ring is good, but to remove ative numbers. ve define n ■ 0 = 0, and for other multiplication problems so an addition problem by defining n ■ (m + 1) = 71 ■ zn + zi. n + k) R eal Analysis, A Long-Form T extbook 375 A.3 Constructing Z rn + ( k + n.if and only if(fc,0(m, n) [m - n] + [A: - := [(m + k) — (n + ()] [m - n] • [fc - f) : [(m • k + n • f) - (m • I + n • fc)] [m — n] < [A - f'| if and only if m + t < k + n One would then prove that this is indeed an equivalence relation. To make it easier to read along, though, let’s write the ordered pair (m.n) as [m - n], This will vastly help one follow along -just don’t forget that these are technically ordered pairs, and that minus sign is just notation. Of course, one would have to formally prove that ~ does indeed form an equivalence relation.. . but it docs. You can also do a mental check that the following make sense as definitions of addition, multiplication and ordering. Define the following,5 Axiomatically, Z is the smallest ordered ring (containing a copy of No). but to construct it explicitly, it suffices to introduce subtraction. The difference between two numbers is going to have to be something new that breaks the mold established by the successor function. Indeed, we define the difference “m - n” simply to be the ordered pair (m, n) £ No x No- If we stopped here, we would have the problem where we would consider “6 - 2” to be different from “7 - 3”; after all, as ordered pairs (6.2) and (7.3) are certainly different. To get around this, we define an equivalence relation on ordered pairs, where we want (m,n) ~ (k.f.) provided “m — n = k - I: But since we haven’t defined subtraction yet, we move the ‘n’ and ‘f over, giving the condition we want: m + £ = k + n. That is, we say But here, the plot annoyingly thickens again: Given that [m - n] represents an entire equivalence class, for our definitions of “+’, and *<’ to be well-defined they have to be playing nicely with this equivalence relation. The proofs of these are actually reasonably short (under a page for all three), but are enormously boring and so we will again skip them. Negatives also distribute, so we define -[m-n] to be [n - m]. Moreover, we can simplify our notation of these elements, by defining n : [n - 0]. The set of all such n we define to be the set of integers, Z. Then, for instance, we can say n is positive if n > 0. And is negative if n < 0. Moreover, one can prove that every non-zero integer is cither of the form m or — m, and that multiplication handles the signs as expected. And. finally, at this point one could struggle through a 3-page proof that (Z, +.-,<) satisfies the additive, multiplicative and order properties to be an ordered ring. And with that, it has been fully sketched how to construct the integers. “Technically it’s an abuse of notation to cavalierly reuse *+’, and *<’ without ensuring that doing so is consistent with our previous uses of it... but with some elbow grease it does work out. 374 Appendix A: Construction of R ‘n ’ successor functions. Then, “m. + n” can be defined to be 5n(m). • m + n = n + m • n + 0 = n • m • n = n • m • n • 1 = n • If m < n, then m + k < n + k k, then k ■ m k • n• If m • If m < n and n < k, then m < k • Exactly one of the following holds: m < n, m = n, or n 771. One can • m ■ (n + k) = (m ■ n) + (m • fc) n and (J As you’ll see, I am beginning to really lean into t he fact that this is a “sketch” of how to construct R. Properties like the above are a pain and a half to prove, and even harder to type up in JATj^X without making a typo. But, it can be done. Once completed, you can proudly claim to have shown that (No, +, -, <) is what is called an ordered semi-ring. This is a completed construction of the natural numbers (and 0), but we still have a ways to go. An ordered semi-ring is good, but to remove the “semi,” we construct negative numbers. ^’i(3;) : - S(x) S2(x) := S,(S’(a:)) W 5(S(5(z-))) W : 5(S(S(S(.7;)))) 5r,(:c) := 5(S(S(S(S(x))))) As for multiplication, we define n • 0 = 0, and for other multiplication problems we iteratively turn them into an addition problem by defining n ■ (m + 1) = n • m. + n. • (m • n) ■ k = m ■ (n ■ k) then spend 15 pages proving the following, where m,n,k € No. • (m + n) + k = m + (n + k) R eal Analysis, A Long-Form 7 extbook 375 Constructing ZA.3 if and only if m + £ = k + n.(m,n) ~ (fc,£) elbow grease it does work out. [m - n] + [fc - £] [m - n] • [fc - £] '• [m — n] < [fc - £] if and only if [(m + k) - (n + £)] [(zzz. ■ k + n ■ (.) - (m ■ ( + n ■ fc)] m + f < k + n But here, the plot annoyingly thickens again: Given that [zzz - zz] represents an entire equivalence class, for our definitions of *+’, and *<’ to be well-defined they have to be playing nicely with this equivalence relation. The proofs of these are actually reasonably short (under a page for all three), but are enormously boring and so we will again skip them. Negatives also distribute, so we define -[zzz - zz] to be [zz - zzz]. Moreover, we can simplify our notation of these elements, by defining n : [zz - ()]. The set of all such n we define to be the set of integers, IL. Then, for instance, we can say n is positive if n > 0. And is negative if n < 0. Moreover, one can prove that every non-zero integer is either of the form m or — m, and that multiplication handles the signs as expected. And. finally, at this point one could struggle through a 3-page proof that (Z, +,-,<) satisfies the additive, multiplicative and order properties to be an ordered ring. And with that, it has been fully sketched how to construct the integers. 5Technically it’s an abuse of notation to cavalierly reuse and •<’ without ensuring that doing so is consistent with our previous uses of it... but with some elbow grease it does work out. One would then prove that this is indeed an equivalence relation. To make it easier to read along, though, let’s write the ordered pair (zzt.zz) as [zzz - zz], This will vastly help one follow along just don’t forget that these are technically ordered pairs, and that minus sign is just notation. Of course, one would have to formally prove that ~ does indeed form an equivalence relation.. . but it does. You can also do a mental check that the following make sense as definitions of addition, multiplication and ordering. Define the following,5 Axiomatically, Z is the smallest ordered ring (containing a copy of Hn), but to construct it explicitly, it suffices to introduce subtraction. The difference between two numbers is going to have to be something new that breaks the mold established by the successor function. Indeed, we define the difference “rn - n\" simply to be the ordered pair (m, zz) G No x No. If we stopped here, we would have the problem where we would consider “6 - 2” to be different from “7 - 3”; after all, as ordered pairs (6,2) and (7.3) are certainly different To get around this, we define an equivalence relation on ordered pairs, where we want (m,n) ~ (M) provided “m - n = k - £.” But since we haven’t defined subtraction yet, we move the ‘n’ and *£’ over, giving the condition we want: m 4- p = k + n. That is, we say Appendix A: Construction of R376 A.4 Constructing Q (m, n) (k,e) if and only if G • [m/n] ■ [k/£] [m ■ k / n. ■ £\\ \\k/£] if and only if m ■ £ < k ■ n• [m/n] [m/n] 1 : = abuse of notation. work out a long proof that (Q, +, •, <) satisfies the algebraic ordered field. And with that, Q is constructed. And, finally, one can properties to form an [n/m] if m > 0; [—n/ — m] if m < 0. 6Again, with an m ■ £ = k ■ n. One can again prove that this is an equivalence relation, and then can define <Q to be the set of all such equivalence classes. Again, to make it easier to read, we will write the ordered pair (m,ri) as [m/n], understanding that this is just notation. You can check by rewriting them as fractions that the below definitions make sense.' Once again, we are applying a definition to an equivalence class but only stating the definition via a representative of that class therefore one must prove that the above operations are well-defined. (Spoiler: They are.) This set contains a copy of Z, where you identify [n/1] with n. One can then define positive and negative numbers similar to before, and the additive inverse of [m/n] is [—m/n]. The multiplicative inverse (for “non-zero” classes) must be defined a little more carefully, since we demand that any negative sign be in the numerator (which is the first coordinate of the ordered pair and in the bracket notation). • [m/n] + [A:/£] : [(m • £) + (A: ■ ri) / n ■ £] Axiomatically, Q is the smallest ordered field (containing a copy of Z), but we again describe its construction, which has many similarities to the construction of Z. The construction of Z was focused on incorporating subtraction; here we focus on incorporating division. To describe this division, we again use ordered pairs. The fraction 77 that we are after will be given by the ordered pair (to,/?.). Since we do not want the denominator to be zero, and we only have to allow either the numerator or denominator to be negative, we begin by considering the ordered pairs Z x N, where N = No\\{0}. We now need another equivalence relation. Intuitively, (to, n) = (A:, £) when 57 = f, which we can write without division as to • £ = k ■ n. So we define the equivalence relation ~ on Z x N by R eal Analysis, A Long-Form Textbook 377 Constructing RA.5 Cb C Q, but Cb 0 and Cb / Q;1. If p € Cb and q Cb, then p < q;2. I f p & Cb, then there exists3. And then R is defined as the set of all cuts.7 The cut Cb Cb gives us this real number. b some q £ Cb where p < q. Here we are, the moment you’ve been waiting for. We have the ordered field of rational numbers, but they aren’t complete there are holes everywhere, and to get to R we must fill in these gaps. There are several ways to do this. Cantor used Cauchy sequences of rationals: If you demand that each Cauchy sequence converges to something, and pairs of sequences whose difference is Cauchy must converge to the same thing, then by adding these limits into your set Q (by identifying them with an equivalence class of Cauchy sequences converging to them), you in effect complete Q, giving R. Lots of details missing, but that’s the big picture idea. There is also a non-standard approach using so-called ultrafilters, another using hyperrationals, and several more beyond that. But the most common method, which we discuss now, uses Dedekind cuts. Just like with all our previous constructions, each real number is going to be a set; at this point we have the rationals constructed, so each real number is going to be represented by a set of rationals. The way you want to think about it is this: the real number x is going to be represented by the set of all rational numbers strictly less than x. These sets are going to be called cuts, and while we discuss them you can start convincing yourself that each real number will indeed correspond to a unique cut, and each cut corresponds to a unique real number. But first, let's formally discuss cuts. A cut should be thought of as the set (oo,6) I~|Q. That is, all rational numbers up to a certain point. Formally, it is defined as any set C'b satisfying the following three conditions. Although we have an intuitive picture of a cut, at the moment it is just, a set satisfying the above properties. And we again are interested in putting an algebraic 7 So real numbers are infinite sets of rational numbers, which themselves are pairs of integers, which themselves are pairs of natural numbers, which themselves are unions of empty sets and sets containing empty sets and so on. That's what a single real number is constructed to be. Appendix A: Construction of R378 • Ca Ca • Cb {p- q ■ p & Ca, q 6 Cb with p, q > 0} U {9 6 Q : q < ()}. 9 2. M is an upper bound of C, but is smaller than all other upper bounds. With those, R is a complete ordered field, and hence the real numbers are constructed; 8One last time with a slight abuse of notation. ‘’drops mic With this you can then define a product of two negative cuts by setting the product equal to the product of the two corresponding positive cuts. To define multiplication between a positive cut and a negative cut, you know the product should be negative so one approach is to consider the multiplication when both arc positive, and then translate the result to the corresponding negative cut. It’s a hassle to write out, but that’s the idea. One can then check that the product of two cuts is still a cut, that multiplicative inverses exist, and that multiplication is commutative and associative, as well as the remaining multiplicative/additivc distributive and order properties. These would be quite annoying to work out in detail, but you can smile knowing someone carefully checked them. With our set built, and with the algebraic properties defined and their properties verified, we now know that R is an ordered field. All that is left is to show that it is complete. This is done by showing that cuts satisfy the least upper bound property. That is, if C is a collection of cuts which is bounded above (meaning there exists some cut D such that C < D for all C £ C; i.c., CCD for all C G C), then there exists a least upper bound (meaning there is a cut M such that M < D for all upper bounds D\\ The proof is this; Let M - UceC C > and sllow that 1. M is a cut and therefore M € R; structure on this collection of cuts. Addition and order work quite smoothly. For a pair of cuts C„. and Cb, define the following.8 • Ca + C’i, : {p + 9 : p € Ca, q g C/,} Cb if and only if Ca C Cb One can verify that the addition of two cuts is still a cut, and that addition is commutative and associative, that the 0 cut behaves as it should (in turn giving positive and negative cuts) and that additive inverses exist. The inequality has the property that, given any two cuts Ca and Cb, exactly one of the following holds: Ca < Cb, Ca = Cb or Cb < Ca. Defining multiplication is trickier, because if you simply multiply the two sets together you’ll have massive negative numbers multiplying against each other, creating massive positive numbers. Intuitively, you want C(l ■ Cb = Cab. That is, the cut (—oo, a) O Q times the cut (—oo, b) n Q should equal the cut (—oo, a ■ b) Q Q; but cuts aren’t delined with such a and b they produce a and b. One way around this is to first define multiplication for positive cuts. That is, if Ca and Cb are both positive (larger than the cut {9 & Q ; q < 0}), then define Peculiar and Patho-Appendix B: logical Examples 'Don’t «') nie, researchers of the Monster group. 379 Jerry Seinfeld: Oh you’re crazy. Cosmo Kramer: Am I? Or am I so sane that you just blew your mind'.’ Jerry Seinfeld: It’s impossible. Cosmo Kramer: Is it? Or is it so possible that your head is spinning like a top? Jerry Seinfeld: It can’t be. Cosmo Kramer: Can’t it? Or is your entire world just crashing down all around you? Jerry Seinfeld: Alright that’s enough. Cosmo Kramer: Yeaaaaaaaah! The world of mathematics can be a strange place, and when your mind is exploring this world and finds itself in some dark, foreign region, you risk falling into pits, being eaten by monsters, and missing a beautiful forest for the boring trees. It has been said that one of the most important goals of learning real analysis is to collect as many bizarre examples as you can, and to keep them in your back pocket. From a practical standpoint they will inform your conjectures and guide your proofs, but they will also help to demonstrate why real analysis is such a great subject. When little kids learn about the world, many are fascinated by dinosaurs because they show how strange and large and monstrous life on Earth can be. Flowers are also nice. I like flowers. Your course abstract algebra, for instance, is filled with theorems which arc small and pretty and I am happy to see them and learn about them. But J prefer the monsters.1 We have seen many awesome monsters already in this book, but if your back pocket has some room left, this appendix has a few more. Appendix B: P eculiar and Pathological Examples380 6 J or 8 1 or 3 4 8 6 7 4 4 7 or 9 3 ] or 8 6 4 5 8 Last For instructors/studcnts looking to insert these these examples into the earlier chapters, below is where each example can be inserted, consistent with the material. Suggested Chapter 2 or 3 P&P Example The Curious Case of the Cantor Set Doubled Digits of Diametrical Degrees Structuring Stuff from its Shadows’ Shapes Menger’s Matterless Material Obtainable Outrageousness in an Orderly Overhang A Composition Conundrum Turning the Tables on your Teetering Troubles A Devilish De-Descent A Pack of Pretty Proofs by Picture An Abundant Addition Aboundingly Ascends A Smooth and Spiky Solution Finding </> for First-place Finishes Peculiar and Pathological Perimeters Fractal Functions Filling Foursquare Frames A Prestigious Proof of a Primal Puzzle A Topological Treatment with a Tremendous Twist Modern Measuring’s Misfit Member Tarski’s Teriffic Talents Times Two Note: There were some examples which in some small way referenced later material but could easily be discussed earlier. For these I noted a couple chapters which would work well. The last example is based on the famous Banach-Tarski paradox, and I think that would make for an especially nice example to end a course on. No material after Chapter 2 is needed, so it can be discussed toward the end of just about any course using this text. R eal A nalysis, A Long-Form T extbook 381 The Curious Case of the Cantor SetB.l Stage 1 is the interval [0,1], represented by this bar \"of length 1.\" Continuing in this way gives a sequence of sets. Stage 1: Stage 2: Stage 3: Stage 4: Stage 5: II II II II II II II II Next you take each of the intervals [0,1/3] and [2/3,1] and remove the middle third of each of those. This gives [0,1/9] U [2/9,1/3] U [2/3.7/9] U [8/9.1]. The Cantor set has some fascinating properties. To describe this set, the construction is typically done in stages. Stage 2 is found by taking the above and removing the middle third. This gives [0,1/3] U [2/3,1], As you can see, we are removing more and more points. The Cantor set is defined to be the limit of this procedure. That is, the Cantor set is the set of points in [0,1] which are never going to be removed by any of the above stages, even if you continue this cutting-out procedure forever. A reasonable question would be: Are there any points in the Cantor set? At first glance it seems possible that all the points will eventually be removed! This is not Appendix B: P eculiar and Pathological E xamples382 0.2748 = 2-10 + 4 • 10 + 8-10 precisely the numbers in [0, 1] which But you could easily write numbers in other bases too. For example, you can write 7/9 in base 3: Fact B.l. The elements in the Cantor set are ] can be written2 in base 3, using only 0s and 2s. So the number whose base-3 representation is 0.02202022 is in the Cantor, but the number whose base-3 representation is 0.21012021 is not in the Cantor set. 7/9 = 2- 3-1 + 1 ■ 3“2. An alternative perspective: Since this number is in [0,1], the first digit after the decimal tells you if your number is between 0/3 and 1/3, or 1/3 and 2/3, or 2/3 and 3/3. Once you know which of these intervals of length j you are in, then divide that interval into 3 subintervals, each of length 1/9. Which of those your number falls in determines the next digit, and so on. Now, we mentioned that the endpoints of each interval are in there. So is that it? If so, then among other things we could prove that the Cantor set is countable: Go through each stage, enumerating the new endpoints; in this way you list out all the endpoints one after another, proving that the collection of endpoints is countable. But, no, there are numbers in the Cantor set which are not endpoints! For example you can show that 1/4 is in the Cantor set; 3/10 is also in there. (For instance, 1 /4 has base-3 representation 0.02020202....) And it’s not just a few points either there are uncountably many points in the Cantor set. So looking just at the endpoints, we missed essentially all of them! Fact B.2. There are uncountably many points in the Cantor set. One way to prove this is to find a bijection between the Cantor set and all the numbers in [0,1], since we know the latter set is uncountably infinite. The bijection is pretty straightforward too: Take any base-3 representation of a number which consists of only 0s and 2s, and change all the 2s to Is; note that the result is a string of 0s and Is. If you interpret this string as a number in base-2, then this procedure turns a base-3 number into a unique base-2 representation of a number in [0,1]. Conversely, take any base-2 representation of a number and by switching the 2s to 3s you get a base-3 representation of a number with only 0s and 2s, and hence a number in the Cantor set. In this way, you can show that the Cantor set is uncountable. 2Sometiines there is more than one way to write a number. You have maybe seen the fact (in base 10) that 0.9999... 1. Likewise, in base 3, 0.02222... = 0.1 +7• 10“2 the case, though. For instance, you can quickly verify that 0 and 1 will always be there. Also 1/3 and 2/3 will always be there. Indeed, if a point, is ever the end point of one of the intervals, then it will never be removed. Here is another way to think about it. Given a number x G [0,1], that number is typically written in base 10. For instance 0.2748 means this: Real A nalysis, A Long-Form T extbook 383 n 0. So in this “length” sense, the Cantor set is tiny! Fact B.4. The Cantor set is totally disconnected, but yet is perfect. Finally, it is of course fractal-like, which is usually called being self-similar. So if you zoom in on any interval from any stage of the Cantor set, what you are looking at looks exactly like the original Cantor set. What a wacky set. A set is never big. Nor is it small. It is precisely the size it means to be. lim n-»oo 2 3 Totally disconnected means that given any two points in the set. there are numbers between these which are not in the Cantor set. The reason is that at some point a “middle third” got removed between these two. And perfect means that each point in the set is a limit of a sequence of other points in the set. So even though every point is in some sense “separated” from any other point, with an interval of missing points in-between them, still every point is the limit point of points in the set! And even though it’s tiny in length, if we denote the Cantor set by C. then what is C + C? (That is, which numbers can be represented as x + y, where .r. y p Ct Amazingly... C + C = [0, 2]! And entire interval! And here’s even more: At the start of this discussion we wondered whether there were any points at all in the Cantor set, and now we are saying that there are as many in the Cantor set as there are in all of [0,1]?? Indeed, one of the amazing things about the set is that it is both “big” and “small” at the same time. It’s big in that there are uncountably many points in it, but yet it is small in that there are not any “clumps\" of points anywhere!3 The way this is usually stated is in terms of “length.” The length of [a, h] is b - a. It’s just the length of the interval. Likewise, the set [0, 1] U [6, 9] has length 1+3 = 4. So Stage 1 of the Cantor set is [0.1J and hence has length 1. Stage 2 of the Cantor set. is [0,1/3] U [2/3,1] and hence has length 2/3; another way to think about it is that we removed I/3rd of the set. leaving 2 3rds left. Stage 3 has length (2/3)2, since again we found each interval and cut out 1/3 of it. Stage 4 has length (2/3)3 because again we cut 1/3 out of each interval we had. Continuing like this we see that Stage n of the Cantor set has length (2/3)n. and hence the Cantor set has length Fact B.3. The Cantor set is both big and small at the same time. It is big because it has uncountable many points, but tiny in that it has zero length. Appendix B: P eculiar and Pathological Examples384 B.2 Doubled Digits of Diametrical Degrees T(0) = temp(0) — temp(0 + tt), 7(0) = temp(O) - temp(Tr) = -[temp(?r) - temp(27r)] = -7( tt). 7(c) = 0 temp(c) — temp(c + tt) = 0 temp(c) = temp(c + tt). which is a difference of continuous functions and hence is continuous by the continuity limit laws (Proposition 6.20). Notice that since temp(0) = temp(27r), And thus the points corresponding to c and c + tt are antipodal and have the exact same temperature.5 Cool! It’s worth noting that every great circle would have a pair of points with this property, and so these temperature-equivalent antipodal points are all over the place! Indeed, you can even prove that there exists an entire curve around the globe where every point on that curve has its antipodal point also on the curve, and which has the same temperature as its antipodal point. * A great circle is like the equator, which is a largest-possible circle around the Earth —one that would cut the Earth in two. There is another great circle going through the north and south poles, and, of course, there are infinitely others. 5And if something about the discrete orbital energy levels of atoms means that temperature precision must be rounded to, say, the nearest 0.0000001 degree Celsius, then these two points would round to that same point, and so they still agree.6 “But if you start rounding antipodal locations because of something about Planck lengths, then you’re just trying to spoil our fun. One of my favorite aspects of mathematics is when a simple idea has a surprising consequence. The intermediate value theorem (Theorem 6.38) is such an idea, and one such consequence is the temperature problem, which says this: There are two antipodal points on the Earth (meaning they are diametrically opposite to each other- a line connecting them would go through the center of the Earth) which have exactly the same temperature! Here, temperature can be viewed as having infinite precision or rounded to any level of precision you desire. Here’s why it works. First, consider any great circle of the Earth.'1 Pick any point on your great circle to correspond to 0 radians, and identify all other points using radians in the usual way: tt radians corresponds to its antipodal point (which is also on this great circle), tt/2 and 3tt/2 radians correspond to the points a quarter turn away, and so on. Let temp(d) be the temperature of each point to infinite precision, which is continuous function. Also, let a = 0), And 7(0) = —7( tt) means that either 7(0) = 7( tt) = 0 or these two have opposite signs, which by Proposition 6.37 (or the intermediate value theorem, with implies that there must be a point c £ (0, tt) for which R eal A nalysis, A Long-Form T extbook 385 Next, observe this: • The above didn’t need to be for temperature. For example, we could have done the above argument for the humidity or barometric pressure at every point on the globe. a circle, a o From a topological perspective, this curve around the globe where every point on the curve has the same temperature as its antipodal point, which is also on the curve looks just like another great circle! Combining the above two observations, we can take this curve and apply the above argument except for, say, humidity — to find a pair of antipodal points on this curve which have exactly the same humidity. Being on this curve means they have the same temperature, and they were just found to have the same humidity, and so we even found a pair of points on the globe which have exactly the same temperature mid exactly the same humidity! All this is a special case of a much more general theorem known as the Borsuk- Ulam theorem, which says that if you have n continuous functions on an n-dimensional sphere,7 then there exist a pair of antipodal points which take the same value on all of these functions. The Borsuk-Ulam theorem also has some great applications, the first of which is called the ham sandwich, theorem. In three dimensions, the theorem says that if you have any three compact objects with positive volume, there is some (two dimensional) plane which simultaneously slices all three objects in half. The theorem is called the ham sandwich theorem because it implies that if you have a (super bland) sandwich consisting of a single slice of ham between of two slices of bread, then even if the ham is thicker in some parts than others, and even if it was sloppily put together so that the slices of bread aren’t perfectly aligned and some of the ham is spilling out one side, it is always possible to cut it into two pieces so that, with just that single cut, each piece received exactly half of the first slice of bread, exactly half of the ham, and exactly half the second slice of bread. The ham sandwich theorem in n dimensions says that given any collection of n compact, objects in IR\" which have positive volume, there exists a hyperplane which simultaneously bisects all of these objects. It can be proven by constructing a clever function from the n-dimensional sphere S\" (representing the possible angles of your hyperplane) to R\" (which are n-tuples whose i11’ coordinate representing the area on the positive side of one of these angled hyperplanes). A fun, discrete application of this theorem is called the necWare splitting problem. Suppose a pair of thieves have stolen a necklace containing n types of gems, and each gem appears an even number of times. The gems are in some order around the necklace, and the necklace can be cut between the gems. How many cuts are needed so that both people get the same number of gems of each type? By another clever application of the Borsuk-Ulam theorem (or more directly, by the ham sandwich theorem), the answer is n, which to me seems surprisingly small! 7 Note that a sphere, is just the surface of a ball. So a 1-dimensional sphere is 2-dimensional sphere is the surface of a 3-dimensional ball (like the Earth), and so on. Appendix B: P eculiar, and Pathological Examples386 B.3 Structuring Stuff from its Shadows’ Shapes • Go C projpF; • projflF \\ Go has measure 0 for almost all 0 G [(), tf). In fact, there is a theorem that says that this is almost-always nearly possible. If you don’t understand all the jargon, don’t sweat it. Theorem (2D version). Let Lo denote the line in the xy-planc which passes through the origin at an angle of 0, and for a set. A let proj0(A) denote the projection of A onto the line Lo. If for each 0 G [0, tt) we have a set Go C. Lo for which (Jo Go is a measurable set in the plane, then there exists a set F C R2 such that Essentially, you can pick any sets Go that you wish, and there exists some 2D set F whose projections at nearly every angle 0 is the set Go (with only imperceptible errors)! This theorem can also be generalized to three dimensions: Given a collection There is software now which, if you can take a bunch of pictures of some object (from all sides), and it can take those pictures and create a 3D rendering of that object — turning 2D perspectives into a 3D object. CAT scans also work on this basic principle. They take many different x-ray “pictures” at a given level to generate a 2D cross-section at that level. A computer then pieces these all together to form a 3D rendering of a patient’s organ. But think now about shadows. Given the shadows of something, can you construct the object? Or, more to the point, given a collection of desired shadows, does there exist an object that has those shadows? If you want the shadows to be “G”, “E” and “B” then the answer is yes (as the book cover to Godel, Escher, Bach shows): R eal A nalysis, A Long-Form T extbook 3S7 LOO 1=0 I roe 1=03 LOH Then there exists a 3D object whose shadows are these times —and you can even pick each angle you want for each time. Which means... that you could make a sundial whose shadows- as the sun moves across the sky — are precisely the time! In fact, you could even have it show the seconds too, and each second, as the sun moves, a new shadow is produced representing the new time at that precise second. It’s a digital sundial!! The technology to put this theory into practice is impressive, but admittedly is nowhere near refined enough produce readable per-second changes to the shadows. That said, one can now 3D print a digital sundial which shows the time rounded to the nearest 10-minute mark.8 As in the picture above, the time will switch from I LHO to ■ L50 to l?:0u to 12: 10 and so on, and will change every 10 minutes. Pretty amazing stuff. sThank you to my former student Trenton Deacon for 31) printing me one of these, which is pictured above in my driveway, showing I l-HQ. of 2D sets (which will be our desired shadows), there is a 3D set for which essentially all of its shadows are what you want and in order too! This generalization has a fantastic consequence; suppose the shadows that yon want look like the digits on a clock: Appendix B: P eculiar and Pathological Examples388 B.4 Monger’s Matterless Material The Sierpinski carpet is a fractal-like set constructed And continue. o'o Bsi Now consider the remaining 8 squares, cut each of these into 9 equally-sized pieces, and remove each middle piece: “ o oo Cut this square into 9 equally-sized smaller squares, and remove the middle piece: Do this forever. The Sierpinski carpet is the set of points that will never be removed. Here’s what one more stage looks like: as follows. Begin with a square. I____ I ! - ■- ■ H I* R eal A nalysis, A Long-Form T extbook 389 0. And, like before, continue this procedure. I' K We could discuss the Sierpinski carpet much more, but for now let’s turn to the 3-dimensional version of this, called the Monger sponge. The idea is similar, except instead of beginning with a square we begin with a cube. So as we have pointed out, the carpet does not completely disappear - uncountably many points will never be removed. And yet, as the above calculation shows, no area remains!10 Now divide each face into 9 equally-sized squares and punch-out each middle one. ‘‘“Area” in standard Lebesgue measure. 10This is particularly convenient if you plan to sew a Sierpinski carpet for yourself, since you won’t need any thread. lim (8/9)\" n->oo The Sierpinski carpet has some wonderful properties. As one example, you might wonder whether forever poking holes in the carpet will, in the limit, leave nothing left. This doesn’t happen, though like with the Cantor set. lots and lots of points remain. So what’s the area of what’s left? Notice that at each step, each square chunk of area is reduced by 8/9. And if each piece of area shrinks by 8/9 at each stage, then the whole area also shrinks by 8/9 at each stage. If the area starts out as 1, then the area after stage 1 is 8/9. After stage 2 it is (8/9) • (8/9) = (8/9)2. After stage 3 it is (8/9)2 ■ (8/9) = (8/9)3. And so on. Indeed, after stage n, the area is (8/9)\". So what’s the area9 after all the stages? It's Appendix B: P eculiar and Pathological Examples390 Here are levels three and four of the sponge: p/.. pz.. - Ml . • • t‘ • • ;• ,v ■■ ? <■' Such shapes are easily and quickly created graphically using just a few basic rules. Such shapes are used in computer graphics to create natural, beautiful shapes with little processing power, and 1 love how such things mimic nature. Barnsley’s fern resembles a common real-world fern called black spleenwort, which is native to all sorts of places, from Norway to Egypt to Hawaii to Turkey. \" ? •4 » F X ► p.-,. , pz pz; The Menger sponge is the limiting shape of this process. There are many fascinating facts about the Monger sponge, but one of my favorites is what happens when you cut the sponge diagonally. Here is the video showing the awesome answer: https://youtu.be/fWsmq9E4YC0, courtesy of the Simons Foundation. (Make sure to pause the video to guess what shapes you’re going to sec.) There are many self-similar, fractal-like geometric constructions (See: Iterated function systems and the amazing consequences of the chaos game). One particularly neat example is called Barnsley’s fem. R eal A nalysis, A Long-Form T extbook 391 Obtainable Outrageousness in an Orderly OverhangB.5 7 ——J What did you find out? First, you probably quickly noticed that with two blocks you can achieve more than | foot of overhang. Indeed, if a second block is placed on the edge of the table and with just a couple inches of overhang, you can now place the first, block on top of this block so that half of it is overhanging the block below it. ~7) Assume you have a bunch of ordinary blocks (‘ordinary’ means that each is a rectangular cuboid, has uniform density, and the blocks are identical). If you hang one block off a table, up to half of it can be hanging off the edge without it falling: For convenience, let’s say that each block is 1 foot long, meaning that we achieved 2 foot of overhang. Here’s the big question we are interested in asking: Using more blocks, can we achieve more overhang? If so, how much overhang can we achieve? If you have blocks or books nearby, even if they aren’t completely uniform go ahead and try this out. Conic back and continue reading once you’ve experimented. If you don’t have any blocks or books, call up everyone you know and invite them to a pizza party at your house in 45 minutes. Then order 31 pizzas. Once all the pizza has been eaten you can use the pizza boxes for the experiment. Appendix B: P eculiar and Pathological E xamples392 (/i m 2 d3 = Center of mass m\\d\\ + m2d2 mi + m2 7 F Of course, there is a limit to how much overhang the bottom block can have. For example, if the bottom block had | foot of overhang (from the table), and if the top block had an additional | foot of overhang (from the bottom block), then there’s no way it would stay up. Here is a profile picture of this bad situation: So if the bottom can have some overhang, but not as much as in the above, where is the tipping point? It all comes down to the center of mass. With a single block, you one can have up to half of it hanging off the edge because the center of mass of the block is exactly in the middle, and provided the center of mass is above the table, it will not topple. If you stack two blocks and neither is sticking out more than halfway from what is below it, then the only way it will topple is if their collective center of mass is not above the table. To proceed, it’ll be useful to recall two basic facts about centers of mass. First, to find the center of mass of a collection of objects one may assume that each object’s entire mass occurs at its center of mass this is called a point mass. Second, to find the (^-coordinate of the) center of mass of two objects, one can use a weighted average, which in the figure below is wliere tllc two point masses (represented with circles) have masses mi and m2. The bottom block “extends the table” in some sense. Here is a simple zoomed-in profile picture of this successful situation: R eal A nalysis, A Long-Form T extbook 393 n In our problem, all the blocks are identical and therefore have’ the same weight. For simplicity, let’s assume each weighs 1 pound. Then we can compute the location of the center of mass of two blocks; the optimal placement of the blocks will be such that their collective center of mass is right at the table’s edge. 1 • (5 + (^ + 3)) + 2, G + B 1 + 2 1 ' G + + 1' G) 1 + 1 So a third block can solution from before on l + d + s) safely overhang the table by | feet, if one stacks the 2-block top of it. In general, the nth block can overhand the table by 1 1 2 + 4 1 1 1 2 + 4 + 6 I + 5 So if the top block hangs out 5 feet from the bottom block, up to | feet of the bottom block can hang off the table, giving a combined j + y feet of overhang. (You'll soon see why I’m writing it as a summation, rather than just y feet.) With three blocks, where the top two use the above (optimal) arrangement, you can view the top two blocks as being a single point mass, with a mass of 2 pounds and a center of mass located 5 + 1 feet from the right side of this two-block, which is optimally placed directly above the edge of the bottom-most block. 5 + 2 Appendix B: P eculiar and Pathological E xamples394 1. Moreover, because 2, = oo, and called this series the Since there is more than the table! 1 2(n + 1) one can show that n. + 1 blocks, (! + •••+ 27J And now, if you’ve read this far, it’s time for a huge payoff. We asked how far this stack can hang out from the table. For example, can you stack enough blocks so that no part of the top block is above the table? Amazingly, yes! In fact, just four blocks is enough, because with four blocks the total overhang, in feet, is a 1 foot overhang, the top box is entirely to the right of V2' 1 can be. And in Chapter 4 we showed that } < - k= 1 harmonic series. So, since this scries diverges to oo, there is no limit to the size of the overhang! If you stack enough blocks, you can have a mile of overhang, or a million miles, or anything else. It’ll take a lot of blocks, since the harmonic series diverges suuuuupppcr slowly, but because it diverges, any overhang distance is possible. _ 1 1 J_ ~ 2 + 4 + \"'2n + 1 4-1 4-1 4-... 4— —~ ~ 2.01 246 2(31) with 31 blocks there can be an entire block-length separating the top block and the table! In fact, the only limit to how big the overhang can be is the limit to how big 1111 _ 1 V' i 2 + 4 + 6 + 8 + ’\"\"2-£,A : T r iii i 2 + 4 + 6 + '\" + 2^ feet, then using the above center-of-mass argument in feet, can overhang 1111 2 + 4 + 6 + 8 W1-°4 1'(l + (| + '\" + ^)) + 1 4- n 2^ feet. Indeed, one can prove this by induction. If n blocks can overhang 1 8 R eal Analysis, A Long-Form T extbook 395 z 7] I f y / z A “T/ Z I I will leave you with the image of 31 blocks stacked on top of each other, which I mentioned is the first case in which the top block is separated from the table by an entire block-length. Appendix B: P eculiar, and Pathological E xamples396 B.6 A Composition Conundrum o i(x) = 1 — 1 d(x) = is not integrable. Here’s its graph: 1 is integrable. And in the function’s graph if x 0 and if x Q if x = 0 1/n 0 1 And there’s another function that isn’t so different than this which we know is not integrable: Dirichlet’s function. Indeed, in Example 8.12 we showed that x = m/n e Q in lowest terms with n 1/2 — 1/3 — 1/4 — ' >• case you can’t be bothered to flip to this book’s cover, below is on [0,1]. 1 if x G Q 0 if x Q Here is an example of integrable functions f and g, where their composition f o g is not integrable. At least some of the functions involved are going to have to be pretty weird. Since f o g is not integrable, already we know that f o g has to be weird, and therefore f and g can’t both be super nice. We do have a few weird functions at our disposal that we know how to handle. The Chapter 8 exercises (twice) ask you to prove that Thomae’s function R eal A nalysis, A Long-Form T extbook 397 /(s) = This f has a very simple form: 1 <- /(<?(*)) So indeed, despite f and g both being integrable, fog wound up being the Dirichlet function which is not. integrable. ■I 1 1 if x e Q 0 ifi-^Q 1 if x > 0 0 if.r = 0. So can we choose t to be either f or g, and pick the other one cleverly so that their composition equals the Dirichlet function? There is a wav! And by Porism 8.18, f is integrable. So we have that f and g are both integrable. We now simply note that f o g is the Dirichlet function, and hence is not integrable Let. g(x.) be Thomae’s function on [0,1]. How do we choose f to turn g into the Dirichlet function? The irrationals are already good-to-go. So when we take f(g(x)), if g(x) = 0 we don’t want f to change this fact. That is, we want /(()) - (). What else? Well, all the rationals arc getting mapped to values 1/n. for some n. And Dirichlet wants those value to all equal 1. That is, if g(x) > 0, we want f(g(x)) to equal 1. So for any x > 0, we want f(x) = 1. Make sense.' This suggests that we define f : [0,1] —> R to be /(1/n) ifs-eQ /(0) ifx£Q 1 al Examples ubles ground, while the ground. leg 2 towards ete, the table tine length but and 3 wobble, st </(/) be the ■e we want to ul to imagine s perspective, ground. = the rotation see what d(t) legs 2 and 4 member that =• way to take of the other to the patio to t the last open here is a little tire day would iffing a napkin return. Lucky just rotate the 11 four legs are R eal A nalysis, A Long-Form Textbook 39!) whiled> 0 I have used this table-turning technique about a dozen times over the years and it has always worked. That said, it is possible, that the ground is just too Indeed, if the ground is super wavy, and at points the ground's steepness is largei than arctan steepest streets in the world and Filbert Street in San Francisco, United States — only slope at about 20°. In practice you will rarely, if ever, have a problem. uneven. :r « 35°, then it could fail. But that is reeeally steep. Even the including Baldwin Street in Dunedin. Xew Zealand d(0) = d > 0 while rf(l) < 0. And since this is a cafe patio ground in the real world (not egregiously bumpy, no steps, etc.), d(t) will be a continuous function. So we have a continuous function which is positive at t = 0 and negative at t = 1, and hence by the intermediate value theorem (in particular by Proposition G.37) there must exist some c G (0.1) such that d(c) = 0. And therefore, at t = c, your table will be perfectly stable. You’re welcome. 11 Which includes many non-tables too. For instance, a wobbly step ladder should never be climbed without rotating to find a stable footing. 12For details, check out the paper Mathematical Table. 'Turning Revisited by Baritompa, Lowen. Polster, and Ross. Sec here: https://arxiv.org/pdf/math/0511490.pdf legs into the ground. Leg 1 the ghost leg must therefore be inside the ground after the turn. That is, d(l) < 0. We have shown this: If a table has a circular top but its legs form a square, then of course the above works the same way. What about other table shapes? If the legs form a rectangle.\" it works almost just the same. Unlike with square tables where after a 90’ turn the legs will have collectively returned to their original location, with rectangular legs you have to turn the table 180° to get that property — and it takes up to a 180° turn to stabilize the table. The proof is a little more complicated as well, since after that 180° turn, legs 1 and 3 occupy the same locations (as a pair), rather than the locations of legs 2 and 4. The proof in this rectangular case is by contradiction,1” and goes something like this: If legs 1 and 3 were always hovering and legs 2 and 4 were always on the ground, then at some point the table top is closest to the ground. This is a contradiction, though, since we could then rotate the table until legs 2 and 4 are where legs 1 and 3 were - but at this point we have replaced hovering legs with legs touch the ground, which lowers the table top further, and shows that our purported “closest to the ground” location was not actually minimal. And that’s a contradiction. 398 Appendix B: P eculiar and Pathological E xamples 2 I Push down near the wobbly leg 3 so that legs 2, 3, and 4 are on the ground, while leg 1 is suspended above the ground. Let’s say leg 1 is d inches above the ground. Now rotate the table like a disc, moving leg 1 towards where leg 2 is, leg 2 towards where leg 3 is, and so on. We claim that before this 90° turn is complete, the table will reach a point where it is completely stable. When you rotate, keep legs 2, 3 and 4 flush to the ground, and let d(t.) be the distance above the ground of leg 1 at each moment of time therefore we want to prove that at some point d(i) = 0. When discussing the proof, it’s helpful to imagine that leg 1 is a ghost leg, which is able to pass into the ground. With this perspective, every turn is possible, and d(t) will be negative if leg 1 moves into the ground. Suppose the 90° turn takes 1 second. At t = 0 (the moment before the rotation begins) we have said that d(t) = d. After the 90° rotation, can you see what d(t) will be? Legs 1 and 3 (previously wobbly) have switched spots with legs 2 and 4 (previously sturdy). So legs 2 and 4 are now on wobbly ground, but remember that we are insisting on keeping legs 2, 3 and 4 on the ground and the only way to take two wobbly legs and make them stable on the ground, is to force one of the other B.7 Turning the Tables on your Teetering Troubles You re at a cafe, you’ve just ordered a delicious drink and you head to the patio to enjoy the beautiful day and learn some mathematics. You sit down at the last open table and quickly discover why no one had taken it the ground there is a little uneven, and so the table wobbles. For a non-mathematician, their entire day would have been utterly ruined; even if they try the classic strategy of stuffing a napkin under one leg, before long it will compress a bit and the wobble will return. Lucky for you, though, there is an easy, mathematically-verified solution -just rotate the table slightly, and like magic you will immediately find a spot where all four legs are completely stable on the ground. Allow me to explain. Suppose first that we have a square table whose legs are all the same length but due to some uneven ground, the table wobbles. Let’s say that legs 1 and 3 wobble, while legs 2 and 4 are on the ground. real A nalysis, A Long-Form T extbook 399 legs into the ground. Leg 1 the ghost leg must therefore be inside the ground after the turn. That, is, d(l) < (). We have shown this: 1 have used this table-turning technique about a dozen times over the years and it. has always worked. That said, it. is possible that the ground is just too uneven. Indeed, if the ground is super wavy, and at points the ground's steepness is larger than arctan « 35°, then it could fail. But that is reeeally steep. Even the steepest streets in the world including Baldwin Street in Dunedin. New Zealand and Filbert Street in San Francisco, United States - only slope at about 20°. In practice you will rarely, if ever, have a problem. 11 Which includes many non-tables loo. For instance, a wobbly step ladder should never be climbed without rotating to find a stable footing. 12For details, check out the paper Mathematical Table Turning Reinsited by Baritompa, wen, Polster, and Ross. See here: https://arxiv.org/pdf/math/0511490.pdf d(0) = d > 0 while d(l) < 0. And since this is a cafe patio ground in the real world (not egregiously bumpy, no steps, etc.), d(t) will be a continuous function. So we have a continuous function which is positive at. t — () and negative at t = 1, and hence bv the intermediate value theorem (in particular by Proposition 6.37) there must exist some c E (0.1) such that d(c) = 0. And therefore, at t = c, your table will be perfectly stable. You’re welcome. a ta i e las a circular top but its legs form a square, then of course the above woi s t le same. way. What about other table shapes? If the legs form a rectangle.11 it woi <s a most just the same. Unlike with square tables where after a 90° turn the legs will have collectively returned to their original location, with rectangular legs you lave to turn the table 180° to get that property and it takes up to a 180° turn to sta i ize the table. The proof is a little more complicated as well, since after J le8s 1 and 3 occupy the same locations (as a pair), rather than the locations of legs 2 and 4. ' T r .P100^ 'n lectailgular case is by contradiction,12 and goes something like t/T CgS ai1^ $ WGrC a^waVs hovering and legs 2 and 4 were always on the ground. . i< n a some, point the table top is closest to the ground. This is a contradiction. \\°U>^ *’ SU1Ct w< (°\"hl then rotate the table until legs 2 and 4 are where legs 1 and 3 W<1 i at ?'*S P0111*' wc have replaced hovering legs with legs touch the ground, 1 FH t 10 *'a^ e top further, and shows that our purported “closest to the groun ocation was not actually minimal. And that’s a contradiction. Appendix B: P eculiar and Pathological Examples400 A Devilish De-DescentB.8 Stage 1 Stage 2 In Stage 2, you take the middle third of the function and replace it with a horizontal line (halfway up; so at y = 1/2), and then redraw the diagonal lines in the first and last third to meet this horizontal line. In Stage 3 you do the same thing to each diagonal line. That is, you take the middle third of the line in [0,1/3] and the line in [2/3, 1], and replace each with a horizontal line (halfway up; so at y = 1/4 and y = 3/4, respectively), and then redraw the diagonal lines in the first and last third to meet this horizontal line. Here’s one more example that in some ways relates to the weirdness of the Cantor set. It’s a function called The Devil’s Staircase. And like the Cantor set, it’s best to describe it in stages. Consider the graph of the straight-line function from (0,0) to (1,1); this is Stage 1 of the creation of the Devil’s Staircase. R eal A nalysis, A Long-Form T extbook 401 Stage 3 Stage 4 Stage 5 Stage 6 Stage 7 Now continue this. For each diagonal line, replace it with a horizontal line halfway up, and redraw the diagonal lines to make it continuous. Below are the next 4 iterations. Appendix B: P eculiar and Pathological Examples402 oo- -> Continuing this process forever, the resulting sequence of functions converges to the function which is called The Devil’s Staircase. And this function has some fascinating properties. <---- • And since the Cantor set has length 0, the Devil’s staircase is flat almost everywhere. Said differently, the Devil’s Staircase has a derivative of 0 at almost every point. But this is odd, because despite being horizontal nearly everywhere.. .somehow it still manages to climb from (0,0) to (1,1)! Now, you might say that you can think of a function that is fiat nearly every­ where but still manages to climb from (0, 0) to (1, 1). A (stair-)step function, for instance: But this function is clearly not continuous, and to make it continuous we would need to connect the steps together, producing intervals on which the function is increasing (with a positive derivative). And yet the Devil’s Staircase somehow manages to never have an interval where it is strictly increasing, and at no point does its derivative take a positive value (in fact, its derivative is zero almost everywhere)... and yet it still manages to somehow climb from the origin to (1,1). Amazing. • Note first that if you get a flat spot at any stage, it remains a flat spot forever. And the flat spot after the first stage is [1/3, 2/3]. The flat spots in Stage n + 1 are those in Stage n, as well as this: Given any diagonal region in Stage n, the middle third becomes flat in Stage n + 1. That is, the flat spots are exactly the regions removed in the construction of the Cantor set! And therefore, the only points which will never be part of (the interior of) a flat spot are precisely the points in the Cantor set. R eal A nalysis, A Long-Form T extbook 403 • Final thoughts: This function is also called the Cantor function. Note that since the function is continuous, it has the intermediate value property. Hence not only does it climb from (0,0) to (1,1), but it hits every //-value in between. It is continuous and also uniformly continuous, but it is not what is called absolutely continuous. / / • Another interesting fact about this function is its length. The straight-line function from (0,0) to (1,1) has a length of \\/2. Meanwhile, the line segment from (0,0) to (1,0), plus the segment from (1.0) to (1.1), also makes it from (0, 0) to (1,1), but has length 2. So what’s the length of the Devil’s staircase? You might imagine that since it seems to be a mix of these two that its length is somewhere in between, but in fact its length is also 2. Indeed, it starts at Stage 1 with a length of y/2, but with each successive iteration its length gets closer and closer to 2, where it ends up. • And it’s worth reiterating that amazing property: For a continuous function to get bigger, you would think there would have to be some interval in which it is getting bigger. But alas, that’s not the case. You can get bigger, be continuous, and yet have no interval in which you are strictly rising. WHAAAAA?!?!?!? • P.S. While researching about the Devil’s Staircase 1 learned about a series of waterfalls in the coastal rainforest of Oregon that are called The Devil's Staircase. It is a gorgeous area that has been labeled an \"area of critical environmental concern” and as former congressman Jim Weaver says, “(the area] deserves no less than the highest protection that can be afforded under law,” and I gotta say 1 completely agree. Here are two angles of the Devil's Staircase in the wild: Appendix B: P eculiar and Pathological E xamples404 B.9 A Pack of Pretty Proofs by Picture Theorem. FOILing: (a + b)2 = a2 + 2ab + b2. aba b ab a b Theorem. The Pythagorean theorem. ba a a b b a b 1 (0,1) fP)-1 (0,oo) Theorem. There is a bijection f between the interval (0,1) and the interval (0, oo). That is, |(0,1)| = |(0, oo)|. b2 X (p ■)> oo a2 405 real A nalysis, A Long-Form T extbook Lo.J) L(a>l) 1 — r ar2a ar ar3 ar4 ar5 '' ' a + ar + ar + • ■ • ar Tfr l- r 00 Theorem. Geometric series test: If 0 < r < 1, then 2jar = fc=o 3333 Theorem. -4 ------- 1---- .4------ 4- • • ■ = 1. --------------- 4 16 64 256 Appendix B: P eculiar and Pathological E xamples406 Area = 1 AreaArea I 8 1 I 1 243 1 243 1 243 3 4 1 27 3 4 Area = 1 - | a , 1 1 Area = 1 ------ 1------ 3 9 m 1111 D == ^3 + g-27 + Sl\" A 1 1 Area = 1 - - + - _ 1 1 _ £ J_ 3 + 9 27 + 81 i 1 J_ _L 3 + 9 27 + 81 ~ 11 11 Area = 1 — - -I-- - — + — - R eal A nalysis, A Long-Form T extbook ■107 An Abundant Addition Aboundingly AscendsB.10 which equals □oo, completing the proof.13 i.s also essentially a solution to Eie.rcise 6.59 1 2 are inherently countable —we are adding up one thing, then the next, then the next, and so on, and we are asking what, that sequence of partial sums converges to. And one thing after another guarantees that the procedure has only countably many In Chapter 4 we saw many examples in which we summed up infinitely many positive numbers and yet got a finite number out. For example. Now simply note that, we just put uncountably many numbers into countably many sets. Clearly at. least one of these sets must have infinitely many numbers in it (in fact, at least one will have uncountably many numbers in it. but this is stronger than we need). Suppose Sn has infinitely many numbers in it. Adding up any countable collection from this set will be at least Sn = < x € S : — < x <---- I . I n n — 1 I doing steps. As it turns out, we don’t even have to get into the details about how to generalize our notion of countable sums to uncountable sums. The answer to our original question is ‘no’ — every sum of uncountably many positive numbers must equal oo, and in fact something even stronger always holds: The uncountable set is even guaranteed to contain a countable subset which itself sums to oo! To see this, let S be an arbitrary set of uncountably many positive numbers, which we want to add up. Since everything in S is positive, we can group these elements into the following sets. Let Sj be the numbers in S which are at least 1. Let S'2 be the elements of S which are between 1/2 and 1. Let S3 be the elements of S which are between 1/3 and 1/2. Let S4 be the elements of S which are between 1/4 and 1 /3. And so on. In general, for n > 2 let 1 1 1 1 , 2 + 4 + 8 + 16 + \" ' Notice, though, that each of our examples only involved a countably infinite collection of numbers, and we have yet to talk about what happens when you sum up an uncountably infinite collection of numbers. Can such a sum also add up to a finite number? First, you might ask what we even mean by this. How can you sum up uncountably many things when sums like 13 Shhh. . . Don’t te.ll anyone., but this 11111 ---- 1----- F — + — + — + N N N N N ’ 1 1 1 1 , 2 + 4 + 8 + 16 + --’ Appendix B: P eculiar and Pathological E xamples408 B.ll A Smooth and Spiky Solution 1 -- h While from the right, Ao(:r) = x and so 4 i This function is continuous everywhere, but there is one point where it is not differentiable: at the origin. Indeed, applying the definition of the derivative of .4() at the point x = 0, the limit lim —x which which has slope equals two different values depending on whether h approaches zero from the right. From the left, Ao(a;) = —x and so = lim from the left or Recall that Theorem 7.6 says that if f is differentiable, then f is also continuous. So differentiability is a stronger condition; differentiability implies continuity. And in fact, it is strictly stronger as well, since there are functions which are continuous at every point, but are not differentiable at every point. The absolute value function Ao(.r) = |./r| on [—1,1] is a classic example. does not exist. So we can indeed find a function Ao where there is a point which is continuous but not differentiable. Moreover, if we extend Ao to be periodic on all of R, then we get a function with “spikes” at every integer, and hence a function which is non-differentiable at every integer: Ao(0 + /;.) — Ao(O) _ /?. /?.—>0 <---- F -1 lim — — = lim 1 = 1. >0 Both of these make sense, as the line approaching zero from the left is y = has slope -1, while the line approaching zero from the right is y = x 1. And because those are different, the two-sided limit. ~ ~ = lim —1 = —1. /i->0 j. A>(0 + />■) — Ai(o) h-*0~ h 4(0) = lim A>(° + fe)-Ai(0) /i->o h a' tiw r + Ai(0) 4(0) = hm--------- ----------- J ' h^o h h. — O h R eal A nalysis, A Long-Form T extbook 409 1 + -3 -2 H 321 Note that A, is discontinuous at every point of the form f , where m is an integer. Better yet, here’s Ao: - /\\/y\\/\\|/\\/x z\\ -3 -2 But how non-differentiable can a make the non-differentiable points occur we’ll call Aj: continuous function be? We could of course more often. Consider the function which m Note that A2 is discontinuous at every point of the form where in is an integer. Indeed, you coirid keep doing this and Afc would have the property that it is discontinuous at every point of the form rp In some sense this is making things weirder, but in another it s not doing much: Is it so different, to have every 8th term be discontinuous compared to every 64th term? It’s st.ill a discrete set where you have fixed gap-sizes between the points. The holy grail example would be to find a continuous function that is differentiable nowhere. Now take a minute to appreciate how peculiar such a function would be. In all our examples thus far, being non-differentiable at a point was obtained by having two lines (which are not only continuous, but also differentiable) meet at a single point, forming a peak. The other “elementary” technique to get a non-differentiable point is to have a jump discontinuity there, but this can’t be used since we want our function to be continuous. In Example 7.15 we saw another approach to maintain continuity while losing differentiability, but this approach seems to have no advantages over a simple peak, while at the same time being much harder to grasp. Peaks seem the best approach, and it is reasonable to think that in order to have a peak, you need to have a region around that peak where you have two nice, Appendix B: P eculiar and Pathological E xamples410 and this is Pn xn ~ Qu < 3-0 for each n, then the derivative limit along these two sequences are not equal, implying that /'( tq) does not exist. differentiable lines meeting each other. And of course, if it were true that you need to have a region of differentiability around each non-differentiable point, then we would be able to conclude that it is not possible to be both continuous at every point and differentiable at no point. And yet! And yet! ft is possible! There do exist functions which are continuous everywhere and differentiable nowhere. Moreover, we arc already close to writing down an example... Consider the function Finally, in closing, here is a look at. the graph of f, which is a more discrete version of an example published by Weierstrass in 1872. We begin by showing partial sums of its definition on [0, 4]. First, here is Aq + Aj: oo /(■*) = 52 Ak^x'>- k=0 This is a good example to introduce series of functions, so 1 won’t assume that you’re an expert in the material from Chapter 9. Moreover, that material is quite deep and nuanced, so we will only scratch the surface here. Briefly, though: For any number tq, and each fixed k, you can clearly plug this number into At and get out some other number Afc(a?o); furthermore, note that they are all non-negative outputs. What is /( to)? It’s what you get when you add up all these numbers: At (to) + Aq(to) + • • ■ ■ That is, recall from Chapter 4 that a series of non-negative numbers can either add up to some number or to oo. In this case, each /( to) is finite as it is less than J2 a*Lo ot- (Formally, use the Weierstrass M-test (Corollary 9.22) with 1W* = ^.) Moreover, one can show that / would also be continuous. And yet more challenging one can also prove that / is differentiable nowhere. In short: If x0 is of the form for integers m and n, then / ’s graph is intuitively peak-like at (tq,/( to)), and is therefore non-differentiable at that point. If to is not of this form, then you should instead consider a sequence of points x n converging to a.'o from the left, each of which is of the form and a second sequence converging to tq from the right, each of which is also of that form. If you do so such that Pn + 1 2» ■i?\" real A nalysis, A Long-Form T extbook -111 And now here is Aq 4- Ai 4- A^. 3 Here is Aq 4- Ai 4- A2 + A3: Skipping ahead a bit, here is Aq 4- A| 4- A2 4~ A3 4* A.| 4- A$ 4- Ag: 2 T 1 1.2 - 1 : 0.8 - 0.6 ; 0.4- 0.2- Note that Ay is a function with amplitude yy ~ .0078, and it only gets smaller from there. So the above is nearly what the graph of f looks like. The later sums play an extremely important role, but you’d have to zoom in quite a bit to see how they change the graph. \\ \\ \\ A 4 0 \\\\\\ “ 40 12 3 .v 1.2- 1 ; 0.8 ; 0.6- 0.4- 0.2- 0- 0 1 2 .V V\\ Appendix B: P eculiar and Pathological E xamples412 B.12 Finding </> for First-Place Finishes • If you fold it 22 times it’ll be about a mile thick. we also have • If you fold it 103 times it would be as thick as the width of the observable universe. • A standard piece of paper is about 0.05 millimeters thick. If you fold the paper in half, the thickness is now 0.1 millimeters thick, being two pieces thick. A third fold and it is 0.2 millimeters thick. lim ^.\"±1 = lim we also have </> = lim -fi , n—>oo Fn n->oo Fn—\\ n-^oo Fn_\\ I4You may use a very large piece of paper, but it must still be 0.05 millimeters thick • If you fold it 54 times it would be as thick as the distance to the sun. But how do we use this to find <j>2 It’s really clever. First note that since clearly • With 13 folds you would set a new world record for number of folds.1'1 If you accomplished this, the thickness would (theoretically) be about 16 inches thick (although about twice this in practice). • If you fold it 43 times it would be as thick as the distance to the moon. The recurrence an+i = an + 2, where aj — 1, grows linearly. The sequence begins 1,3,5,7,.... But if the sequence is a recurrence involving a sum of the last two terms, it grows much faster. If an+2 = o.n+1 +an + 2, where ai = a2 = 1, then the sequence begins 1,1,4,7,13,22,37,.... It is hard to spot at this point, but this sequence is growing faster than any polynomial grows — it is growing exponentially. The classic exponential function is 2\", and if you think this function looks innocent, think again. Here’s my favorite illustration of exponential growth: The moral: Repeated doubling amounts to exponential growth, and exponential growth is super, super fast growth. And indeed, one can show that an innocent looking recurrence like an+2 — «n+i + an + 2, where ai = a2 = 1, is growing exponentially. Slightly more simply, the Fibonacci sequence obeys the recurrence Fn+2 = Fn+1 + Fn, where a\\ = a2 = 1- It begins 1,1,2,3,5,8,13, 21,34,.... This sequence presents itself in the real world. First introduced to enumerate forms of poetry, it has since found numerous applications in music, plant biology and elsewhere. As claimed, it is also true that this sequence is approximated by an exponential function </>n, for some number </>. Let’s find </>. Notice that for exponential functions like 2\", the base number is the ratio of consecutive terms: - 2. For functions which grow like an exponential but aren’t precisely of this form, the ratio of consecutive terms approaches some fixed number. That is, <b= hm n—>oo r n real A nalysis, A Long-Form T extbook ■113 Applying this, as well as the Fibonacci recurrence F,1+i = Fn + Fn_i, 0 0+1. Moving everything to the left, 02 - 0 - 1 0. 0 = 1.625 , 1.615 , . while 0 = 1.618 .... And here’s just a silly coincidence: 1 mile is about 1.61 kilometers. Said differently, 1 mile is roughly 0 kilometers. So if you want to convert from miles to kilometers, you can use the Fibonacci sequence! For example. 3 miles is about 5 kilometers (as runners know), and 5 miles is about 8 kilometers, and 8 miles is about 13 kilometers, and 13 miles is about 21 kilometers, and so on. Golden. — (—1) + \\/(-l) 2 - 4(1)(-1) l + x/5 2(1) 2 = lim 11->06 21 13 1 1 + -. 0 13 T l + v/5 2 Fn + Fn-1 Fn Clearly the Fibonacci sequence is increasing which means 0 has to be at least 1. and so we must have 02 1 + ? That is, by using a little bit of trickery with limits we were able to show that whatever 0 is, it must satisfy the equation which by the limit laws implies that I = 15 5 - = 1.66 r 1-6 - r n This number might look familiar. It’s better known as the golden ratio. It too has popped up in unsuspecting places, including prominently in architecture. However, my favorite application of 0 is to distance. First, note that the ratio of consecutive Fibonacci terms approach 0 pretty quickly: u lim 0 71—>06 F n 0 — lim ^”+1 = lim it—>oo F n ri->oo And here is one of those wonderful moments when the key to finishing off a problem relies only on the math you learned in high school. If 0 must satisfy the above equation, then we can solve that equation to determine what <i> must be! Rewriting the above, And how do you solve a equation like this that doesn’t easily factor? The quadratic formula! The solutions are Appendix B: P eculiar and Pathological E xamples414 B.13 Peculiar and Pathological Perimeters i So you have a sequence of shapes, each with perimeter 8, that are “converging” to a shape with perimeter 2tt. . .so 8 = 2tt? And so % = 4? No! Because perimeters simply do not converge in the same way that areas do. Chapter 8 began with a procedure in which the area of polygons converged to the area of a circle, which we used to find the formula for the area of a circle. First, even though most of our attention was on the inscribed n-gons, it was quite important that we noted then that the areas of the inscribed n-gons and the areas of the circumscribed n-gons were both converging to the same thing. Interestingly, perimeter and area do not behave well together. If I have a sequence of shapes containing a circle whose areas are getting closer and closer to the area, of a circle, it need not be the case that the perimeters of those shapes are getting closer and closer to the perimeter of the circle. Indeed, consider the following procedure to converge to a circle. For example, consider the following sequence of shapes. Our first shape is a square that is circumscribed about the unit circle. For our next shape we cut off each of the corners of the square, and replaced them by straight line segments to the circle. This gave a new shape containing the circle, and this new shape now has 8 corners sticking out. We now repeat, cutting off all 8 of these corners in the same way. Repeating this indefinitely, one can see that the zig-zag shape is, in some way, converging to the circle. If you calculated the areas of the these zig-zag shapes, for instance, you would find that they are indeed converging to the area of the circle. But notice now that the perimeter of the first square is 8. The perimeter of the next zig-zag shape is... also 8! The straight line on the top of the square, for instance, is still there, it’s just now in three pieces: R eal A nalysis, A Long-Form T extbook 415 looks like it is approaching the Here’s another example. Note that each drawing below has the same perimeter. Let’s say the first drawing is a 1 x 1 square. Then every drawing has perimeter 1. In particular, the stair-step portion of each has length 2. • • . but in the, limit, the length-2 stair steps turn into a straight line hypotenuse of length y/2. This time, if perimeters and limits behaved nicely, this would imply that y/2 = 2! However, as the steps get increasingly tiny, it sure hypotenuse of a right triangle... There is one final interesting manifestation of this that I’d like to mention, called the. coastline paradox. If you fly above a coastline and take pictures of it. and then later use those pictures to measure the coastline’s length, the answer you'll get depends on how good of a camera you have. If you have a better camera your picture will include more small zigs and zags and consequently you will measure a longer distance than if your resolution is low, and the details run together. Its length is like some Schrodinger’s .stat, whose value doesn’t exist until observed.15 1 ‘ ■ • • Now, if you want to know how the coastline paradox affects the evil art of Gerrymandering, take my future class on the Math of Politics. Similar phenomena exist in functional analysis. For instance, it is possible for a pair of functions f and g to be very close to each other, while f and g1 are very far from each other. Likewise, it’s possible for two functions to be very close while their arc lengths are far apart. Dog owners know this from personal experience. If you take an energetic dog on a walk, even if the leash is pretty short (ensuring you two are “close” together at every moment), the dog still manages to hop from side to side, smell this, pee on that... the dog’s path length is much longer than yours! I bet my mom's dog walks twice the distance she does when they go on a walk together, despite her short leash. Appendix B; P eculiar and Pathological E xamples416 B.14 Fractal Functions Filling Foursquare Frames But a filled-in square does. [0, Ij X [0,1], where f(x) = (10a;,0.5). from can do this is f : [0, 0.1] All lines have no area, as well as all parabolas and (non-lilled in) circles. In fact, the graph of any continuous function you can think of probably has no area. Suppose, for instance, we wanted a continuous surjective (or onto) function that maps from the line segment [0,1] to the (filled-in) square [0,1] x [0, 1] thus, by just moving the points around, creating area out of no area. We have a domain of [0, 1] to work with what if we, for example, began by mapping [0,0.1] to the middle portion of the square, it would look like this:17 We have used up 10% of our domain and, in an area sense, we made zero progress toward our goal of magically creating area. The area of the “remaining” square is still 1, as we have only covered a single line, which had zero area. \"\"“But where did it come. l7An explicit function that A classic magical feat involves the magician seemingly creating something out of nothing. Whether it is a rabbit out of an empty hat, a person out of empty space, or lighter fluid out of a sleeve,16 such tricks always rely on a small lie — perhaps a hidden compartment or a sleight of hand. In math, though, lies are forbidden. Can one still create something from nothing? Let’s talk about area. A line segment is one-dimensional and so has no area. real A nalysis, A Long-Form T extbook 417 n □ Ln (3®,1) 18 [0,1] X [0,1] giving this: fo(x) = one continuous function (call it see (in any orientation), replace it with if x 6 [0,1/3]; (1,2-3®) if x G (1/3.2/3); (3 — 3x,0) if it (2/3,1). Indeed, it seems quite reasonable that there is no way around this, and you would be forgiven for believing that there can’t possibly be a continuous function which surjectively maps [0,1] to [0,1] x [0,1], But, as happens so often in real analysis, the magic exists ■ provided you look to the infinite. Consider the following infinite procedure. Here is fl) from [0,1] to [0,1] x [0,1]: It only covers three of the four borders, but that’s where we start.1 And even though our function’s graph has no area, we actually have made sonic progress. To sec why, what we do next is create a new function (call it J2) where we change three of the flat-spots into some orientation of the LI shape that we started with, like so: We continue. For every LI shape that you the above. The below is fa. □ CTJ An explicit fi : [0,1] Appendix B: P eculiar and Pathological E xamples418 the next three stages 2 way left to right forever, and so For the sequence (/i(0.1)), though, things Continuing this procedure, here are It’s certainly easier to describe and seems much easier to study. The problem is, this sequence does not converge. If g/c is the fcth function in this procedure, then, for example, the sequence (,%(0.1)) does not converge. These points are jumping all over the place. fems Cm I□ cirO fins siSww Sas; Each of these functions still has zero area, but this sequence of functions is famous because it converges, the limit is continuous, and every point (a, b) in the [0, 1] x [(), 1] square is a limit point of some sequence /i(x'o), /a^o), AG^o), ■ • • 1 Indeed, this is the true brilliance of this sequence. Suppose you had the idea to have a sequence of functions that you hoped would fill all the area of a square. It might be natural to consider a sequence like this: The dots’ vertical locations are stabilizing nicely (to about 90% of the vertical up), but its horizontal location is surely not. It will be bouncing around from this sequence won’t converge, are better behaved. Notice how the dots’ are converging to a point somewhere around (0.17,0.54). And so even though every f k has 0 area, their limit magically has area 1. R eal A nalysis, A Long-Form Textbook 419 A Prestigious Proof of a Primal PuzzleB.15 Before preceding, recall the following two results from Chapter 4. Back in the third century BC, Euclid proved that there are infinitely many primes, and today his argument is perhaps the world’s most widely known proof. If we let P be the collection of all prime numbers, then his proof began by assuming |P| is finite. If it is, and we let Fact B.5. If Q is any finite product of primes and n E N, then nQ+1 is not divisible by any of those primes. we only considered reciprocals of primes? Notice that even at the start a lot of terms are missing, and once you go way down the sum there arc a lot fewer numbers. Since the harmonic series just barely diverged. oo real numbers. Then a • rl: k=o • Proposition 4.9 [Geometric series test). Assume that a and r are non-zero t— if |r|<l; 1 - r diverges if |r| > 1. q=n? ’ pGP then we have obtained an integer which contains every prime as a factor. The contradiction then comes by considering Q + 1, which according to the fundamental theorem of arithmetic must also be prime or product of primes. But since Q + 1 = 1 (mod p) for every p g P, our collection of primes must be incomplete. Ta-da! One consequence of the above reasoning is the following fact. °° 1 o Proposition 4.15. The harmonic series V' -diverges. There are infinitely many primes, but. they become sparse as you move to larger and larger integers. Indeed, the celebrated prime number theorem says that the number of primes in {1,2,3,..., N] is about N/ log(TV). In particular, if you pick a large N , the probability that it is prime is about l/log(A). Since 1/log(.V) -> 0 as A? —> oo, this means that fewer and fewer numbers are prime. Now, we saw in Chapter 4 that not only does the harmonic series ~ diverge, but in some sense it just barely diverges -according to the series p-test (Proposition 4.1G), will converge for any r > 1. Here is an interesting question: What happens if instead of considering V 1 1 1 1 1 1 1 n ~ 2 3 + 4 + 5 + 6 + 7 + 8 + 9 + i0 + ll + l2 + 13 + ’‘’ y-A 1_11111 1 1 1 1 1 1 1 ^P~2 + 3+ 5+ 7+ ll + l3+ 17+ 19 + 23 + 3l+ 37 + 41+- pE r Appendix B: P eculiar and Pathological E xamples 420 C\" ) Let 3 1 2 Bk There are also combines one I will show yon is quite nice and developed in Chapter 4. Q = i<k Being the product of all primes at most pt, by Fact B.5 we see that n.Q +1 is not divisi­ ble by any of {p\\,p>, ■ ■ ■ ,p*}, and so must either be a prime in {pk+i,Pk+2,Pk+3, ■ ■ • }, or a product of primes from this set. Neat Observation B.7. Recall that (a; + y)2 = (:r + ?/)(a; + y) = (xx + xy + yx + yy). Likewise, (z + y + zf1 = (.?; + y + z)(x + y + z) = (xx + xy + xz + yx + yy + yz + zx + zy + zz); in particular, the answer is a sum of all ways to pick one thing from (x + y + z) multiplied with one thing from (x + y + z). More generally, (Pk+i +Pk+2 + Pfc+3 + P*+4 + • ■ ■ )2 is equal to a sum of all numbers which are a product of two (not necessarily distinct) primes from {pt+i,Pfe+2IPfc+3, - • • } (with some repetition). Even more generally, (pfcyi + AH2 + p*+3 +/A-+4 + ■ • • )J is equal to a sum of all numbers which are a product of j (not necessarily distinct) primes from {pk+i,Pk+2,Pk+3, ■ • ■ } (with some repetition). We are almost done. Next note that (—d----- 1- —-— F —!---F —1-----F .. . V is 'PAH Pfc+2 Pk+3 Pk + 1 ’ equal to a sum of all numbers of the form — where m is product of j primes from {pa.+1,pj.+2,pa..+3, ... } (with some repetition). And, lastly, that is the sum of all numbers of the form ± where m is product of any number of (not necessarily distinct) primes from {pk+i,Pk+2, Pk+3, • • • } (with some repetition). and the sum of reciprocals of primes seems to be growing' muc h slower than the harmonic: series, it would be reasonable to guess that this second sum might converge. Interestingly, as the great Leonard Euler proved, it does not. Theorem B.6. V' - = oo. p p£Pl many known proofs of this. The some important tools we Proof. Assume for a contradiction that p converges to some real number L. Since each 1/p > 0, the sequence of partial sums is monotonically increasing to £ and by the definition of sequence convergence, at some point the partial sums get above L — | ■ said differently, at some point the “tail” of this sum is less than 1/2. That is, if we enumerate the primes in order, P = {pi,P2,P3,... }, then there must exist some k for which E1Pi i>k ‘ 1 oo / , £ fc” j= l \\i> k r R eal A nalysis, A Long-Form T extbook 421 That neat observation is useful because we also know that its positivity with ( ) we have that OO To review: Putting this all together, j L. Combining (' / ) and (-'■ ■) gives the contradiction that oo < £: □ j 1 Q + l is the sum of all reciprocals of products of primes from {pfc+i,Pfc+2,Pfc+3, • • • }• Moreover, this sum converges to L. 1 n 1 Pi OO E oo E i «(Q +1) • By Neat Observation B.7, , ^2 i>k 1 nQ + 1 0 < r < 0° 1 converges by the geometric series test. Indeed, if we let r = ) , ~ ■ then combining i>k Pi j = L. 1 00°o=7^-y Q+ 1 ° Since Q = P[i<fc pt, by Fact B.5 we know that for any n € N, nQ +1 is a product only of primes in the set {pfc+i,Pfc+2,Pfc+3> • • • }• Therefore £* =1 is the sum of some of the reciprocals of products of primes from {pp+i.pr-2-Pl+:i- • • ■ }• 0° / j= l \\i> k ‘ But since 0 < nQ + 1 < n(Q + 1) for all n g N, we see that w|-F-j) < Tprpp Furthermore, since the harmonic series diverges, we have that l>fc ‘ and by the geometric series test converges whenever |r| < 1. Since it converges, let’s say that it converges to L G R: j = £. 1 i>kp ‘ x / I j= l \\i>k 1 ‘ °° y —— Appendix B: P eculiar and Pathological E xamples422 B.16 A Topological Treatment with a Tremendous Twist ..., -21, -17, -13, -9, -5, -1,3, 7,11,15,19,23,27,.... above, and • ■, -23, -20,-17, -14, -11, -8, -5, -2,1,4, 7,10,13,16,19,22,25,..., then the numbers with the infinite arithmetic progression ..., —45, -35, -25, -15, -5, 5,15,25,35,45,.... A sequence of numbers like 2, 5,8,11,14 is an secutive numbers differ by the same constant - progression is -10, -5,0,5,10,15, 20. Likewise, an infinite arithmetic progression is an infinite list of numbers with this common difference property. For example, arithmetic progression because con- in this case, 3. Another arithmetic (ii) The intersection of any finite collection of these open sets is another open set. For technical reasons we also insist that Z and 0 are considered open. And if a set A is open, then its complement Z \\ A is called closed. What does this have to do with infinite arithmetic progressions? Well, we said at the top that infinite arithmetic progressions also have the property that if you intersect any finite collection of them, you get another infinite arithmetic progression. Are infinite arithmetic progressions the open sets of a topology on Z?? Sadly, they don’t satisfy the union condition; if you pick almost any two infinite arithmetic progressions you will find that their union is not an infinite arithmetic progression. However, if we declare a set U to be open if it’s either the empty set or is an infinite arithmetic progression or is a union of infinite arithmetic progressions, then 19The empty set is obtained when, for example, you intersect the infinite arithmetic progression ----- 40, -30, - 20, -10,0,10, 20,30,40... Notice that if you have an infinite arithmetic progression like the one a second infinite arithmetic progression like ...,-29,-17,-5,7,19,31,..., that arc in both infinite arithmetic progressions also forms an infinite arithmetic progression. Indeed, since the first had a common difference of 3 and the second had a common difference of 4, the common difference of their “intersection” will be 12, which is the least common multiple of 3 and 4. As you can imagine, if you intersected any finite collection of infinite arithmetic progressions, you will either get yet another infinite arithmetic progression or will get the empty set.19 In Chapter 5 we learned about the topology of K, but there are many other topologies in the world, which are defined to satisfy the properties we proved in that chapter. Indeed, a topology of Z is any collection sets (called open sets) where (i) The union of any collection these open sets is another open set, and ■123R eal A nalysis, A Long-Form T extbook (1 + mZ) U (2 + mZ) U • ■ • U ((m - 1) + mZ), which is the union of open sets and hence is open. I®)P1Z U/oZ U ■ ■ ■ UpfcZ (piZ U p%Z U • • • U pkZ)' {-Mb is a finite union of closed sets and hence is also closed. Moreover, since every number except for 1 and —1 is a product of prime numbers and hence is a multiple of a prime, this would imply that I'm) includes every integer except for 1 and -1. Said differently. you can show that this collection forms the open sets of a topology on Z, called the evenly spaced integer topology For in 0 and any a, we will use a + mZ to denote the infinite arithmetic progression .., a - 3m, a - 2m, a - m, a,a + rn,a + 2m., a + 3m. strange topology and noted that it has the closed set. Where is this headed? You're not going to infinitely This proof was discovered by Hillel Furstenberg in 1955, when he was an un­ dergraduate student. It’s pretty neat that 2000 years after Euclid first proved the infinitude of primes, more proofs are still being discovered. and so {—1,1} is the complement of a closed set and hence is open. But wait! Every nonempty open set is supposed to contain an infinite arithmetic progression, which { — 1,1} clearly does not, and so we have a contradiction. Therefore there must be infinitely many primes. 2(1 A set in a topology is called clopen if it is both open and closed. In the topology of R that we studied in Chapter 5, the only clopen sets were 0 and R. but oftentimes other topologies have many such sets. Ok, fine, we have constructed a property that any mZ is a believe this, but we are just two short paragraphs from proving that there are many prime numbers! What?? Check this out.. Suppose there were finitely many primes, pi,P2, • • • ,Pk- Since we noted above that p,Z is closed in the evenly spaced integer topology, this means that So not only are 3Z and 5 + 4Z open sets in the evenly spaced integer topology, but 3Z U (5 + 4Z) is also considered to be open in this topology, even though it is not an infinite arithmetic progression. So we know that m.Z is open in this topology, since it is an infinite arithmetic progression, but we can also show that it must be closed!20 Being closed means your compliment is open, and the set mZ is closed since it is the compliment of Appendix B: P eculiar and Pathological E xamples424 B.17 Modern Measuring’s Misfit Member and 2. Bigger sets get bigger CO u )= .1=1 / 2=1 oo aq IJ/fc k=l oo • The length of the interval [a, b] is equal to b—a, and is denoted .if([a, b]). This is also the length of (a, b), (a, b] and [a, b). E.g., .i?([—2,4]) — 6, .S?([3,oo)) = oo. • A set .4 C R has measure zero if for all e > 0 there exists a countable collection A, h, A, ■ ■ • of intervals such that Intuitively, having measure zero means that you can cover the set with a countable collection of intervals whose collective length is as close to 0 as you want. Sets can also have measures larger than zero. For instance, the measure of [1,4] (which we denote /z([l, 4])) is equal to 3, which is its length. Also, /z([2,3] U [7,9]) = 3. More complicated sets can also have a measure equal to 3. Intuitively, this occurs when you can cover your set with a countable collection of intervals whose collective length is as close to 3 as you want, and also you can find a countable collection of intervals which are covered by the set and whose collective length is as close to 3 as you want.21 In the end, one obtains a non-negative function /z on subsets of R which does indeed generalize the notion of length, and has the following four important properties. These are all properties that you would demand if /z is sensibly measuring the sizes of sets. One might hope that every set under the sun can be measured. Sadly, this is not possible, but the good news is that only really weird sets are non-measurable. Below we construct such a set. The argument works best if we assume for a contradiction that every set is measurable and then construct a set that can not possibly satisfy the above four properties. 2’For details, go to grad school. 3. Shifting a set does not change its measure: If ;z.'o 6 R, then //.(A + xq) = /z(A). (A + x0 means that we add xq to everything in A; A + xq = {a + xq : a. e A}.) 4. If a set can be broken into pieces, the measure of the set equals the sum of the measures of its parts: If A and B are disjoint, then /z(A U B) = //.(A) + fi(B). And more generally, if Ai, A2, A3,... are pairwise disjoint, then 1. It gives the correct answer for intervals: If A is an interval, then /z(A) = .^(A). measures: A C B. then p(A) < n(B). Measurability was introduced in Chapter 8 as a generalization of the length of an interval. In Chapter 8 we focused only one what it means for a set to have measure zero. Here’s a reminder of how we defined those. R eal Analysis, A Long-Form T extbook ■125 o Summarizing, which by Properties 2 and 4 mean that So by Property 1 and the second bullet point above, That is, we have a sum of infinitely many copies of the same non-negative number, which can only possibly equal 0 or oo, giving the contradiction. OO / OO \\ OO 00 l<m =E^) = E a <3, i=l i=l oo [0,1] £ |J Ei C [—1,2], 00 an enumeration of the rationals in [—1.1], and which you might already be able to see is impossible, giving the contradiction. That’s where we are headed. The main challenge is to construct these disjoint sets Ei which all have the same measure and whose union is between [0.1] and [-1,2]. Assume for a contradiction that every subset of R is measurable. Define an equivalence relation ~ on R by x ~ y if x — y G Q. Each equivalence class is then of the form {x + r : r G Q}, for some x. For example, the equivalence class containing 7r also contains tt — 3 and tt + 24.85, but doesn’t contain tt - v^2 or e + 7. Note that each equivalence class contains many numbers in [0. Ij. For each equivalence class, pick one such number, and let E be the set of these numbers. There are of course lots of options for E. For instance, tt - 3 might be in there (but if so, then tt — 2.874 and tt — 3.1 are not), and \\/2 — 0.8 and e — 2.4 might be in there too. This all implies a few things: The idea is to create a (countably) infinite collection of disjoint sets Ej, Ej. E;;. • • • • each set having the same measure (by using the third property), and whose union has the property [0,1] C |J“ i Ei C [-1,2] (which by properties 1 and 2 then imply 1 < g (IJi^i < 3). If each /r(E,) = a (some a > 0), then this will imply Suppose {ri,r2,7'3, • • • } is Ei = E + n. Then, ° Ei C [—1,2] (smallest possible number is 0+(-l), biggest is 1-1); ° l^E) = n(Ei) (by Property 3); Ei (T Ej = 0 for all i j (by definition of E and Ei); ° [0,1] £ U“ i Et (any x G [0,1] is in some equivalence class, and therefore x is some r, G [—1,1] away from an element of E). Appendix B: Peculiar and Pathological Examples426 B.18 Tarski’s Terrific Talents Times Two a, aa, aaa, aaaa, aaaaa, . .. <INFINITELY MANY HYPERWORDS> ..., aaab, aaaba, aaabaa, ... <INFINITELY MANY HYPERWORDS> aab, aaba, ... <INFINITELY MANY HYPERWORDS> .. ., ab, aba, abaa, . .. CINFINITELY MANY WORDS> ..., b, ba, baa, baaa, ... The great Ian Stewart imagined a hyperdictionary, which contains not only every word, but also contains every possible word. Sure, it contains “math” and “is” and “fun\", but it also contains “ydac” and “faqir” and “galbhepvnx”.22 These are called hyperwords. The hyperdictionary contains infinitely many words, since any combination of finitely many letters counts as a hyperword. The hyperdictionary begins: The words form what is called a total ordering meaning that any two of them can be compared to determine which comes first in the hyperdictionary but things are still a little weird in that most pairs have infinitely many words between them. The hyperdictionary has another amazing property in some sense it contains itself. This is what 1 mean: Suppose the hyperdictionary wen' divided into 26 volumes, based on each word’s first letter. If you want a copy of the hyperdictionary but don’t have enough money to buy all 26 volumes, do this: Buy Volume A and a lot of white-out. Every word in Volume A starts with an ‘a’ now go through this volume and white out that first ‘a ’ from each word. After doing so what you’re left with is the entire 26 volume hyperdictionary! For example, we don’t need Volume K to get the word “kdalghsdh”, because the word “akdalghsdh” was in Volume A, and after removing the first ‘a ’ with white-out, you’re left with “kdalghsdh”! This is an interesting phenomenon, and it’s only possible with an infinite dictionary. It might remind you of Chapter 2 where, for instance, we showed that a set (like N) can be in bijection to a proper subset of it (like 2N). Now we move on to an amazing theorem, named after Stefan Banach and Alfred Tarski who in 1924 gave a construction that shocked the mathematical word.23 We begin by noting that a square can be divided up into five pieces, and those five pieces can then be rearranged to form two other squares: These new squares are, of course, smaller each has half the area of the original square. However, of course, you should always be careful when saying “of course” in 22Actually, one of those is a real word! 23If I could have either a construction, lemma or theorem named after me, I think my preferences would be in that order. To me, proving something is cool, but proving something that is fundamental enough and used often enough to be called a lemma is even cooler, but the best would be to construct a concrete mathematical object that shocks and awes. -127R eal A nalysis, A Long-Form T extbook 2lWell, nearly every. See below. mathematics. The Banach-Tarski construction is amazing. It is incredible. It says that you can take a solid sphere, break it up into 5 pieces, rearrange those pieces, put those pieces together in a different way, and the result is two separate spheres both, of which are the same size as the original sphere. Seriously. Throughout this book I’ve tried to point out moments where you should not just breeze by some fact, but appreciate it. Here, if you’re not marveling, you're doing it wrong. This theorem is often called the Banach-Tarski paradox, not because there isn t a proof, but because it’s just so freaking unbelievable. It s the kind of result where, if it was announced tomorrow that the proof had a mistake that for some reason had been missed for a century, we’d all nod along and wonder how anyone could have ever believed something so obviously false. There are many amazing results when studying the infinite, but Banach-Tarski reigns king over them all. The first thing to note is that when you cut the sphere into 5 pieces, they re not simple cuts like with the square example above. The cuts are weird. Some ol the resulting pieces are non-measurable (see PP Example B.17), which helps get around the apparent preservation-of-volume contradiction. In fact, the cuts essentially take the sphere and turn it into a hyperdictionaryl Doing it in detail goes beyond the scope of this appendix, but the below should at least give you a feel for the proof. First, when dividing the sphere into 5 pieces, our pieces will have this property: Il a point on the surface is in one of the pieces, then all the points between that surface point and the sphere’s center are also in the same piece. Basically, this allows us to only focus on the surface of the sphere, because if we know how to divide up those points, then all the internal points are in turn divided up too. Pick a point s on the surface of the unit sphere, which we call the starting point. We consider a hyperdictionary using just the letters F, B, L and R. which stand for ‘forward’, ‘backward’, ‘left.’ and ‘right’. We call, for example, a point on the sphere FLBLB if we can reach that point by beginning at the starting point s (facing in some direction that we call the “forward direction”), moving one step forward, one step left, one step backward, one step left, and then one step backward (here, each step is of distance arccos(l/3) « 1.23). In a sense, each hyperword acts as a set of directions. Consider the hyperdictionary of all such directions, which in turn correspond to a bunch of points on the surface of the sphere. (But throw out directions which include, say, FB or LR, since those cancel each other out.) Notice that unlike when one moves on a plane, when on the surface of a sphere the point FR.B and the point 7?. are not the same. Indeed, every24 such P/B/lfR sequence in this hyperdictionary corresponds to a distinct point on the sphere. Not every point can be reached in this fashion from our starting point, though. So now pick a point that wasn’t hit, use that as a new starting point, and go again. To get all the points, we must do this with uncountably many starting points, each of which uses the hyperdictionary to produce countably many more points. Let Collection R be the set of all points which were reached from their starting point by a sequence of steps that ends with an R (a right step). Likewise, let Appendix B: P eculiar, and Pathological E xamples428 • R o <A starting point>• RL • LFFLBRR • LFFLBRRL • LFFLBR • BBR O BBo BBRL • FRRFR. • FRRFRL o FRRF Following this amazing theorem, I’ll encl this book with my favorite math joke. Q: What’s an anagram of Banach-Tarski? A: Banach-Tarski Banach-Tarski. 25You’ll know what points I’m referring to if you’ve ever heard the riddle “A bear walks 1 mile north, then 1 mile east, and then 1 mile south, and ends where it started. What color is the bear?” 4 :‘' A•■t -ts. And what’s left afterwards? Simply by rotating Collection R to the left one notch we get all of Collection R. back, as well as Collections S', B and F! It’s the same set of points, just rotated, but somehow this rotation turned one collection into four! This is the magic that allows us to take certain sets, move them around in space, and have them form not only a copy of themselves, but also copies of some of the other sets. If you do this carefully, you can form two copies of everything, which when pushed together just right give two copies of the original sphere. Amazing. It’s kind of like how the right branch of the fractal below, if rotated 90° and scaled properly, gives back itself, as well as the top and left branches. 'O' _______ < A4* — Collection L be the set of all points that are reached by a sequence ending in an L. And likewise for Collection F and Collection B. Finally, let Collection S be the set of all starting points. These live sets are nearly the five pieces that we cut the sphere in to. (There is one final issue, which is that there is a small collection of points which actually can be reached in multiple ways, but they are inconsequential in the end so we ignore them here.25) So where does the magic happen? Here’s the important question: What happens if you take Collection R, which are the points that ended with a right step, and you simply rotate this collection one step to the left? Notice how that’s the same as taking the sequences in Collection 7?. and adding an L to the end! But adding an L after an R simply cancels out that 7?, almost like applying white-out to the last, letter! Index 429 / ^-neighborhood, 76 fcth-term test, 121 p-test, 128 w-substitution, 307 Absolute convergence, 133 Absolute value, 14 Algebraic number, 62 Alternating harmonic series, 132 Alternating series test, 130 Antiderivative, 306 Arbitrary unions, 151 Archimedean principle, 28 Arzela-Ascoli theorem, 341 Average value of a function, 315 Average velocity, 219 Axioms, 24, 108, 372 Basic function definitions, 7 Bijection principle, 43 Bolzano-Wcierstrass theorem, 101 Bounded function, 196 Bounded sequence, 67 Bounded series, 118 Bounded set, 20 Darboux integrable. 276 Darboux’s theorem. 237 De Morgan's laws, 34. 36. 156 Dense, 30. 31 Derivative. 222 Derivatives and integrals of power series, 350 Devil's staircase, 400 Cantor set, 381 Cardinality, 5, 43, 45 Cartesian product, 5 Cauchy condensation test, 142 Cauchy criterion, 104 Cauchy criterion for uniform convergence, 363 Cauchy criterion, functional sequences, 340 Cauchy criterion, functional series, 343, 364 Cauchy mean value theorem. 245, 253 Cauchy sequence. 104 Cauchy sequence of functions. 340 Ceiling function. 32 Chain rule, 230 Circumscribed polygon. 259 Clopen, 154, 167 Closed interval. 32 Closed set, 153 Compact set, 158 Comparison test, 125 Complete set, 21 Composition of functions. 189, 396 Conditional convergence. 133 Connected set, 168 Construction of R. 371 Continuity limit laws. 188 Continuity, e-<5 definition. 186 Continuum hypothesis. 54 Converge absolutely. 133 Converge conditionally. 133 Convergent sequence. 69, 77 Countable infinity. 52 Cover, 157 INDEX 430 mi Harmonic series, 126 Height of a Darboux rectangle and IWj, 269 Heine-Borel theorem, 159 Heine-Borel theorem, expanded, 162 Hilbert’s hotel, 45 Game theory, 72 Geometric series, 122 Geometric series test, 123 Greatest lower bound, 20 Field, 11 Finite subcover, 157 Floor function, 32 Func-y limit laws, 185 Func-y squeeze theorem, 186 Functional limit, 177 Fundamental theorem of calculus, 302 Equicontinuous, 340 Extreme value theorem, 197 Digital sundial, 386 Dirichlet’s function, 173 Disjoint sets, 5 Distance function, 18 Divergent sequence, 77, 78 Don’t forget your +C, 242 One-sided limit, 210 Open cover, 157 Open interval, 32 Open question, 41 New power series from old, 351 Nonverges, 110 Nowhere differentiable function, 408 L’Hopital’s rule, 245 Least upper bound, 20 Least upper bound property, 21 Left-hand limit, 210 Leibniz’s Rule, 253 Length of an interval, 293 Limit, 69 Limit inferior, 144 Limit point, 154 Limit superior, 144 Linearity of the derivative, 227 Linearity of the integral, 296 Lipschitz continuous, 251 Local maximum, 235 Local minimum, 235 Lower integral, 274 Lower sum, 270 Intermediate value theorem, 200 Interval, 32 Interval of convergence, 348 Inverse image, 190 Inverse of a function, 190 Inequality, 13, 45 Inlimum, 20 Infinitely differentiable function, 355 Inscribed polygon, 259 Instantaneous velocity, 221 Integrability of continuous functions, 281 Integrability of discontinuous functions, 284 Integrability, measure zero condition, 294 Integrable, 276 Integrable criteria, 279 Integral definition, 276 Integration by parts, 306 Intermediate value property, 201 intermediate value property, 211 Maclaurin series, 354 Mean value theorem, derivative version, 241 Mean value theorem, integral version, 300 Measure zero, 293 Meme, 171, 180 Monger sponge, 388 Modified Dirichlet’s function, 174 Monotone convergence theorem, 90 Monotone function, 216 Monotone sequence, 90 Monotone series, 118 R eal A nalysis, A Long-Form T extbook 431 Quotient rule, 229, 250 Zeno’s paradoxes, 1 Open set, 149 Ordered field, 12 Ratio test, 142 Real numbers, 1 Rearrangement theorem, 134 Rearrangements of series, 134 Recursion, 431 Refinement, 271 Refinements refine, 271 Removable discontinuity, 213 Reverse triangle inequality, 17 Riemann integrable, 276 Riemann integral, 268 Right-hand limit, 210 Rolle’s theorem, 239 Root test, 143 Secant lines, 218 Sequence, 65 Sequence limit laws, 85 Sequence of functions, 323 Sequence of partial sums, 118 Sequence squeeze theorem, 87 Weierstrass M-test. 344 Well-ordering principle. 33 Table of properties, functional convergence. 339 Table of properties, power series. 349 Tangent line, 221 Taylor polynomial, 355 Taylor series, 354 Taylor series, error function. 356. 358 The triangle inequality, 15 Thomae’s function. -1. 175. 210. 292, 314, 315 Topological continuity. 190 Topologist’s sine curve. 201. 232 Topology of R, 149 Tragedy, 301 Transcendental number. 62 Triangle inequality, 15 Series convergence, 118 Series convergence tests, 121 Series limit laws. 119 Serie's of functions. 342 Set, 4 Set theory, basic definitions, 4 Sierpinski's carpet. 388 Step function. 320 Subsequence, 94 Subsequential limit. 109 Suprema analytically theorem. 26 Supremum. 20 Partition of [a, b], 269 Peculiar and pathological examples, 379 Pointwise convergence, functional sequence, 324 Pointwise convergence, functional series, 342 Popcorn function, -1, 175, 210, 292, 314, 315 Porisin, 285 Power rule, 250 Power series, 346 Power scries centered at c, 353 Power set, 5 Pre-image, 190 Product rule, 228 Uncountable infinity, 52 Uniform continuity. 204 Uniform convergence, functional sequence, 329 Uniform convergence, functional series. 342 Upper integral. 274 Upper sum, 270","libVersion":"0.3.1","langs":""}