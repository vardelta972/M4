{"path":"iCloudDrive/bks/Combinatorics/Combinatorics/WOOT Combinatorics - Victor Wang - X 2013.pdf","text":"WOOT Combinatorics Victor Wang September 10, 2013 [url=http://www.artofproblemsolving.com/Forum/viewtopic.php?p=2572053p2572053]Subject: Invari- ants Monovariants, Problem 8[/url] [quote=”Zhero”]Let G be the group of upper triangular matrices over the ﬁeld Z/3Z, i.e., the group of all matrices of the form   1 x y 0 1 z 0 0 1   , where x, y, and z are residue classes modulo 3. Note that   1 x y 0 1 z 0 0 1   3 =   1 3x 3y + 3xz 0 1 3z 0 0 1   =   1 0 0 0 1 0 0 0 1   , i.e., g3 is the identity in G for any g ∈ G. Deﬁne a =   1 1 0 0 1 0 0 0 1   , b =   1 0 0 0 1 1 0 0 1   . Since   1 x y 0 1 z 0 0 1   = b za x−1b −yab y, a and b generate G. Also, we have ab =   1 1 1 0 1 1 0 0 1   ̸=   1 1 0 0 1 1 0 0 1   = ba. We now interpret the word c1c2 · · · cn as the product c1c2 · · · cn in G. Since inserting or removing any word of the form www leaves the product invariant, and ab ̸= ba, it is impossible to change ab to ba by inserting or removing words of the form www, so our proof is complete. [hide=”How I came up with the group”]By Lagrange’s theorem, each subgroup must have order divisible by 3; by Sylow’s theorem, the order of the group must be a power of 3. I then WENT AND LOOKED UP LISTS OF GROUPS WITH ORDER 9. They were all commutative. Then I went AND LOOKED UP LISTS OF GROUPS WITH ORDER 27. The group I mentioned above happened to be in that list. Problem solved! Yes, I would never be able to come up with this on an Olympiad. But I thought this solution was interesting, so I just decided to share it anyway.[/hide][/quote] [url=http://www.artofproblemsolving.com/Forum/viewtopic.php?p=2577746p2577746]Subject: Invariants Problem List[/url] [quote=”nsato”][b]Invariants Monovariants, Problem 1[/b] Each cell in a 4 × 4 grid contains a 1 or −1. We may change all the signs of the numbers that are in the same row or column. (a) Starting with the numbers below, is it possible to change all the numbers to 1? 1 −1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 Victor Wang WOOT Combinatorics (b) Suppose we are also allowed to change all the signs of the numbers that lie in a line parallel to one of the diagonals. (This gives us 14 new possible moves.) Can we then change all the numbers to 1? [hide=”Solution”] (a) The product of all 16 numbers is an invariant, and is initially equal to −1, so not all 16 numbers can be changed to 1. (b) The product of the squares indicated below is an invariant, and is initially equal to −1, so it is still not possible to change all 16 numbers to 1. X X X X X X X X [/hide] [b]Invariants Monovariants, Problem 2[/b] There are n 1s written on a blackboard. You erase two numbers, say a and b, and replace them with (a + b)/4. After n − 1 steps, there is only one number left on the blackboard. Prove that this number is at least 1/n. (Russia, 1991) [hide=”Solution”] Let S be the sum of the reciprocals of the numbers. We claim that S is non-increasing. When we replace a and b with (a + b)/4, the value of S decreases by 1 a + 1 b − 4 a + b = (a − b) 2 ab(a + b) , which is clearly nonnegative. Initially, S is equal to n. Therefore, if the last number is x, then x must satisfy 1/x ≤ n, so x ≥ 1/n. [/hide] [b]Invariants Monovariants, Problem 3[/b] Three piles of stones are given. Sisyphus carries the stones one by one from one pile to another. For each transfer of a stone, he receives from Zeus a number of coins equal to the number of stones in the pile from which the stone is drawn minus the number of stones in the recipient pile (with the stone Sisyphus just carried not counted). For example, if Sisyphus takes a stone from a pile with 10 stones and puts it in a pile with 3 stones (so that the piles now have 9 stones and 4 stones), then he will get 9 − 3 = 6 coins. If this number is negative, Sisyphus pays the corresponding amount (the generous Zeus allows him to pay later if he is broke). At some point, all stones have been returned to their piles. What is the maximum possible income for Sisyphus at this time? (Russia, 1995) [hide=”Solution”] We can assume that in each pile, the stones form a vertical column, and that Sisyphus can only move the top stone of one pile to the top of another pile. Deﬁne the [i]potential[/i] of a stone as its position in a pile, from the ground up. For example, the stone at the bottom has potential 1, the stone above that has potential 2, and so on. Let s be sum of the potentials of the stones, and let t be Sisyphus’s income. We claim that s + t is invariant. Suppose that Sisyphus moves a stone from a pile with a stones to a pile with b stones, so the piles start with a + 1 stones and b stones, and end up with a stones and b + 1 stones. Then Sisyphus gains a − b coins (or pays b − a coins). Furthermore, the stone’s potential decreases by (a + 1) − (b + 1) = a − b (or increases by b − a). These two diﬀerences precisely oﬀset each other. If the stones return to their piles, then Sisyphus’s income must return to its original value, which is 0. See [url]http://en.wikipedia.org/wiki/Sisyphus[/url] for the myth of Sisyphus. [/hide] [b]Invariants Monovariants, Problem 4[/b] In the sequence a1, a2, a3, . . . , each term (starting with a4) is the average of the three previous terms. In terms of a1, a2, and a3, ﬁnd the limit of the sequence. [hide=”Hint”]Find an invariant.[/hide] [hide=”Solution”] The sequence (an) satisﬁes a linear recurrence, whose characteristic polynomial is x3 − (x2 + x + 1)/3. This polynomial factors as x3 − x2 + x + 1 3 = 1 3 (x − 1)(3x2 + 2x + 1). Let z1 and z2 be the roots of the quadratic 3x2 + 2x + 1 = 0. Then an = c + c1zn 1 + c2zn 2 , for some constants c, c1, and c2. It is easy to check that |z1| < 1 and |z2| < 1. This establishes that the sequence (an) does have a limit, namely c. We claim that ai + 2ai+1 + 3ai+2 is an invariant (in i). Note that ai+1 + 2ai+2 + 3ai+3 = ai+1 + 2ai+2 + (ai + ai+1 + ai+2) = ai + 2ai+1 + 3ai+2. 2 Victor Wang WOOT Combinatorics For i = 1, this quantity is a1 + 2a2 + 3a3. Letting i go to ∞, this quantity goes to c + 2c + 3c = 6c. Therefore, the limit of the sequence is c = a1 + 2a2 + 3a3 6 . [/hide] [b]Invariants Monovariants, Problem 5[/b] All the volumes of an encyclopedia are on a shelf, but not in the correct order. Every minute, the librarian takes a volume that is not in its proper place and puts it in the proper place. (If the number of the volume is k, then the librarian puts it at place k.) Prove that eventually, all the volumes will be in the correct order. [hide=”Solution”] Let ai be the position of volume i, let di = |ai − i|, and let S = ∑ di. We claim that each time the librarian puts a volume in the proper place, S strictly decreases. If the librarian puts volume k in the proper place, then the term dk = |ak − k| becomes 0. The only other terms that change are the terms di where i is between k and ak (and i is not equal to k). There are |ak − k| − 1 = dk − 1 such terms, and if any such term increases, then it increases by at most 1. Therefore, S decreases overall by at least dk − (dk − 1) = 1. Since S is nonnegative, S must stop decreasing at some point. However, if S is positive, then at least one volume is out of order, and S can be further decreased. Therefore, all the volumes must be in the correct order. [/hide] [b]Invariants Monovariants, Problem 6[/b] The numbers 1, 3, and 8 are written on a blackboard. You may repeat the following step: If the numbers on the blackboard are a, b, and c, then you can replace c with the number 2a + 2b − c. Is it possible that at some point, the numbers 2, 5, and 13 appear on the blackboard? [hide=”Solution”] Let S = a 2 + b2 + c 2 − 2ab − 2ac − 2bc. We claim that S is an invariant. When we substitute 2a + 2b − c for c, we get S = a 2 + b 2 + (2a + 2b − c)2 − 2ab − 2a(2a + 2b − c) − 2b(2a + 2b − c) = a 2 + b 2 + 4a 2 + 4b2 + c2 + 8ab − 4ac − 4bc − 2ab − 4a 2 − 4ab + 2ac − 4ab − 4b2 + 2bc = a 2 + b2 + c 2 − 2ab − 2ac − 2bc. The initial value of S is 1 2 + 32 + 8 2 − 2 · 1 · 3 − 2 · 1 · 8 − 2 · 3 · 8 = 4. However, for the num- bers 2, 5, and 13, S would be 2 2 + 5 2 + 13 2 − 2 · 2 · 5 − 2 · 2 · 13 − 2 · 5 · 13 = −4. Therefore, the numbers 2, 5, and 13 can never appear. We might think of S = a 2 + b2 + c2 − 2ab − 2ac − 2bc as an invariant, because if c is a root of a 2 + b 2 + c2 − 2ab − 2ac − 2bc − S = 0, then so is 2a + 2b − c (as in [url=http://en.wikipedia.org/wiki/Vietajumping]V ietajumping[/url]).[/hide][b]InvariantsM onovariants, P roblem7[/b]T hesidesof a99− gonareinitiallycoloredsothatconsecutivesidesarered, blue, red, blue,. . . , red, blue, yellow.W emakeasequenceof modif icationsinthecoloring, changingthecolorof onesideatatimetooneof thethreegivencolors(red, blue, yellow), undertheconstraintthatnotwoadjacentsidesmaybethesamecolor.Bymakingasequenceof suchmodif ications, isitpossibletoarriveatthecoloringinwhichconsecutivesidesarered, blue, red, blue, red, blue,. . . , red, yellow, blue?(U SAM O, 1994)[hide = ”Solution”]F or1 ≤ i ≤ 99, we label the i th edge (starting at some point and going clockwise) with a number ai, where ai is 0, 1, or 2, depending on whether the edge is red, blue, or yellow, respectively. Let P = (a1 − a2)(a2 − a3) · · · (a98 − a99)(a99 − a1). The only way to change the color of edge i is if the labels of edges i − 1, i, and i + 1 are of the form x, y, and x, respectively. The label of edge i then changes to z, where z is not equal to x or y. Note that (x − y)(y − x) ≡ −(x − y) 2 ≡ −1 (mod 3), since x − y is not divisible by 3. Similarly, (x − z)(z − x) ≡ −(x − z) 2 ≡ −1 (mod 3), so P modulo 3 is an invariant. Initially, P is equal to (0 − 1)(1 − 0)(0 − 1)(1 − 0) · · · (0 − 1)(1 − 2)(2 − 0) ≡ −1 (mod 3). 3 Victor Wang WOOT Combinatorics But for the coloring red, blue, red, blue, red, blue, . . . , red, yellow, blue, P is (0 − 1)(1 − 0)(0 − 1)(1 − 0) · · · (0 − 2)(2 − 1)(1 − 0) ≡ 1 (mod 3). Therefore, this second coloring cannot be achieved. [/hide] [b]Invariants Monovariants, Problem 8[/b] Consider the set of all words consisting of the letters a and b. Given such a word, we can change the word either by inserting a word of the form www, where w is a word, anywhere in the given word, or by deleting such a sequence from the word. Can we turn the word ab into the word ba? (Leningrad, 1988) [hide=”Solution”] For a word w, let f (w) = x1 + 2x2 + 3x3 + · · · + nxn, where xi is 0 or 1, according to whether the i th letter of w is a or b, respectively. It is easy to check that f (w) modulo 3 is an invariant. Since f (ab) = 2 and f (ba) = 1, the word ab cannot be turned into the word ba. [/hide] [b]Invariants Monovariants, Problem 9[/b] A number of students are sitting in a circle, and each student has an even number of pieces of candy. On a signal, each student passes half of his or her trove to the student on his or her right. Between signals, the teacher gives any student with an odd number of candies one more piece to make the number even, and the signal is given again. Show that after a ﬁnite number of iterations, all the students have the same number of pieces of candy. (Tournament of Towns, 1983) [hide=”Solution”] At the start, let the minimum and maximum number of pieces of candy a student has be 2m and 2M , respectively. We may assume that m < M . In the ﬁrst exchange, each student can retain at most M pieces of candy, and each student can receive at most M pieces of candy, so after the exchange, each student has at most 2M candies. Hence, the maximum number of pieces of candy a student has is non-increasing. On the other hand, some student who originally has 2m pieces of candy must receive more than m pieces of candy, so after the exchange, this student has more than 2m pieces of candy. Thus, the number of students who have 2m pieces of candy must strictly decrease with each exchange, until there are none left, at which point the minimum number strictly increases. Therefore, as long as the minimum is less than the maximum, the minimum must keep increasing, until the minimum is equal to the maximum. At this point, every student has the same number of pieces of candy. [/hide] [b]Invariants Monovariants, Problem 10[/b] Up until now the National Library of the small city state of Sepharia has had n shelves, each shelf carrying at least one book. The library recently bought k new shelves, k being positive. The books will be rearranged, and the librarian has announced that each of the now n + k shelves will contain at least one book. Call a book [i]privileged[/i] if the shelf on which it will stand in the new arrangement is to carry fewer books than the shelf which has carried it so far. Prove that there are at least k + 1 privileged books. (Australia, 1990) [hide=”Solution”] Deﬁne the [i]weight[/i] of a book as 1/m, where m is the number of books on the same shelf. Note that a book is privileged if and only if its weight increases. The total weights of the books on one shelf is 1, and each shelf contains at least one book, so the total weights of all books is equal to the number of shelves. Hence, after adding k shelves, the total weights of all books increases by k. However, if the weight of a book increases, then the increase is strictly less than 1. Therefore, the weights of at least k + 1 books must have increased, which means there must be at least k + 1 privileged books. [/hide][/quote] [url=http://www.artofproblemsolving.com/Forum/viewtopic.php?p=2680719p2680719]Subject: Olympiad Combinatorics Problem List[/url] [quote=”nsato”][b]Olympiad Combinatorics, Problem 1[/b] In a 40 × 50 array of control buttons, each button has two states: ON and OFF. By touching a but- ton, its state and the states of all buttons in the same row and in the same column are switched. Prove that the array of control buttons may be altered from the all-OFF state to the all-ON state by touching buttons successively, and determine the least number of touches needed to do so. (Baltic Way, 2000) [hide=”Solution”] First, we observe that if we touch every button, then every button switches 40 + 50 − 1 = 89 times, which is odd. Therefore, every button is ON. Next, we prove that every button must be touched to turn every button to ON. For any set S of buttons, let f (S) be the position that results from touching every button in S. Note that there are 240·50 possible sets S, and 240·50 possible positions. We claim that f is a bijection. First, note that we can turn on any single button by pressing every button in the same row and column as the button. Therefore, we can obtain any position of ON and OFF lights, which means that f is surjective. But the number of sets S is the same as the 4 Victor Wang WOOT Combinatorics number of possible positions, so f is a bijection. Therefore, the only way to turn every button to ON is to touch every button, which means that we must touch at least 40 · 50 = 2000 buttons. [/hide] [b]Olympiad Combinatorics, Problem 2[/b] In each vertex of a regular n-gon A1A2 · · · An there lies a certain number of coins: in the vertex Ak there are exactly k coins for 1 ≤ k ≤ n. We choose two coins and move each of them into one of the neighboring vertices in such a way that one is moved clockwise and the other is moved counter-clockwise. Decide for which n it is possible to achieve, after a ﬁnite number of steps, that for each k, 1 ≤ k ≤ n, there are exactly n + 1 − k coins in the vertex Ak. (Czech Slovak) [hide=”Solution”] We claim that the desired position is attainable if and only if n is congruent to 1 or 5 modulo 6. For each coin, we note the index i of the vertex Ai in which it lies. Let S be the sum of all these indices. If we perform a move, then one coin moves from vertex Ai to vertex Ai−1 (or vertex An if i = 1), and one coin moves from vertex Aj to vertex Aj+1 (or vertex A1 if j = n). This tells us that S modulo n is an invariant. The initial value of S is 1 · 1 + 2 · 2 + · · · + n · n = n∑ k=1 k2 = 1 6 n(n + 1)(2n + 1). If there are n + 1 − k coins in vertex Ak for all 1 ≤ k ≤ n, then S is equal to n∑ k=1 k(n + 1 − k) = (n + 1) k∑ k=1 k − n∑ k=1 k2 = 1 2 n(n + 1)2 − 1 6 n(n + 1)(2n + 1) = 1 6 n(n + 1)(n + 2). Hence, this position is attainable only if 1 6 n(n + 1)(2n + 1) − 1 6 n(n + 1)(n + 2) = 1 6 n(n2 − 1) is divisible by n. Equivalently, n2 − 1 must be divisible 6. It is easy to verify that n must be congruent to 1 or 5 modulo 6. Next, we claim that if n is congruent to 1 or 5 modulo 6, then it is possible to attain the desired position. Let C be the coin that is initially at vertex A1, and let D be a coin other than C. Then by performing moves on coins C and D, we can move D to any vertex we want to. Thus, we can move all the coins other than C, such that there are n coins at vertex A1, n − 1 coins at vertex A2, and so on, up to 2 coins at vertex An−1. We know that S modulo n is an invariant. Therefore, if we know the positions of all coins other than C, then the position of coin C is uniquely determined, so by our calculations above, coin C must be at vertex An. [/hide] [b]Olympiad Combinatorics, Problem 3[/b] (Lasker’s Nim) Two players play a game involving piles of counters. On a move, a player can either (i) remove counters from any pile (like Nim), or (ii) split a pile containing at least two counters into two non-empty piles (without removing any counters). The player who takes the last counter is the winner. (a) Find the nim-value of a pile containing n counters. (b) A position consists of three piles, containing 2, 5, and 7 counters. Is this a winning position, and if so, what is a winning move? [hide=”Solution”] (a) Let g(n) denote the nim-value of a pile containing n counters. We claim that g(4n + 1) = 4n + 1, g(4n + 2) = 4n + 2, g(4n + 3) = 4n + 4, g(4n + 4) = 4n + 3 for all n ≥ 0. We prove this inductively. It is clear that g(0) = 0. From a pile with 4n + 1 counters, we can obtain a single pile from 0 to 4n counters, whose nim-values are 0 to 4n. We can also obtain two piles of counters with sizes (1, 4n), (2, 4n − 1), . . . , (2n, 2n + 1), and the nim-values of all of these positions are even. Hence, g(4n + 1) = 4n + 1. From a pile with 4n + 2 counters, we can obtain a single pile from 0 to 4n + 1 counters, whose nim-values are 0 to 4n + 1. We can also obtain two piles of 5 Victor Wang WOOT Combinatorics counters with sizes (1, 4n + 1), (2, 4n), . . . , (2n + 1, 2n + 1). The nim-value of each of these positions is either divisible by 4 or odd. Hence, g(4n + 2) = 4n + 2. From a pile with 4n + 3 counters, we can obtain a single pile from 0 to 4n + 2 counters, whose nim-values are 0 to 4n + 2. We can also obtain two piles of counters with sizes (1, 4n + 2), (2, 4n + 1), . . . , (2n + 1, 2n + 2), and the nim-value of all of these positions are odd. In particular, the nim-value of the position with one pile of 1 counter and one pile of 4n + 2 counters is 1 ⊕ (4n + 2) = 4n + 3. Hence, g(4n + 3) = 4n + 4. From a pile with 4n + 4 counters, we can obtain a single pile from 0 to 4n + 3 counters, whose nim-values are 0 to 4n + 2, and 4n + 4. We can also obtain two piles of counters with sizes (1, 4n + 3), (2, 4n + 2), . . . , (2n + 2, 2n + 2). The nim-value of each of these positions is either congruent to 1 modulo 4 or even. Hence, g(4n + 4) = 4n + 3. (b) The nim-values of piles with 2, 5, and 7 counters are 2, 5, and 8, so the nim-value of the position is 2 ⊕ 5 ⊕ 8 = 15. Hence, the position is a winning position. The winning move must turn the nim-value of 8 into a nim-value of 7. We can achieve this by splitting the pile with 7 counters into a pile with 1 counter and pile with 6 counters. [/hide] [b]Olympiad Combinatorics, Problem 4[/b] We are given 1999 coins. No two coins have the same weight. A machine is provided which allows us with one operation to determine, for any three coins, which one has the middle weight. Prove that the coin that is the 1000-th by weight can be determined using no more than 1000000 operations and that this is the only coin whose position by weight can be determined using this machine. (Baltic Way, 1999) [hide=”Solution”] Divide the 1999 coins into a set of 3 coins and a set of 1996 coins. We use the machine on the set of 3 coins to determine the middle coin. We replace the middle coin with a coin from the set of 1996 coins, and repeat. After 1997 weighings, we can identify the heaviest and lightest coin among all 1999 coins (although we don’t know which is which). Discard these two extreme coins. We are left with 1997 coins. We repeat the procedure above with these 1997 coins, using 1995 weighings, to identify the second-heaviest and second-lightest coin. We then discard these two coins, and repeat, until we are left with the 1000th coin. Thus, we can identify the 1000th coin with 1997 + 1995 + · · · + 1 = 9992 weighings. We cannot, however, identify any other coin. To prove this, label the coins a1, a2, . . . , a1999. For each weighing, we weigh some three coins ait, ajt, and akt, and determine the middle coin amt. We can list the results of these weighings in a table. Coins Middle Coin ai1, aj1, ak1 am1 ai2, aj2, ak2 am2 ... ... ain, ajn , akn amn Suppose that we decide what the kth coin is based on these results. If we reverse the order of the coins (from lightest-heaviest to heaviest-lightest), then the results above are consistent with this new ordering. Thus, we cannot distinguish between the kth coin and (2000 − k)th coin. [/hide] [b]Olympiad Combinatorics, Problem 5[/b] On an inﬁnite chessboard, a game is played as follows. At the start, n2 pieces are arranged on the chessboard in an n × n block of adjoining squares, one piece in each square. A move in the game is a jump in a horizontal or vertical direction over an adjacent occu- pied square to an unoccupied square immediately beyond. The piece which has been jumped over is removed. Find those values of n for which the game can end with only one piece remaining on the board. (IMO, 1993) [hide=”Solution”] We color the squares with three colors (say colors 1, 2, and 3), with the following periodic pattern. [asy] unitsize(1 cm); ﬁll((0,0)–(1,0)–(1,1)–(0,1)– cycle,white); ﬁll(shift(1,0)*((0,0)–(1,0)–(1,1)–(0,1)–cycle),gray(0.7)); ﬁll(shift(2,0)*((0,0)–(1,0)–(1,1)– (0,1)–cycle),black); ﬁll(shift(0,1)*((0,0)–(1,0)–(1,1)–(0,1)–cycle),gray(0.7)); ﬁll(shift(1,1)*((0,0)–(1,0)– (1,1)–(0,1)–cycle),black); ﬁll(shift(2,1)*((0,0)–(1,0)–(1,1)–(0,1)–cycle),white); ﬁll(shift(0,2)*((0,0)–(1,0)– (1,1)–(0,1)–cycle),black); ﬁll(shift(1,2)*((0,0)–(1,0)–(1,1)–(0,1)–cycle),white); ﬁll(shift(2,2)*((0,0)–(1,0)– (1,1)–(0,1)–cycle),gray(0.7)); for(int i = 0; i ¡= 3; ++i) draw((i,0)–(i,3)); draw((0,i)–(3,i)); [/asy] Let ni be the number of pieces on squares with color i. For each move, each ni changes by 1. It fol- lows that the parity of each ni changes. If there is one piece remaining at the end, then one ni is odd and the other two are even. However, if n is divisible by 3, then all the ni are equal at the start, which means that any time, all the ni must have the same parity. Therefore, when n is divis- ible by 3, we cannot leave exactly one piece. We claim that n is not divisible 3, then we can leave 6 Victor Wang WOOT Combinatorics exactly one piece. For n = 1, this is trivial. For n = 2, we can use the following moves: [asy] unit- size(0.4 cm); pair translate = (5,0); for(int i = 0; i ¡= 3; ++i) draw((i,0)–(i,3)); draw((0,i)–(3,i)); draw(shift(translate)*((i,0)–(i,3))); draw(shift(translate)*((0,i)–(3,i))); draw(shift(2*translate)*((i,0)– (i,3))); draw(shift(2*translate)*((0,i)–(3,i))); draw((0.5,0.5), linewidth(6bp)); draw((1.5,0.5), linewidth(6bp)); draw((0.5,1.5), linewidth(6bp)); draw((1.5,1.5), linewidth(6bp)); draw((2.5,0.5) + translate, linewidth(6bp)); draw((2.5,1.5) + translate, linewidth(6bp)); draw((2.5,2.5) + 2*translate, linewidth(6bp)); label(”→”, (4,1.5)); label(”→”, (4,1.5) + translate); [/asy] Next, we show that if we can reduce an n × n square to one piece, then we can reduce an (n + 3) × (n + 3) square to one piece. The following moves show how we can remove three pieces in a 1 × 3 block, using a fourth piece. [asy] unit- size(0.4 cm); pair translate = (5,0); for(int i = 0; i ¡= 3; ++i) draw((i,0)–(i,3)); draw((0,i)–(3,i)); draw(shift(translate)*((i,0)–(i,3))); draw(shift(translate)*((0,i)–(3,i))); draw(shift(2*translate)*((i,0)– (i,3))); draw(shift(2*translate)*((0,i)–(3,i))); draw(shift(3*translate)*((i,0)–(i,3))); draw(shift(3*translate)*((0,i)– (3,i))); draw((1.5,0.5), linewidth(6bp)); draw((1.5,1.5), linewidth(6bp)); draw((1.5,2.5), linewidth(6bp)); draw((0.5,2.5), linewidth(6bp)); draw((1.5,0.5) + translate, linewidth(6bp)); draw((1.5,1.5) + trans- late, linewidth(6bp)); draw((2.5,2.5) + translate, linewidth(6bp)); draw((1.5,2.5) + 2*translate, linewidth(6bp)); draw((2.5,2.5) + 2*translate, linewidth(6bp)); draw((0.5,2.5) + 3*translate, linewidth(6bp)); label(”→”, (4,1.5)); label(”→”, (4,1.5) + translate); label(”→”, (4,1.5) + 2*translate); [/asy] We then divide an (n+3)×(n+3) square into an n×n square and 1×3 blocks as follows. [asy] unitsize(0.4 cm); draw((0,0)– (8,0)–(8,8)–(0,8)–cycle); draw((1,0)–(1,3)); draw((2,0)–(2,3)); draw((3,0)–(3,8)); draw((4,5)–(4,8)); draw((5,5)– (5,8)); draw((6,5)–(6,8)); draw((7,5)–(7,8)); draw((0,3)–(3,3)); draw((0,4)–(3,4)); draw((0,5)–(8,5)); draw((0,6)–(3,6)); draw((0,7)–(3,7)); [/asy] Working counter-clockwise from the upper-right corner to the bottom-left corner, we can remove every 1 × 3 block to leave an n × n block. Hence, can we reduce an n × n square to one piece if and only if n is not divisible by 3. [/hide] [b]Olympiad Combinatorics, Problem 6[/b] On a horizontal line, 2005 points are marked, each of which is either white or black. For every point, one ﬁnds the sum of the number of white points on the right of it and the number of black points on the left of it. Among the 2005 sums, exactly one number occurs an odd number of times. Find all possible values of this number. (Estonia, 2004) [hide=”Solution”] We claim that the only number that can occur an odd number of times is 1002. Suppose we have a white point next to a black point. Then the sums for these two points are equal, no matter what order they are in. Hence, if we exchange their positions, then two equal sums get destroyed, and two equal sums are created. Thus, for any possible sum, the parity of the number of times that sum appears stays the same. With a number of these exchanges, we can move all the white points to the left, and all the black points to the right. Suppose there are n white points and 2005 − n black points. Then the sums for the points are n − 1, n − 2, . . . , 1, 0, 0, 1, . . . , 2003 − n, 2004 − n. If a sum occurs an odd number of times, then it must be either n − 1 or 2004 − n. If it is n − 1, then we must have n − 2 = 2004 − n, which leads to n = 1003, so the sum that appears an odd number of times is n − 1 = 1002. If it is 2004 − n, then we must have n − 1 = 2003 − n, which leads to n = 1002, so the sum that appears an odd number of times is 2004 − n = 1002. [/hide] [b]Olympiad Combinatorics, Problem 7[/b] At a round table are 1994 girls playing a game with a deck of n cards. Initially, one girl holds all the cards. At each turn, if at least one girl holds at least two cards, one of the girls must pass a card to each one of her neighbors. The game ends when and only when each girl is holding at most one card. (a) Prove that if n ≥ 1994, then the game cannot end. (b) Prove that if n < 1994, then the game must end. (IMO Short List, 1994) [hide=”Solution”] (a) If n > 1994, then by the Pigeonhole principle, some girl is always holding at least two cards, so the game never ends. If n = 1994, then label the girls 1, 2, . . . , 1994. For each card, note the label of the girl holding that card. Let S be the sum of the labels. If girl i is holding two cards, then she passes one card to girl i − 1 (or girl 1994 if i = 1), and one card to girl i + 1 (or girl 1 if i = 1994). This tells us that S modulo 1994 is an invariant. At the start, S is congruent to 0 modulo 1994, no matter which girl is holding all the cards. If the game ends, then girl must be holding exactly one card. In this case, S = 1 + 2 + · · · + 1994 = 1994 · 1995 2 , which is not congruent to 0 modulo 1994. Therefore, the game can never end. (b) Whenever a card 7 Victor Wang WOOT Combinatorics is passed from one girl to another for the ﬁrst time, let the girls sign their names on it. Thereafter, if one of them passes a card to her neighbor, we shall assume that the passed card is exactly the one signed by both of them. Thus, each signed card is stuck between two neighboring girls, so if n < 1994, then there are two neighbors who never exchange cards. Consequently, there is a girl G who played only a ﬁnite number of times. If her neighbor plays inﬁnitely often, then after her last move, G will continue to accumulate cards indeﬁnitely, which is impossible. Hence, every girl plays ﬁnitely many times. [/hide] [b]Olympiad Combinatorics, Problem 8[/b] There are n students standing in a circle, one behind the other. The students have heights h1 < h2 < · · · < hn. If a student with height hk is standing directly behind a student with height hk−2 or less, the two students are permitted to switch places. Prove that it is not possible to make more than (n 3) such switches before reaching a position in which no further switches are possible. (USAMO, 2010) [hide=”Solution”] Let hi also denote the student with height hi. We claim that for 1 ≤ i < j ≤ n, hj can switch with hi at most j − i − 1 times. We prove this by induction on j − i. For the base case j − i = 1, students hi and hj cannot switch, so the result holds. Consider the positions of students hi, hj−1, and hj. Going around the circle, they are either in this order, or the order hi, hj, and hj−1. Any switch between hi and hj takes one order to the other order. However, students hj and hj−1 can never switch, so if hi and hj switch, the only way that hi and hj can switch again is if hi and hj−1 switch. By the induction hypothesis, hi and hj−1 switch at most j − i − 2 times, so hi and hj switch at most j − i − 1 times, completing the induction. Therefore, the total number of switches at most n−1∑ i=1 n∑ j=i+1 (j − i − 1) = n−1∑ i=1 n−i−1∑ j=0 j = n−1∑ i=1 (n − i 2 ) = n−1∑ i=1 [(n − i + 1 3 ) − (n − i 3 )] = (n 3 ). [/hide] [b]Olympiad Combinatorics, Problem 9[/b] We are given a row of squares, extending inﬁnitely far in both direction, indexed by the integers. Several squares contain counters, and a square can contain more than one counter. We may perform the following moves: (i) Remove one counter from square n − 1 and one counter from square n, and add one counter to square n + 1. (ii) Remove two counters from square n, and add one counter to square n + 1 and one counter to square n − 2. Prove that any sequence of such moves will lead to a position in which no further moves can be made, and that the ﬁnal position is independent of the sequence of moves. (Russia, 1997)(Brazil, 2001)(Iran, 2001) [hide=”Solution”] Let τ = (1 + √5)/2, so τ 2 − τ − 1 = 0. Let ai be the number of counters contained in square i, and let S = ∑ i aiτ i. Under move (i), S changes by τ n+1 − τ n − τ n−1 = τ n−1(τ 2 − τ − 1) = 0, and under move (ii), S changes by τ n+1 − 2τ n + τ n−2 = τ n−2(τ − 1)(τ 2 − τ − 1) = 0, so S is an invariant. Since there are only a ﬁnite number of counters, move (i) can be performed only a ﬁnite number of times. Hence, at some point, only move (ii) is performed. (The main reason for pointing this out is so that we can talk about moving counters in a valid way. For example, in move (ii), we can talk about moving one counter from square n to square n − 2, and the other counter from 8 Victor Wang WOOT Combinatorics square n to square n + 1.) There exists an M such that τ M > S. Each term in S is nonnegative, so no counter can be moved to square M or greater. This tells us that the counters are bounded to the right. At each step, consider the right-most square containing a counter. The index of the right-most square is bounded above (and it cannot decrease), so eventually, it must stop changing. Note that this right-most square can never contain two or more counters (otherwise, we could perform move (ii) on this square), so from this point, this right-most square can only contain one counter. Also, this counter can never move. We now look at the square containing the next right-most counter. By the same argument, this square must also stop changing, and the counter in it must stop moving. Continuing this argument, we ﬁnd that all the counters must eventually stop moving. Next, we prove that the ﬁnal position is uniquely determined. For the sake of contradiction, suppose that there are two possible ﬁnal positions, given by the sequences (ai) and (a ′ i). As ﬁnal positions, each square contains at most one counter, and squares that contain a counter cannot be consecutive. Let j be the greatest index at which sequences (ai) and (a ′ i) diﬀer. Without loss of generality, assume that aj = 0 and a ′ j = 1. Then ∑ i<j aiτ i < τ j−1 + τ j−3 + · · · = τ j−1 1 − 1/τ 2 = τ j. Hence, ∑ i aiτ i < ∑ i a ′ iτ i, contradiction. Therefore, the ﬁnal position is uniquely determined. [/hide] [b]Olympiad Combinatorics, Problem 10[/b] Let n > 1 be an integer. There are n lamps L0, L1, . . . , Ln−1 arranged in a circle. Each lamp is either ON or OFF. A sequence of steps S0, S1, . . . , Si, . . . is carried out. Step Sj aﬀects the state of Lj only (leaving the state of all other lamps unaltered) as follows: if Lj−1 is ON, Sj changes the state of Lj from ON to OFF or from OFF to ON; if Lj−1 is OFF, Sj leaves the state of Lj unchanged. The lamps are labelled mod n, that is L−1 = Ln−1, L0 = Ln, L1 = Ln+1, etc. Initially, all lamps are ON. Show that (a) There is a positive integer M (n) such that after M (n) steps all the lamps are ON again; (b) If n has the form 2 k then all the lamps are ON after n2 − 1 steps; (c) If n has the form 2k + 1 then all the lamps are ON after n2 − n + 1 steps. (IMO, 1993) [hide=”Solution”] (a) We consider a state to be the status of the n lamps (whether each lamp is ON or OFF), plus the index j modulo n of the next step. There are only a ﬁnite number of states, and each state uniquely determines the next state, so the sequence of states is eventually periodic. Furthermore, it is easy to check that each state has a unique predecessor, so the sequence of states is immediately periodic. In the initial state, all lamps are ON, so eventually, all lamps must be ON again. (b) To help us analyze which lamps are ON and OFF, we identity ON and OFF with the numbers 1 and 0 modulo 2, respectively. Step Sj changes lamp Lj if and only if lamp Lj−1 is ON, which is analogous to adding the status of lamp Lj−1 to the status of lamp Lj modulo 2. With this in mind, let aj+kn be the status of lamp Lj (where aj ≡ 0 or aj ≡ 1 (mod 2)) after Steps S0, S1, . . . , Sn−1 have been completed k times. (In other words, after we have gone around the circle of lamps k times.) Initially, all n lamps are on, so a0 ≡ a1 ≡ · · · ≡ an−1 ≡ 1 (mod 2). By the deﬁnition of Step Sj, aj ≡ aj−1 + aj−n (mod 2) for all j ≥ n. Let f (x) = a0 + a1x + a2x2 + · · · . Then (1 − x − xn)f (x) ≡ (1 − x − xn)(a0 + a1x + a2x2 + · · · ) ≡ a0 + (a1 − a0)x + (a2 − a1)x2 + · · · + (an−1 − an−2)x n−1 + (an − an−1 − a0)xn + (an+1 − an − a1)xn+1 + · · · ≡ 1 (mod 2), so as a generating function, f (x) ≡ 1 1 − x − xn (mod 2). 9 Victor Wang WOOT Combinatorics We claim that if n = 2k, then the sequence (an) is periodic with period n 2 − 1. To show this, we consider the generating function xn2−1f (x) = a0xn2−1 + a1xn2 + a2xn 2+1 + · · · . Subtracting this from f (x), we get (1 − xn 2−1)f (x) = a0 + a1x + · · · + an2−2xn2−2 + (an2−1 − a0)xn2−1 + (an2 − a1)xn2 + · · · . We want all the terms with degree n2 −1 or greater to go away. In other words, we want this expression to be a polynomial with degree at most n2 − 2. This expression is congruent to 1 − xn2−1 1 − x − xn , so it suﬃces to prove that 1−xn 2−1 is divisible by 1−x−x n, where the coeﬃcients are taken modulo 2. The polynomials x and 1−x−xn are relatively prime, so it suﬃces to prove that x(1−xn 2−1) = x−xn2 is divisible by 1 − x − x n. Since xn 2 − (x + 1)n is divisible by xn − x − 1 ≡ 1 − x − xn (mod 2), it suﬃces to prove that (x + 1) n − x is divisible by 1 − x − xn. But n is a power of 2, so (x + 1)n ≡ xn + 1 (mod 2), which means (x + 1)n − x ≡ xn + 1 − x ≡ 1 − x − xn (mod 2). Therefore, the sequence (an) is periodic with period n2 − 1. In particular, an2−1 ≡ an2 ≡ · · · ≡ a(n2−1)+(n−1) ≡ 1 (mod 2) since a0 ≡ a1 ≡ · · · ≡ an−1 ≡ 1 (mod 2), so after n2 − 1 steps, all the lamps are ON. (c) Using the same notation as in part (b), we claim that the sequence (an) is periodic with period n2 − n + 1. It suﬃces to prove that 1 − xn2−n+1 is divisible by 1 − x − xn. Note that xn(n−1) − (x + 1)n−1 is divisible by xn − x − 1 ≡ 1 − x − xn (mod 2). Also, n − 1 is a power of 2, so (x + 1)n−1 ≡ x n−1 + 1 (mod 2). Hence, xn2−n − xn−1 − 1 is divisible by 1 − x − xn, which means that x(xn2−n − x n−1 − 1) = xn2−n+1 − xn − x is divisible by 1 − x − xn. Then xn2−n+1 − xn − x − (1 − x − x n) ≡ 1 − xn2−n+1 is divisible by 1 − x − xn. Therefore, the sequence (an) is periodic with pe- riod n2 − n + 1, which means that after n2 − n + 1 steps, all the lamps are ON. [/hide][/quote] [url=http://www.artofproblemsolving.com/Forum/viewtopic.php?p=2602612p2602612]Subject: Algo- rithms Problem List[/url] [quote=”nsato”][b]Algorithms, Problem 1[/b] Initially there are m balls in one bag, and n in the other, where m, n > 0. Two diﬀerent operations are allowed: (a) Remove an equal number of balls from each bag; (b) Double the number of balls in one bag. Is it always possible to empty both bags after a ﬁnite sequence of operations? Operation (b) is now replaced with (b’) Triple the number of balls in one bag. Is it now possible to empty both bags after a ﬁnite sequence of operations? (British Mathematical Olympiad, 2011) [hide=”Solution”] We start with operations (a) and (b). Without loss of generality, assume that m ≥ n. There exists a unique nonnegative integer k such that 2k ≤ m n < 2 k+1. Then 2 kn ≤ m < 2 k+1n. We double n k times, so the bags now contain m balls and 2 kn balls. If m = 2kn, then we can empty both bags. Otherwise, 2 kn < m, so 0 < 2 k+1n − m < m. Remove 2 k+1n − m balls from both bags, so the bags now contain 2m − 2k+1n balls and m − 2 kn balls. Double m − 2 kn. Now both bags contain 2m − 2 k+1n balls, so we can empty both bags. Now we look at operations (a) and (b’). Note that both operations (a) and (b’) do not change the parity of the 10 Victor Wang WOOT Combinatorics total number of balls, so we can never empty both bags if the total number of balls is odd. [/hide] [b]Algorithms, Problem 2[/b] Let n be a positive integer. We are given a 2 n-tuple of numbers, where each number is equal to 1 or −1. A move consists of replacing the 2n-tuple (a1, a2, . . . , a2n ) with the 2 n-tuple (a1a2, a2a3, . . . , a2n a1). Prove that after 2 n such moves, each entry is equal to 1. Can the number 2 n be replaced by a smaller number, so that the statement still holds? [hide=”Solution”] We prove the result by induction. First, we look at the base case n = 1. If we start with the pair (a1, a2), then after one move, it becomes (a1a2, a1a2), and after another move, it becomes (a 2 1a 2 2, a 2 1a2 2) = (1, 1). So the result holds for n = 1. Assume that the result holds for n = k, for some positive integer k. After a move, the 2 k+1-tuple (a1, a2, . . . , a2k+1 ) becomes (a1a2, a2a3, . . . , a2k+1a1). After another move, it becomes (a1a3, a2a4, a3a5, a4a6, . . . , a2k+1−1a1, a2k+1 a2). Thus, making two moves on the 2k+1-tuple (a1, a2, . . . , a2k+1 ) is equivalent to making a move on the 2 k-tuple (a1, a3, . . . , a2k+1−1), making a move on the 2 k-tuple (a2, a4, . . . , a2k+1), and then inter- lacing the entries. By the induction hypothesis, after 2 k moves, the 2 k-tuples (a1, a3, . . . , a2k+1−1) and (a2, a4, . . . , a2k+1) both become all 1s. Therefore, after 2 · 2 k = 2k+1 moves, the 2 k+1-tuple becomes all 1s. Hence, the result holds for n = k + 1, and by induction, the result holds for all positive integers n. Next, we prove that in general, 2 n moves are necessary. We claim that if we start with the 2n-tuple (−1, 1, 1, . . . , 1), and make 2 n − 1 moves, then each entry will be equal to −1. We prove this by induction as well. The result is easy to verify in the base case n = 1, so assume that the result holds for n = k, for some positive integer k. We start with the 2k+1-tuple (a1, a2, a3, . . . , a2k+1) = (−1, 1, 1, . . . , 1). We split this 2k+1-tuple into the 2k-tuples A = (a1, a3, . . . , a2k+1−1) = (−1, 1, . . . , 1) and B = (a2, a4, . . . , a2k+1−2) = (1, 1, . . . , 1). By the induc- tion hypothesis, after 2 k−1 moves, the 2k-tuple A is all −1s. After 2k−1 moves, the 2k-tuple B is still all 1s. Therefore, after 2·(2k −1) = 2k+1 −2 moves, the 2k+1-tuple (a1, a2, a3, . . . , a2k+1) = (−1, 1, 1, . . . , 1) becomes (−1, 1, −1, 1, . . . , −1, 1). After another move, for a total of 2 k+1 − 2 + 1 = 2 k+1 − 1 moves, this 2 k+1-tuple becomes all −1s. Hence, the result holds for n = k + 1, and by induction, the result holds for all positive integers n. So in general, 2n − 1 moves are not suﬃcient, so 2 n cannot be replaced by a smaller number. [/hide] [b]Algorithms, Problem 3[/b] There are 2010 boxes labeled B1, B2, . . . , B2010, and 2010n balls have been distributed among them, for some positive integer n. You may redistribute the balls by a sequence of moves, each of which consists of choosing an i and moving [i]exactly[/i] i balls from box Bi into any one other box. For which values of n is it possible to reach the distribution with exactly n balls in each box, regardless of the initial distribution of balls? (Putnam, 2010) [hide=”Solution”] We claim that it is always possible to reach an even distribution if and only if n ≥ 1005. Suppose n ≤ 1004. Note that 1 + 2 + · · · + 2009 = 2009 · 2010 2 = 2010 · 1004.5. Hence, we can distribute the 2010n balls so that box Bi contains at most i − 1 balls. For this distri- bution, no moves are possible. Now, assume that n ≥ 1005. Then by the Pigeonhole principle (and our calculation above), there always exists an index i such that box Bi contains at least i balls. We describe such an index as [i]eligible[/i]. We give the following algorithm for ending up with n balls in each box. (A) Find the largest eligible index i. If i = 1, then go to step (B). Otherwise, move i balls from box Bi to box B1, and repeat step (A). (B) At this point, the only eligible index is i = 1. Find the largest index j such that box Bj is non-emtpy. If j = 1, then go to step (C). Otherwise, move one ball from box B1 to Bj. If this move makes index j eligible, then move j balls from box Bj to B1. Repeat step (B). (C) At this point, all the balls are in box B1. Move one ball to every other box from box B1 until each box contains n balls. The proof that this algorithm works is fairly straight-forward. 11 Victor Wang WOOT Combinatorics In step (A), we keep making legal moves, moving balls to box B1, until the only possible move left is to move balls from box B1. In step (B), we ﬁll in any non-empty boxes Bi for i > 1, one ball at a time, until we can move all the balls in any such box to box B1. We repeat, until all the balls are in box B1. Finally, in step (C), we ﬁll in all the other boxes, one ball at a time, until each box contains n balls. [/hide] [b]Algorithms, Problem 4[/b] The numbers 0, 1, 2, . . . , n (n ≥ 2) are written on a blackboard. In each step we erase an integer which is the arithmetic mean of two diﬀerent numbers which are still left on the blackboard. We make such steps until no further integer can be erased. Let g(n) be the smallest possible number of integers left on the blackboard at the end. Find g(n) for every n. (Middle European Mathematical Olympiad, 2009) [hide=”Solution”] We claim that g(n) = 2 if n is a power of 2, and g(n) = 3 otherwise. If n is a power of 2, then we can start by erasing 1, 3, 5, . . . , n − 1 (the numbers that are congruent to 1 modulo 2). We then erase 2, 6, 10, . . . , n − 2 (the numbers that are congruent to 2 modulo 4), and so on. Eventually, we are left with just 0 and n. Clearly, there must be at least two numbers left on the blackboard, so in this case, g(n) = 2. Now suppose that n is not a power of 2. Write n = 2m + a, where m is a positive integer and 0 < a < 2 m. We erase n − 1 = 2m + a − 1, n − 2 = 2m + a − 2, . . . , 2 m + 1, in sequence. We then erase all of the numbers from 1 to 2 m − 1 as we did above. Eventually, we are left with only the numbers 0, 2 m, and n, so we can always get down to three numbers. Suppose that it is possible to get down to two numbers. These two numbers must be 0 and n, since we can never erase them. Since n is not a power of 2, there exists an odd prime p that divides n. Starting with the two numbers 0 and n, we can reverse the moves, where at each point, we write a number on the blackboard that is the arithmetic mean of two diﬀerent numbers on the blackboard. But both 0 and n are divisible by p, an odd prime, so every number we write on the blackboard must also be divisible by p. In particular, we will never be able to write the number 1, contradiction. Therefore, in this case, g(n) = 3. [/hide] [b]Algorithms, Problem 5[/b] We play the following game with an equilateral triangle of n(n + 1)/2 pennies (with n pennies on each side). Initially, all of the pennies are turned heads up. On each turn, we may turn over three pennies that are mutually adjacent; the goal is to make all of the pennies show tails. For which values of n can this be achieved? (Colombia, 1997) [hide=”Solution”] We claim that we can ﬂip all the pennies to show tails if and only if n ≡ 0 or n ≡ 2 (mod 3). Let Tn denote the triangular array of pennies with side length n. First, we prove that if we can ﬂip all the pennies to show tails for Tn, then we can ﬂip all the pennies to show tails for Tn+3. Consider the triangular array Tn+3, where all the pennies show heads. Flip every possible set of three pennies. The penny at each corner is ﬂipped once, so it shows tails. Every other penny along the sides of the triangle is ﬂipped three times, so they all show tails as well. Each interior penny is ﬂipped six times, so they all show heads. But the interior pennies form a triangular array of side length n, which is Tn. Hence, if we can ﬂip all the pennies to show tails for Tn, then we can ﬂip all the pennies to show tails for Tn+3. We can ﬂip all the pennies to show tails for T2, and we can ﬂip all the pennies to show tails for T3 (ﬂip every possible set of three pennies). It follows that we can ﬂip all the pennies to show tails for Tn if n ≡ 0 (mod 3) or n ≡ 2 (mod 3). Now let n ≡ 1 (mod 3). We label each penny A, B, or C, so that any three mutually adjacent pennies have diﬀerent labels. The ﬁgure below shows the labels for T4. [asy] import graph; unitsize(0.8 cm); for(int i = 0; i ¡= 3; ++i) for(int j = 0; j ¡= 3 - i; ++j) draw(Circle((0.8)*(i*dir(0) + j*dir(60)), 0.3)); label(”A”, (0.8)*(0*dir(0) + 0*dir(60))); label(”A”, (0.8)*(0*dir(0) + 3*dir(60))); label(”A”, (0.8)*(3*dir(0) + 0*dir(60))); label(”A”, (0.8)*(1*dir(0) + 1*dir(60))); label(”B”, (0.8)*(0*dir(0) + 2*dir(60))); label(”B”, (0.8)*(1*dir(0) + 0*dir(60))); label(”B”, (0.8)*(2*dir(0) + 1*dir(60))); label(”C”, (0.8)*(0*dir(0) + 1*dir(60))); label(”C”, (0.8)*(2*dir(0) + 0*dir(60))); label(”C”, (0.8)*(1*dir(0) + 2*dir(60))); [/asy] Let hA and hB denote the number of pennies labeled A and B that show heads, respectively. If the pennies in the corners are labeled A, then the number of pennies labeled A is one more than the number of pennies labeled B. Hence, initially when all the pennies show heads, hA + hB is odd. Furthermore, each move changes hA by one, and hB by one, so hA + hB is always odd. In par- ticular, we cannot make both hA and hB equal to 0, so we can never make all the pennies show heads. [/hide] [b]Algorithms, Problem 6[/b] We have an inﬁnite number of red boxes R1, R2, R3, . . . , and a blue box B. 100 balls are distributed among the red boxes. If box Rn contains exactly n balls, then we may take the n balls out of box Rn, and place one ball into each of the boxes Rn−1, Rn−2, . . . , R1, and B. (If n = 1, then we move the one ball in box R1 to box B.) Prove that there is a unique initial distribution of balls so that all 100 balls may eventually be moved to the blue box. [hide=”Solution”] 12 Victor Wang WOOT Combinatorics Consider a position just after we have made a move, say moving all n balls from box Rn. Then box Rn is empty, and each of the boxes Rn−1, Rn−2, . . . , R1 must contain at least one ball. Based on the position after the move, such an n is unique - it is the smallest n such that box Rn is empty. Therefore, for any position, there is only one possible previous position. Furthermore, given a position after a move, we can always reverse the move by ﬁnding the smallest n such that box Rn is empty, then taking one ball out of each of boxes B, R1, R2, . . . , Rn−1, and putting the n balls in box Rn. Thus, we can start with all 100 balls in box B, and keep playing backwards until box B is empty. This gives us the unique initial distribution we seek. (This ”game” is also known as Tchoukaillon solitaire.) [/hide] [b]Algorithms, Problem 7[/b] Each side and diagonal of a regular (2n + 1)-gon is colored red or blue. One may choose a vertex and change the color of all of the segments emanating from that vertex, from red to blue and vice versa. Prove that no matter how the edges were colored initially, it is possible to make the number of blue segments at each vertex even. Prove also that the resulting coloring is uniquely determined by the initial coloring. (Czech Slovak, 1997) [hide=”Solution”] Label the vertices V1, V2, . . . , V2n+1. Let ai be the number of blue segments emanating from vertex Vi at the beginning, let bi be the number of times that vertex Vi is chosen, and let ci be the number of blue segments emanating from vertex Vi at the end. Since there are 2n segments emanating from vertex Vi, choosing vertex Vi has no eﬀect on the parity of the number of blue segments emanating from vertex Vi. On the other hand, if j ̸= i, then choosing vertex Vj changes the parity of the number of blue segments emanating from vertex Vi. Hence, ci ≡ b1 + b2 + · · · + bi−1 + ai + bi+1 + · · · + b2n+1 (mod 2) for all i. We want ci ≡ 0 (mod 2) for all i. We can accomplish this by setting bi ≡ ai (mod 2) for all i. In this case, ci ≡ a1 + a2 + · · · + a2n+1 (mod 2) for all i. The sum a1 + a2 + · · · + a2n+1 counts every blue segment at the beginning twice, so this sum is even. To prove that the ﬁnal coloring is unique, let B = b1 + b2 + · · · + b2n+1. Then no matter what our moves are, ci ≡ ai − bi + B (mod 2) for all i. Since ci ≡ 0 (mod 2) for all i, we have that bi ≡ ai + B (mod 2) for all i. If B ≡ 0 (mod 2), then bi ≡ ai (mod 2) for all i, which is the solution we gave above. Note that the ﬁnal coloring depends only on bi (mod 2), because choosing a vertex twice has no net eﬀect. Hence, this coloring can be achieved as follows: Let O be the set of vertices Vi where ai is odd. We then choose the vertices in O. If B ≡ 1 (mod 2), then bi ≡ ai + 1 (mod 2). For this solution, let E be the set of vertices Vi where ai is even. We then choose the vertices in E. If we choose all 2n + 1 vertices, then every segment changes color 2n times, so choosing every vertex has no net eﬀect. Therefore, choosing the vertices in E must lead to the same coloring as choosing the vertices in O, because combining these choices cancels everything. We conclude that the ﬁnal coloring is unique. [/hide] [b]Algorithms, Problem 8[/b] A pile of cards, numbered with 1, 2, . . . , n, is being shuﬄed. Afterwards, the following operation is repeatedly performed: If the uppermost card of the pile has the number k, then we reverse the order of the k uppermost cards. Prove that, after ﬁnitely many executions of this operation, the card with the number 1 will become the uppermost card of the pile. (Germany, 2002) [hide=”Solution”] There are only ﬁnitely many ways that the cards in the deck can be ordered, and each ordering of the deck after a shuﬄe depends only on the ordering of the deck before a shuﬄe, so the sequence of orderings is eventually periodic. Then the numbers on the uppermost card go through some cycle a1, a2, . . . , ak. Consider the largest number ai. If ai > 1, then after the card numbered ai appears as the uppermost card, it becomes the a th i card from the top. But ai is maximal, so this card can never return to the top, which means that it cannot be part of a cycle, contradiction. Therefore, ai = 1. [/hide] [b]Algorithms, Problem 9[/b] Given a permutation (a1, a2, . . . , an) of the numbers 1, 2, . . . , n, one may interchange any two consecutive ”blocks” - that is, one may transform (a1, . . . , ai, ai+1, . . . , ai+p | {z } A , ai+p+1, . . . , ai+q | {z } B , ai+q+1, . . . , an) 13 Victor Wang WOOT Combinatorics into (a1, . . . , ai, ai+p+1, . . . , ai+q | {z } B , ai+1, . . . , ai+p | {z } A , ai+q+1, . . . , an) by interchanging the ”blocks” A and B. Find the least number of such changes which are needed to transform (1, 2, . . . , n) into (n, n − 1, . . . , 1). (Bulgaria, 2001) [hide=”Solution”] Let f (n) denote the least number of changes required. We claim that f (1) = 0, f (2) = 1, and f (n) = ⌈(n + 1)/2⌉ for all n ≥ 3. The cases n = 1 and n = 2 are easy to verify, so assume that n ≥ 3. First, we show that ⌈(n + 1)/2⌉ changes suﬃce. If n is even, then write n = 2m. For the ﬁrst m moves, swap block ai, . . . , ai+m−2 with block ai+m−1, . . . , ai+m for 1 ≤ i ≤ m. After these m changes, the numbers are m, m − 1, m − 2, . . . , 1, n, n − 1, n − 2, . . . , m + 1. Then swap block a1, . . . , am with block am+1, . . . , an. The total number of changes is m + 1 = ⌈(n + 1)/2⌉. If n odd, then write n = 2m + 1. For the ﬁrst m moves, swap block ai, . . . , ai+m−1 with block ai+m, ai+m+1 for 1 ≤ i ≤ m. After these m changes, the numbers are m + 1, m, m − 1, . . . , 2, n, n − 1, n − 2, . . . , m + 2, 1. Then swap block a1, . . . , am with block am+1, . . . , a2m. The total number of changes is m + 1 = ⌈(n + 1)/2⌉. Next, we prove that at least ⌈(n + 1)/2⌉ changes are required. Let X be the number of consecutive pairs of terms that are in decreasing order. For n ≥ 3, at least two swaps are required. The ﬁrst swap increases X by 1, and the last swap increases X by 1. For any other swap, say from . . . , a, b, . . . , e | {z } , f, . . . , c | {z } , d, . . . , to . . . , a, f, . . . , c | {z } , b, . . . , e | {z } , d, . . . , if X were to increase by 3, then we must have a < b, b < c, c < d, d < e, e < f , and f < a, which is impossible. Therefore, X increases by at most 2 with any change. The initial value of X is 0, and the ﬁnal value of X is n − 1, so at least ⌈(n + 1)/2⌉ changes are required. [/hide] [b]Algorithms, Problem 10[/b] Let n ≥ 2 be a positive integer. Initially, there are n ﬂeas on a horizontal line, not all at the same point. For a positive real number λ, deﬁne a [i]move[/i] as follows: choose any two ﬂeas, at points A and B, with A to the left of B; let the ﬂea at A jump to the point C on the line to the right of B with BC/AB = λ. Determine all values of λ such that, for any point M on the line and any initial positions of the n ﬂeas, there is a ﬁnite sequence of moves that will take all the ﬂeas to positions to the right of M . (IMO, 2000) [hide=”Solution”] We claim that we can always move all the ﬂeas to the right of M if and only if λ ≥ 1 n − 1 . First, we take the case where λ ≥ 1 n−1 . For each move, we let the leftmost ﬂea jump over the rightmost ﬂea. Let D and d be the maximum and minimum distances between any two ﬂeas, at any moment. Since there are n ﬂeas, D ≥ (n − 1)d. It follows that λD ≥ d. After the leftmost ﬂea jumps over the rightmost ﬂea, since λD ≥ d, the minimum distance d does not decrease. Furthermore, the leftmost ﬂea moves to the right by a distance of at least d. Therefore, by repeatedly letting the leftmost ﬂea jump over the rightmost ﬂea, we can eventually move all the ﬂeas to the right of M . Now, let λ < 1 n−1 . We identify the position of each ﬂea with a real number. After k moves, let sk be the sum of the numbers corresponding to the positions of the ﬂeas, and let wk be the maximum of these numbers (i.e. the position of the rightmost ﬂea). Then sk ≤ nwk. We claim that the sequence (wk) is bounded. For the (k + 1)st move, a ﬂea at A jumps over a ﬂea at B and lands at C. Let a, b, and c be the corresponding real numbers. Then c − b = λ(b − a), so a = (λ + 1)b − c λ , 14 Victor Wang WOOT Combinatorics and sk+1 − sk = c − a = c − (λ + 1)b − c λ = λ + 1 λ (c − b). If c ≥ wk+1, then c − b ≥ wk+1 − wk. If c < wk+1, then wk+1 = wk, so again c − b ≥ wk+1 − wk. Hence, we can write sk+1 − sk ≥ λ + 1 λ (wk+1 − wk). Summing this inequality over 0 ≤ k ≤ n − 1, we get sn − s0 ≥ λ + 1 λ (wn − w0). Since sn ≤ nwn, it follows that ( λ + 1 λ − n) wn ≤ λ + 1 λ w0 − s0. Since λ < 1 n−1 , λ + 1 λ − n > 0. Hence, the sequence (wn) is bounded. It follows that there exists a point M such that not all the ﬂeas can be moved to the right of M . [/hide][/quote] [url=http://www.artofproblemsolving.com/Forum/viewtopic.php?p=2590596p2590596]Subject: Game Theory Problem List[/url] [quote=”nsato”][b]Game Theory, Problem 1[/b] The number 10 2007 is written on a blackboard. Anne and Berit play a game where the player in turn makes one of two operations: (i) replace a number x on the blackboard by two integers numbers a and b greater than 1 such that x = ab; (ii) erase one or both of two equal numbers on the blackboard. The player who is not able to make her turn loses the game. Who will win the game if Anne begins and both player act in an optimal way? (Nordic Math Contest, 2007) [hide=”Solution”] Anne has a winning strategy, which is as follows: Her ﬁrst move is to replace 102007 with the numbers 22007 and 5 2007. We claim that Anne can always leave Berit with numbers of the form 2 α1 , . . . , 2 αk , 5 α1 , . . . , 5 αk . This is certainly the case after Anne’s ﬁrst move. If Berit replaces 2αj with 2β1 and 2β2 , then Anne replaces 5 αj with 5 β1 and 5 β2, and vice-versa. If αi = αj for some i ̸= j, and Berit erases one or both of 2αi and 2αj , then Anne does the same with the numbers 5αi and 5αj , and vice-versa. Thus, Anne can always mirror Berit’s move, which means that Berit runs out of possible moves ﬁrst, so Anne wins. [/hide] [b]Game Theory, Problem 2[/b] Two players play a game, alternately taking turns with a pile of matches. If the pile contains n matches, then a player may draw up to ⌊√n⌋ matches. The player who takes the last match wins. Prove that if the pile contains a square number of matches, then the ﬁrst player has a winning strategy. [hide=”Solution”] If the pile contains m2 matches, then the player may draw up to m matches, leaving between m 2 − m and m2 − 1 matches. Note that if the pile contains m2 − 1 matches, then the player may draw up to m − 1 matches, leaving between m 2 − m and m2 − 2 matches. If any of the piles with m2 − m, m2 − m + 1, . . . , m2 − 2 matches are losing positions, then the ﬁrst player may leave the second player with a losing position, so the ﬁrst player has a winning strategy. Otherwise, if all the piles with m 2 − m, m 2 − m + 1, . . . , m 2 − 2 are winning positions, then the ﬁrst player can take one match, leaving the second player with m2 − 1 matches. Then the second player must leave the ﬁrst player between m 2 − m and m 2 − 2 matches, which is a winning position. Therefore, in this case, the ﬁrst player has a winning strategy as well. [/hide] [b]Game Theory, Problem 3[/b] Ninety-eight points are given on a circle. Maria and Jose take turns drawing a segment between two of the points which have not yet joined by a segment. The game ends when each point has been used as the endpoint of a segment at least once. The winner is the player who draws the last segment. If Jose goes ﬁrst, who has a winning strategy? (Iberoamerican, 1998) [hide=”Solution”] Jose has the winning strategy. We label the 98 points in the order that each is used as an endpoint, so the ﬁrst segment is A1A2. (If both points are being used for the ﬁrst time, then 15 Victor Wang WOOT Combinatorics we may label them arbitrarily.) Jose makes moves arbitrarily, until point A95 is labelled. There are 95 · 94/2 = 4465 segments that can connect points A1, A2, . . . , A95, which is an odd number, so Jose can force Maria to be the ﬁrst player to label point A96. Then Jose draws segment A97A98, and wins the game. [/hide] [b]Game Theory, Problem 4[/b] On a 5 × 5 chessboard, two players play the following game. The ﬁrst player places a knight on some square. Then the players alternately move the knight according to the rules of chess, starting with the second player. It is not allowed to move the knight to a square that has been visited previously. The player who cannot move loses. Which of the two players has a winning strategy? (Baltic Way, 1997) [hide=”Solution”] The ﬁrst player has a winning strategy, which is as follows: The ﬁrst player places the knight at the square marked X below. Then wherever the second player moves the knight, the ﬁrst player moves the knight to the other square with the same number. [asy] unitsize(0.6 cm); for(int i = 0; i ¡= 5; ++i) draw((i,0)–(i,5)); draw((0,i)– (5,i)); label(”9”, (0.5,0.5)); label(”6”, (1.5,0.5)); label(”2”, (2.5,0.5)); label(”4”, (3.5,0.5)); label(”10”, (4.5,0.5)); label(”2”, (0.5,1.5)); label(”5”, (1.5,1.5)); label(”9”, (2.5,1.5)); label(”7”, (3.5,1.5)); label(”1”, (4.5,1.5)); label(”12”, (0.5,2.5)); label(”8”, (1.5,2.5)); label(”6”, (2.5,2.5)); label(”10”, (3.5,2.5)); label(”4”, (4.5,2.5)); label(”5”, (0.5,3.5)); label(”3”, (1.5,3.5)); label(”11”, (2.5,3.5)); label(”1”, (3.5,3.5)); label(”7”, (4.5,3.5)); label(”X”, (0.5,4.5)); label(”12”, (1.5,4.5)); label(”8”, (2.5,4.5)); label(”3”, (3.5,4.5)); label(”11”, (4.5,4.5)); [/asy] All the squares of the chessboard are paired this way (except the original square), which means the second player runs out of possible moves ﬁrst, so the ﬁrst player wins. [/hide] [b]Game Theory, Problem 5[/b] Alberto and Barbara are playing the following game. Initially, there are several piles of stones on the table. With Alberto playing ﬁrst, a player in turn performs one of the following two moves: (a) take a stone from an arbitrary pile; (b) select a pile and divide it into two nonempty piles. The player who takes the last stone wins the game. Determine which player has a winning strategy in dependence of the initial state. (Italy, 2006) [hide=”Solution”] For a positive integer k, let nk denote the number of piles with k stones. We say that a position is an L-position if both n1 and n2 + n4 + n6 + · · · are even, and an W-position otherwise. We claim that W-positions are winning positions, and L-positions are losing positions. To prove this, we must prove that (1) every W-position can be turned into an L-position, (2) every L-position can only be turned into a W-position, and (3) a player can win only from a W-position. (1) If a position is a W-position, then either n1 or n2 + n4 + n6 + · · · is odd. If n1 is even and n2 + n4 + n6 + · · · is odd, then n2k ≥ 1 for some positive integer k. If k = 1, then split a pile with two stones into two piles with one stone each. If k = 2, then split a pile with four stones into two piles with two stones each. If k ≥ 3, then split a pile with 2k stones into a pile with three stones and a pile with 2k − 3 stones. If n1 is odd and n2 + n4 + n6 + · · · is even, then take one stone from a pile with one stone. If both n1 and n2 + n4 + n6 + · · · are odd, then n2k ≥ 1 for some positive integer k. If k = 1, then take one stone from a pile with two stones. If k ≥ 2, then split a pile with 2k stones into a pile with one stone and a pile with 2k − 1 stones. (2) Suppose a player starts with an L-position, so both n1 and n2 + n4 + n6 + · · · are even. The player must either take one stone, or split a pile. If the player takes a stone, then the parity of n1 or n2 + n4 + n6 + · · · changes, turning it into a W-position. If the player splits a pile, then he must split an even pile into two even piles, split an even pile into two odd piles, or split an odd pile into an even pile and an odd pile. In every case, the parity of n2 + n4 + n6 + · · · changes, so the resulting position is a W-position. (3) To win, a player must start with one pile with one stone, which is a W-position. This completes the proof of our claim. [/hide] [b]Game Theory, Problem 6[/b] All positive divisors of a positive integer N are written on a blackboard. Two players A and B play the following game taking alternate moves. In the ﬁrst move, the player A erases N . If the last erased number is d, then the next player erases either a divisor of d or a multiple of d. The player who cannot make a move loses. Determine all numbers N for which A can win independently of the moves of B. (Middle European Mathematical Olympiad, 2010) [hide=”Solution”] We claim that player A has a winning strategy if and only if N is a perfect square. First, we look at the case where N is a perfect square. Let the prime factorization of N be N = pa1 1 p a2 2 · · · p ak k . Since N is a perfect square, N has an odd number of divisors. We pair the divisors of N (other than N ) as follows: For a divisor p b1 1 p b2 2 · · · pbk k of N other than N itself, let j be the smallest index such 16 Victor Wang WOOT Combinatorics that bj < aj. Then we pair this divisor with the divisor p b1 1 p b2 2 · · · pbj−1 j−1 p aj −bj −1 j p aj+1 j+1 · · · pak k . In each pair of divisors, one divisor divides the other. Hence, for each divisor that player B erases, player A can erase the divisor that it is paired with. Therefore, player B runs out of possible moves ﬁrst, so player A wins. Next, we look at the case where N is not a perfect square. We use the same prime factorization as above. Without loss of generality, we may assume that a1 is odd. In this case, we pair the divisors of N (including N itself) as follows: For a divisor p b1 1 pb2 2 · · · p bk k of N , we pair this divisor with the divisor p a1−b1 1 pb2 2 · · · pak k . In each pair of divisors, one divisor divides the other. Hence, for each divisor that player A erases, player B can erase the divisor that it is paired with. (This includes player A’s ﬁrst move of erasing N .) Therefore, player A runs out of possible moves ﬁrst, so player B wins. [/hide] [b]Game Theory, Problem 7[/b] Two players take turns choosing a point in the plane. After each turn, the area of the triangle formed by any three non-collinear chosen points must be between 1 and 1000 inclusive. The ﬁrst player who cannot select a new point loses. Who has the winning strategy? [hide=”Solution”] We claim that the ﬁrst player has a winning strategy, which is as follows: The ﬁrst player chooses some point P , then the second player chooses some point O. Then the ﬁrst player chooses the reﬂection of P in O. The ﬁrst player then keeps choosing the second player’s reﬂection in O. We will prove that this is always a legal move. For any point X, let X ′ denote the reﬂection of X in O. Suppose the second player chooses a point A. Let B and C be any chosen points. We want to prove that the area of triangle A′BC is between 1 and 1000 (assuming that the triangle is non-degenerate). Since B and C are chosen points, B′ and C ′ are also chosen points. If both B and C are distinct from A, then the area of triangle AB′C ′ must be between 1 and 1000 (because choosing point A was a legal move), so the area of triangle A′BC must be between 1 and 1000 as well. Otherwise, one of B and C coincides with A, say C. We must show that the area of triangle A′AB is between 1 and 1000. But the area of triangle A′AB is equal to the area of triangle ABB′, which is between 1 and 1000 (because choosing point A was a legal move). Thus, the ﬁrst player can always mirror the second player, which means that the second player runs out of possible moves ﬁrst, so the ﬁrst player wins. [/hide] [b]Game Theory, Problem 8[/b] Two players play the following game. They in turn write on a blackboard diﬀerent divisors of 100! (except 1). A player loses if after his turn, the greatest common divisor of the all the numbers written becomes 1. Which of the players has a winning strategy? (Russia, 1999) [hide=”Solution”] The second player has a winning strategy. Note that if p is a prime with p < 100, then p divides an even number of factors of 100!. If p < 97, then we can pair all divisors of 100! into pairs of the form {k, 97k}. (The number 100! has only one factor of 97.) Then for each such pair, p divides both elements or neither element. For p = 97, we can use pairs of the form {k, 89k}. If the ﬁrst player writes a prime p, then the second player can write down any other multiple of p. If the ﬁrst player writes a composite number, then the second player can write down any prime p dividing that number. From here on, the players must keep writing multiples of p to avoid losing. There are an even number of multiples of p, and two multiples have been used already. Hence, the second player will write the last multiple of p, and win. [/hide] [b]Game Theory, Problem 9[/b] Let N be a positive integer. Two players A and B, taking turns, write numbers on a blackboard. Player A begins by writing 1 on his ﬁrst move. If a player writes the number n on a certain move, then the next player can only write n + 1 or 2n, provided that the number he writes does not exceed N . The player who writes the number N wins. In terms of N , ﬁnd which player has a winning strategy. (IMO Short List, 2004) [hide=”Solution”] First, we see that if N is odd, then player A has a winning strategy. Note that if any player writes down an odd number, then the next player must write down an even number. Player A starts by writing 1, an odd number. If player A always adds 1 to the number, then player B always writes an even number, and player A always writes an odd number, so player A will write N ﬁrst. Next, we claim that for any positive integer t, the person who wins the game for N = t also wins for N = 4t and N = 4t + 2. Let N = 4t. One player, call him player W , has a winning strategy for N = t, so in this game, player W can write t ﬁrst. This means for N = 4t, player W can force the other player, call him player L, to write one of the numbers t + 1, t + 2, . . . , 2t ﬁrst. (Note that 17 Victor Wang WOOT Combinatorics for N = 4t, player W does not have to write the number t for this to happen.) Let this number be m. Then player W can write 2m. Since 2m is greater than 2t = 4t/2, from here on, both players can only add 1 on each turn. Both 2m and N = 4t are even, so player W writes N = 4t ﬁrst. Now, let N = 4t + 2. Again, player W can force player L to write one of the numbers t + 1, t + 2, . . . , 2t ﬁrst. Let this number be m. Then player W can write 2m. Since 2m is greater than 2t + 1 = (4t + 2)/2, from here on, both players can only add 1 on each turn. Both 2m and N = 4t + 2 are even, so player W writes N = 4t + 2 ﬁrst. Given a positive integer n, let n = bkbk−1 . . . b1b0 in binary. We claim that for the game N = n, player A has a winning strategy if b2i = 1 for some i, and player B has a winning strategy if b2i = 0 for all i. Assume that b2i = 1 for some i. Take the smallest such i, so b2i−2, b2i−4, . . . , b0 are all equal to 0. Then player A has a winning strategy for N = bkbk−1 . . . b2i, since it is odd. By our result above, player A also has a winning strategy for bkbk−1 . . . b2ib2i−1b2i−2, bkbk−1 . . . b2ib2i−1b2i−2b2i−3b2i−4, and so on, up to bkbk−1 . . . b1b0 = n. Otherwise, b2i = 0 for all i. (Note that k must be odd, and bk = 1 and bk−1 = 0.) Player B has a winning strategy for N = 2, which is 10 = bkbk−1 in binary. Then by our result above, player B also has a winning strategy for N = bkbk−1bk−2bk−3, and so on, up to bkbk−1 . . . b1b0 = n. [/hide] [b]Game Theory, Problem 10[/b] Two player play a game, alternately taking turns with two positive integers. A turn consists of taking the larger number and subtracting a positive multiple of the smaller number, as long as the result is still positive. The player who cannot make any more moves loses the game. Determine which player has the winning strategy in terms of the initial two numbers. [hide=”Solution”] Let τ = (1 + √5)/2, so τ 2 − τ − 1 = 0. Let the two positive integers be x and y, with x ≤ y. We say that the position is a W-position if y > τ x, and an L-position if y < τ x. We claim that W-positions are winning positions, and L-positions are losing positions. To prove this, we must prove that (1) every W-position can be turned into an L-position, (2) every L-position can only be turned into a W-position. (Note that a player cannot lose from a W-position.) (1) Let y > τ x. Since τ x − x/τ = τ x − (τ − 1)x = x, and τ x and x/τ are irrational, there exists a positive integer z in the interval (x/τ, τ x) that is congruent to y modulo x. Then we can turn the numbers x and y into the numbers x and z, and 1/τ < x/z < τ , so the position with the numbers x and z is an L-position. (2) Let x ≤ y < τ x. If x = y, then the player cannot make any move and loses. Otherwise, y < τ x < 2x, so the only possible move is to turn the numbers x and y into the numbers x and y − x. Note that y − x < (τ − 1)x < x, so x y − x > 1 τ − 1 = τ. Hence, the position with the numbers x and y−x is a W-position. [/hide][/quote] [url=http://www.artofproblemsolving.com/Forum/viewtopic.php?p=2602612p2602612]Subject: Algorithms Problem List[/url] [quote=”nsato”][b]Algorithms, Problem 1[/b] Initially there are m balls in one bag, and n in the other, where m, n > 0. Two diﬀerent operations are allowed: (a) Remove an equal number of balls from each bag; (b) Double the number of balls in one bag. Is it always possible to empty both bags after a ﬁnite sequence of operations? Operation (b) is now replaced with (b’) Triple the number of balls in one bag. Is it now possible to empty both bags after a ﬁnite sequence of operations? (British Mathematical Olympiad, 2011) [hide=”Solution”] We start with operations (a) and (b). Without loss of generality, assume that m ≥ n. There exists a unique nonnegative integer k such that 2k ≤ m n < 2 k+1. Then 2 kn ≤ m < 2 k+1n. We double n k times, so the bags now contain m balls and 2 kn balls. If m = 2kn, then we can empty both bags. Otherwise, 2 kn < m, so 0 < 2 k+1n − m < m. Remove 2 k+1n − m balls from both bags, so the bags now contain 2m − 2k+1n balls and m − 2 kn balls. Double m − 2 kn. Now both bags contain 2m − 2 k+1n balls, so we can empty both bags. Now we look at operations (a) and (b’). Note that both operations (a) and (b’) do not change the parity of the total number of balls, so we can never empty both bags if the total number of balls is odd. [/hide] [b]Algorithms, Problem 2[/b] Let n be a positive integer. We are given a 2 n-tuple of numbers, where each number is equal to 1 or −1. A move consists of replacing the 2n-tuple (a1, a2, . . . , a2n ) with the 18 Victor Wang WOOT Combinatorics 2 n-tuple (a1a2, a2a3, . . . , a2n a1). Prove that after 2 n such moves, each entry is equal to 1. Can the number 2 n be replaced by a smaller number, so that the statement still holds? [hide=”Solution”] We prove the result by induction. First, we look at the base case n = 1. If we start with the pair (a1, a2), then after one move, it becomes (a1a2, a1a2), and after another move, it becomes (a 2 1a 2 2, a 2 1a2 2) = (1, 1). So the result holds for n = 1. Assume that the result holds for n = k, for some positive integer k. After a move, the 2 k+1-tuple (a1, a2, . . . , a2k+1 ) becomes (a1a2, a2a3, . . . , a2k+1a1). After another move, it becomes (a1a3, a2a4, a3a5, a4a6, . . . , a2k+1−1a1, a2k+1a2). Thus, making two moves on the 2k+1-tuple (a1, a2, . . . , a2k+1) is equivalent to making a move on the 2 k-tuple (a1, a3, . . . , a2k+1−1), making a move on the 2 k-tuple (a2, a4, . . . , a2k+1), and then inter- lacing the entries. By the induction hypothesis, after 2 k moves, the 2 k-tuples (a1, a3, . . . , a2k+1−1) and (a2, a4, . . . , a2k+1) both become all 1s. Therefore, after 2 · 2 k = 2k+1 moves, the 2 k+1-tuple becomes all 1s. Hence, the result holds for n = k + 1, and by induction, the result holds for all positive integers n. Next, we prove that in general, 2 n moves are necessary. We claim that if we start with the 2n-tuple (−1, 1, 1, . . . , 1), and make 2 n − 1 moves, then each entry will be equal to −1. We prove this by induction as well. The result is easy to verify in the base case n = 1, so assume that the result holds for n = k, for some positive integer k. We start with the 2k+1-tuple (a1, a2, a3, . . . , a2k+1) = (−1, 1, 1, . . . , 1). We split this 2k+1-tuple into the 2k-tuples A = (a1, a3, . . . , a2k+1−1) = (−1, 1, . . . , 1) and B = (a2, a4, . . . , a2k+1−2) = (1, 1, . . . , 1). By the induc- tion hypothesis, after 2 k−1 moves, the 2k-tuple A is all −1s. After 2 k−1 moves, the 2 k-tuple B is still all 1s. Therefore, after 2·(2 k −1) = 2 k+1 −2 moves, the 2k+1-tuple (a1, a2, a3, . . . , a2k+1) = (−1, 1, 1, . . . , 1) becomes (−1, 1, −1, 1, . . . , −1, 1). After another move, for a total of 2 k+1 − 2 + 1 = 2 k+1 − 1 moves, this 2 k+1-tuple becomes all −1s. Hence, the result holds for n = k + 1, and by induction, the result holds for all positive integers n. So in general, 2n − 1 moves are not suﬃcient, so 2 n cannot be replaced by a smaller number. [/hide] [b]Algorithms, Problem 3[/b] There are 2010 boxes labeled B1, B2, . . . , B2010, and 2010n balls have been distributed among them, for some positive integer n. You may redistribute the balls by a sequence of moves, each of which consists of choosing an i and moving [i]exactly[/i] i balls from box Bi into any one other box. For which values of n is it possible to reach the distribution with exactly n balls in each box, regardless of the initial distribution of balls? (Putnam, 2010) [hide=”Solution”] We claim that it is always possible to reach an even distribution if and only if n ≥ 1005. Suppose n ≤ 1004. Note that 1 + 2 + · · · + 2009 = 2009 · 2010 2 = 2010 · 1004.5. Hence, we can distribute the 2010n balls so that box Bi contains at most i − 1 balls. For this distri- bution, no moves are possible. Now, assume that n ≥ 1005. Then by the Pigeonhole principle (and our calculation above), there always exists an index i such that box Bi contains at least i balls. We describe such an index as [i]eligible[/i]. We give the following algorithm for ending up with n balls in each box. (A) Find the largest eligible index i. If i = 1, then go to step (B). Otherwise, move i balls from box Bi to box B1, and repeat step (A). (B) At this point, the only eligible index is i = 1. Find the largest index j such that box Bj is non-emtpy. If j = 1, then go to step (C). Otherwise, move one ball from box B1 to Bj. If this move makes index j eligible, then move j balls from box Bj to B1. Repeat step (B). (C) At this point, all the balls are in box B1. Move one ball to every other box from box B1 until each box contains n balls. The proof that this algorithm works is fairly straight-forward. In step (A), we keep making legal moves, moving balls to box B1, until the only possible move left is to move balls from box B1. In step (B), we ﬁll in any non-empty boxes Bi for i > 1, one ball at a time, until we can move all the balls in any such box to box B1. We repeat, until all the balls are in 19 Victor Wang WOOT Combinatorics box B1. Finally, in step (C), we ﬁll in all the other boxes, one ball at a time, until each box contains n balls. [/hide] [b]Algorithms, Problem 4[/b] The numbers 0, 1, 2, . . . , n (n ≥ 2) are written on a blackboard. In each step we erase an integer which is the arithmetic mean of two diﬀerent numbers which are still left on the blackboard. We make such steps until no further integer can be erased. Let g(n) be the smallest possible number of integers left on the blackboard at the end. Find g(n) for every n. (Middle European Mathematical Olympiad, 2009) [hide=”Solution”] We claim that g(n) = 2 if n is a power of 2, and g(n) = 3 otherwise. If n is a power of 2, then we can start by erasing 1, 3, 5, . . . , n − 1 (the numbers that are congruent to 1 modulo 2). We then erase 2, 6, 10, . . . , n − 2 (the numbers that are congruent to 2 modulo 4), and so on. Eventually, we are left with just 0 and n. Clearly, there must be at least two numbers left on the blackboard, so in this case, g(n) = 2. Now suppose that n is not a power of 2. Write n = 2m + a, where m is a positive integer and 0 < a < 2 m. We erase n − 1 = 2m + a − 1, n − 2 = 2m + a − 2, . . . , 2 m + 1, in sequence. We then erase all of the numbers from 1 to 2 m − 1 as we did above. Eventually, we are left with only the numbers 0, 2 m, and n, so we can always get down to three numbers. Suppose that it is possible to get down to two numbers. These two numbers must be 0 and n, since we can never erase them. Since n is not a power of 2, there exists an odd prime p that divides n. Starting with the two numbers 0 and n, we can reverse the moves, where at each point, we write a number on the blackboard that is the arithmetic mean of two diﬀerent numbers on the blackboard. But both 0 and n are divisible by p, an odd prime, so every number we write on the blackboard must also be divisible by p. In particular, we will never be able to write the number 1, contradiction. Therefore, in this case, g(n) = 3. [/hide] [b]Algorithms, Problem 5[/b] We play the following game with an equilateral triangle of n(n + 1)/2 pennies (with n pennies on each side). Initially, all of the pennies are turned heads up. On each turn, we may turn over three pennies that are mutually adjacent; the goal is to make all of the pennies show tails. For which values of n can this be achieved? (Colombia, 1997) [hide=”Solution”] We claim that we can ﬂip all the pennies to show tails if and only if n ≡ 0 or n ≡ 2 (mod 3). Let Tn denote the triangular array of pennies with side length n. First, we prove that if we can ﬂip all the pennies to show tails for Tn, then we can ﬂip all the pennies to show tails for Tn+3. Consider the triangular array Tn+3, where all the pennies show heads. Flip every possible set of three pennies. The penny at each corner is ﬂipped once, so it shows tails. Every other penny along the sides of the triangle is ﬂipped three times, so they all show tails as well. Each interior penny is ﬂipped six times, so they all show heads. But the interior pennies form a triangular array of side length n, which is Tn. Hence, if we can ﬂip all the pennies to show tails for Tn, then we can ﬂip all the pennies to show tails for Tn+3. We can ﬂip all the pennies to show tails for T2, and we can ﬂip all the pennies to show tails for T3 (ﬂip every possible set of three pennies). It follows that we can ﬂip all the pennies to show tails for Tn if n ≡ 0 (mod 3) or n ≡ 2 (mod 3). Now let n ≡ 1 (mod 3). We label each penny A, B, or C, so that any three mutually adjacent pennies have diﬀerent labels. The ﬁgure below shows the labels for T4. [asy] import graph; unitsize(0.8 cm); for(int i = 0; i ¡= 3; ++i) for(int j = 0; j ¡= 3 - i; ++j) draw(Circle((0.8)*(i*dir(0) + j*dir(60)), 0.3)); label(”A”, (0.8)*(0*dir(0) + 0*dir(60))); label(”A”, (0.8)*(0*dir(0) + 3*dir(60))); label(”A”, (0.8)*(3*dir(0) + 0*dir(60))); label(”A”, (0.8)*(1*dir(0) + 1*dir(60))); label(”B”, (0.8)*(0*dir(0) + 2*dir(60))); label(”B”, (0.8)*(1*dir(0) + 0*dir(60))); label(”B”, (0.8)*(2*dir(0) + 1*dir(60))); label(”C”, (0.8)*(0*dir(0) + 1*dir(60))); label(”C”, (0.8)*(2*dir(0) + 0*dir(60))); label(”C”, (0.8)*(1*dir(0) + 2*dir(60))); [/asy] Let hA and hB denote the number of pennies labeled A and B that show heads, respectively. If the pennies in the corners are labeled A, then the number of pennies labeled A is one more than the number of pennies labeled B. Hence, initially when all the pennies show heads, hA + hB is odd. Furthermore, each move changes hA by one, and hB by one, so hA + hB is always odd. In par- ticular, we cannot make both hA and hB equal to 0, so we can never make all the pennies show heads. [/hide] [b]Algorithms, Problem 6[/b] We have an inﬁnite number of red boxes R1, R2, R3, . . . , and a blue box B. 100 balls are distributed among the red boxes. If box Rn contains exactly n balls, then we may take the n balls out of box Rn, and place one ball into each of the boxes Rn−1, Rn−2, . . . , R1, and B. (If n = 1, then we move the one ball in box R1 to box B.) Prove that there is a unique initial distribution of balls so that all 100 balls may eventually be moved to the blue box. [hide=”Solution”] Consider a position just after we have made a move, say moving all n balls from box Rn. Then box Rn is empty, and each of the boxes Rn−1, Rn−2, . . . , R1 must contain at least one ball. Based on the position after the move, such an n is unique - it is the smallest n such that box Rn is empty. 20 Victor Wang WOOT Combinatorics Therefore, for any position, there is only one possible previous position. Furthermore, given a position after a move, we can always reverse the move by ﬁnding the smallest n such that box Rn is empty, then taking one ball out of each of boxes B, R1, R2, . . . , Rn−1, and putting the n balls in box Rn. Thus, we can start with all 100 balls in box B, and keep playing backwards until box B is empty. This gives us the unique initial distribution we seek. (This ”game” is also known as Tchoukaillon solitaire.) [/hide] [b]Algorithms, Problem 7[/b] Each side and diagonal of a regular (2n + 1)-gon is colored red or blue. One may choose a vertex and change the color of all of the segments emanating from that vertex, from red to blue and vice versa. Prove that no matter how the edges were colored initially, it is possible to make the number of blue segments at each vertex even. Prove also that the resulting coloring is uniquely determined by the initial coloring. (Czech Slovak, 1997) [hide=”Solution”] Label the vertices V1, V2, . . . , V2n+1. Let ai be the number of blue segments emanating from vertex Vi at the beginning, let bi be the number of times that vertex Vi is chosen, and let ci be the number of blue segments emanating from vertex Vi at the end. Since there are 2n segments emanating from vertex Vi, choosing vertex Vi has no eﬀect on the parity of the number of blue segments emanating from vertex Vi. On the other hand, if j ̸= i, then choosing vertex Vj changes the parity of the number of blue segments emanating from vertex Vi. Hence, ci ≡ b1 + b2 + · · · + bi−1 + ai + bi+1 + · · · + b2n+1 (mod 2) for all i. We want ci ≡ 0 (mod 2) for all i. We can accomplish this by setting bi ≡ ai (mod 2) for all i. In this case, ci ≡ a1 + a2 + · · · + a2n+1 (mod 2) for all i. The sum a1 + a2 + · · · + a2n+1 counts every blue segment at the beginning twice, so this sum is even. To prove that the ﬁnal coloring is unique, let B = b1 + b2 + · · · + b2n+1. Then no matter what our moves are, ci ≡ ai − bi + B (mod 2) for all i. Since ci ≡ 0 (mod 2) for all i, we have that bi ≡ ai + B (mod 2) for all i. If B ≡ 0 (mod 2), then bi ≡ ai (mod 2) for all i, which is the solution we gave above. Note that the ﬁnal coloring depends only on bi (mod 2), because choosing a vertex twice has no net eﬀect. Hence, this coloring can be achieved as follows: Let O be the set of vertices Vi where ai is odd. We then choose the vertices in O. If B ≡ 1 (mod 2), then bi ≡ ai + 1 (mod 2). For this solution, let E be the set of vertices Vi where ai is even. We then choose the vertices in E. If we choose all 2n + 1 vertices, then every segment changes color 2n times, so choosing every vertex has no net eﬀect. Therefore, choosing the vertices in E must lead to the same coloring as choosing the vertices in O, because combining these choices cancels everything. We conclude that the ﬁnal coloring is unique. [/hide] [b]Algorithms, Problem 8[/b] A pile of cards, numbered with 1, 2, . . . , n, is being shuﬄed. Afterwards, the following operation is repeatedly performed: If the uppermost card of the pile has the number k, then we reverse the order of the k uppermost cards. Prove that, after ﬁnitely many executions of this operation, the card with the number 1 will become the uppermost card of the pile. (Germany, 2002) [hide=”Solution”] There are only ﬁnitely many ways that the cards in the deck can be ordered, and each ordering of the deck after a shuﬄe depends only on the ordering of the deck before a shuﬄe, so the sequence of orderings is eventually periodic. Then the numbers on the uppermost card go through some cycle a1, a2, . . . , ak. Consider the largest number ai. If ai > 1, then after the card numbered ai appears as the uppermost card, it becomes the a th i card from the top. But ai is maximal, so this card can never return to the top, which means that it cannot be part of a cycle, contradiction. Therefore, ai = 1. [/hide] [b]Algorithms, Problem 9[/b] Given a permutation (a1, a2, . . . , an) of the numbers 1, 2, . . . , n, one may interchange any two consecutive ”blocks” - that is, one may transform (a1, . . . , ai, ai+1, . . . , ai+p | {z } A , ai+p+1, . . . , ai+q | {z } B , ai+q+1, . . . , an) into (a1, . . . , ai, ai+p+1, . . . , ai+q | {z } B , ai+1, . . . , ai+p | {z } A , ai+q+1, . . . , an) 21 Victor Wang WOOT Combinatorics by interchanging the ”blocks” A and B. Find the least number of such changes which are needed to transform (1, 2, . . . , n) into (n, n − 1, . . . , 1). (Bulgaria, 2001) [hide=”Solution”] Let f (n) denote the least number of changes required. We claim that f (1) = 0, f (2) = 1, and f (n) = ⌈(n + 1)/2⌉ for all n ≥ 3. The cases n = 1 and n = 2 are easy to verify, so assume that n ≥ 3. First, we show that ⌈(n + 1)/2⌉ changes suﬃce. If n is even, then write n = 2m. For the ﬁrst m moves, swap block ai, . . . , ai+m−2 with block ai+m−1, . . . , ai+m for 1 ≤ i ≤ m. After these m changes, the numbers are m, m − 1, m − 2, . . . , 1, n, n − 1, n − 2, . . . , m + 1. Then swap block a1, . . . , am with block am+1, . . . , an. The total number of changes is m + 1 = ⌈(n + 1)/2⌉. If n odd, then write n = 2m + 1. For the ﬁrst m moves, swap block ai, . . . , ai+m−1 with block ai+m, ai+m+1 for 1 ≤ i ≤ m. After these m changes, the numbers are m + 1, m, m − 1, . . . , 2, n, n − 1, n − 2, . . . , m + 2, 1. Then swap block a1, . . . , am with block am+1, . . . , a2m. The total number of changes is m + 1 = ⌈(n + 1)/2⌉. Next, we prove that at least ⌈(n + 1)/2⌉ changes are required. Let X be the number of consecutive pairs of terms that are in decreasing order. For n ≥ 3, at least two swaps are required. The ﬁrst swap increases X by 1, and the last swap increases X by 1. For any other swap, say from . . . , a, b, . . . , e | {z } , f, . . . , c | {z } , d, . . . , to . . . , a, f, . . . , c | {z } , b, . . . , e | {z } , d, . . . , if X were to increase by 3, then we must have a < b, b < c, c < d, d < e, e < f , and f < a, which is impossible. Therefore, X increases by at most 2 with any change. The initial value of X is 0, and the ﬁnal value of X is n − 1, so at least ⌈(n + 1)/2⌉ changes are required. [/hide] [b]Algorithms, Problem 10[/b] Let n ≥ 2 be a positive integer. Initially, there are n ﬂeas on a horizontal line, not all at the same point. For a positive real number λ, deﬁne a [i]move[/i] as follows: choose any two ﬂeas, at points A and B, with A to the left of B; let the ﬂea at A jump to the point C on the line to the right of B with BC/AB = λ. Determine all values of λ such that, for any point M on the line and any initial positions of the n ﬂeas, there is a ﬁnite sequence of moves that will take all the ﬂeas to positions to the right of M . (IMO, 2000) [hide=”Solution”] We claim that we can always move all the ﬂeas to the right of M if and only if λ ≥ 1 n − 1 . First, we take the case where λ ≥ 1 n−1 . For each move, we let the leftmost ﬂea jump over the rightmost ﬂea. Let D and d be the maximum and minimum distances between any two ﬂeas, at any moment. Since there are n ﬂeas, D ≥ (n − 1)d. It follows that λD ≥ d. After the leftmost ﬂea jumps over the rightmost ﬂea, since λD ≥ d, the minimum distance d does not decrease. Furthermore, the leftmost ﬂea moves to the right by a distance of at least d. Therefore, by repeatedly letting the leftmost ﬂea jump over the rightmost ﬂea, we can eventually move all the ﬂeas to the right of M . Now, let λ < 1 n−1 . We identify the position of each ﬂea with a real number. After k moves, let sk be the sum of the numbers corresponding to the positions of the ﬂeas, and let wk be the maximum of these numbers (i.e. the position of the rightmost ﬂea). Then sk ≤ nwk. We claim that the sequence (wk) is bounded. For the (k + 1)st move, a ﬂea at A jumps over a ﬂea at B and lands at C. Let a, b, and c be the corresponding real numbers. Then c − b = λ(b − a), so a = (λ + 1)b − c λ , and sk+1 − sk = c − a = c − (λ + 1)b − c λ = λ + 1 λ (c − b). 22 Victor Wang WOOT Combinatorics If c ≥ wk+1, then c − b ≥ wk+1 − wk. If c < wk+1, then wk+1 = wk, so again c − b ≥ wk+1 − wk. Hence, we can write sk+1 − sk ≥ λ + 1 λ (wk+1 − wk). Summing this inequality over 0 ≤ k ≤ n − 1, we get sn − s0 ≥ λ + 1 λ (wn − w0). Since sn ≤ nwn, it follows that ( λ + 1 λ − n) wn ≤ λ + 1 λ w0 − s0. Since λ < 1 n−1 , λ + 1 λ − n > 0. Hence, the sequence (wn) is bounded. It follows that there exists a point M such that not all the ﬂeas can be moved to the right of M . [/hide][/quote] [url=http://www.artofproblemsolving.com/Forum/viewtopic.php?p=2035727p2035727]Subject: Induction Problems[/url] [quote=”nsato”][b]Induction, Problem 1[/b] Prove that 2(√n + 1 − 1) < 1 + 1 √2 + 1 √3 + · · · + 1 √n < 2√n for all positive integers n. [hide=”Solution”] We prove the result by induction. For the base case n = 1, the inequality becomes 2( √2 − 1) < 1 < 2. The right inequality is obvious, and the left inequality is equivalent to 2 √2 < 3, or √8 < √9, which is clearly true. Assume that the inequality holds for some positive integer n = k, so 2(√k + 1 − 1) < 1 + 1 √2 + · · · + 1 √k < 2 √k. It is clear that √k + 2 + √k + 1 > 2 √k + 1 > √k + 1 + √k. Taking the reciprocals, and rationalizing the denominators, we ﬁnd 2(√k + 2 − √k + 1) < 1 √k + 1 < 2( √k + 1 − √k). Adding this inequality to the inequality for n = k above, we get 2( √k + 2 − 1) < 1 + 1 √2 + · · · + 1 √k + 1 √k + 1 < 2 √k + 1. Hence, the result holds for n = k + 1, and by induction, for all positive integers n. [/hide] [b]Induction, Problem 2[/b] Given 0 < a < b < c < d < e < 1, prove that abcde > a + b + c + d + e − 4. [hide=”Solution”] More generally, we claim that n − 1 − a1 − a2 − · · · − an + a1a2 · · · an > 0 for any n ≥ 2 variables a1, a2, . . . , an ∈ (0, 1). We prove this by induction. For the base case n = 2, the inequality becomes 1 − a1 − a2 + a1a2 = (1 − a1)(1 − a2) > 0, which is clearly true. Assume that the result holds for some positive integer n = k ≥ 2, so k − 1 − a1 − a2 − · · · − ak + a1a2 · · · ak > 0. 23 Victor Wang WOOT Combinatorics It is clear that (1 − ak+1)(1 − a1a2 · · · ak) > 0, which expands as 1 − ak+1 − a1a2 · · · ak + a1a2 · · · ak+1 > 0. Adding this to the inequality above, we get k − a1 − a2 − · · · − ak+1 + a1a2 · · · ak+1 > 0. Hence, the result holds for n = k + 1, and by induction, for all positive integer n ≥ 2. [/hide] [b]Induction, Problem 3[/b] Let p be a prime, and let a, k be positive integers such that p k | (a − 1). Show that p n+k | (a pn −1) for all positive integers n. [hide=”Solution”] We prove the result (which holds for all nonnegative integers n) by induction on n. For the base case n = 0, the condition p n+k | (a pn −1) becomes p k | (a − 1), which is given. Assume that the result holds for some nonnegative integer n = m, so pm+k | (apm − 1). Then a pm = 1 + p m+kb for some nonnegative integer b. Raising both sides to the power of p, we get a pm+1 = (1 + p m+kb)p = 1 + ( p 1 ) pm+kb + (p 2 )(pm+kb) 2 + · · · + (p m+kb)p. We see that (p 1)pm+kb = p m+k+1b, and clearly all further terms in the sum above are divisible by p m+k+1, so a pm+1 − 1 is divisible by pm+k+1. Hence, the result holds for n = m + 1, and by induction, for all nonnegative integers n. [/hide] [b]Induction, Problem 4[/b] For a positive integer n let S(n) be the sum of digits in the decimal representation of n. Any positive integer obtained by removing several (at least one) digits from the right-hand end of the decimal representation of n is called a [i]stump[/i] of n. Let T (n) be the sum of all stumps of n. Prove that n = S(n) + 9T (n). (APMO, 2001) [hide=”Solution”] We prove the result by induction on the number of digits of n. For the base case when n is a 1-digit number, S(n) = n and T (n) = 0, so S(n) + 9T (n) = n. Assume that the result holds for all m-digit numbers. Let n be an (m + 1)-digit number. Write n = 10a + b, where a is an m-digit number and b is the last digit of n. Then S(n) = S(a) + b. Also, all the stumps of a are also stumps of n - the only stump of n that is not a stump of a is a itself, so T (n) = a + T (a). Hence, S(n) + 9T (n) = S(a) + b + 9a + 9T (a). By the induction hypothesis, a = S(a) + 9T (a), so S(n) + 9T (n) = 10a + b = n. Hence, the result holds for all (m + 1)-digit numbers, and by induction, for all positive integers n. [/hide] [b]Induction, Problem 5[/b] Find, as a function of n, the sum of the digits of 9 × 99 × 9999 × · · · × (102 n − 1) , where each factor has twice as many digits as the previous one. (USAMO, 1992) [hide=”Solution”] Let f (n) = 9 × 99 × 9999 × · · · × (102 n − 1) . We claim that f (n) is a (2n+1 − 1)-digit number, and that the sum of the digits is 9 · 2 n. For the base case n = 0, f (0) = 9, and we see that the result is true. Assume that the result holds for some nonnegative integer n = k. Let f (k) = a1a2 . . . a2k+1−1 24 Victor Wang WOOT Combinatorics in decimal, so a1 + a2 + · · · + a2k+1−1 = 9 · 2 k. Then f (k + 1) = (10 2 k+1 − 1)f (k) = 10 2k+1f (k) − f (k) = 10 2 k+1[f (k) − 1] + [102 k+1 − 1 − f (k)] + 1. Clearly, the last digit of f (k) cannot be 0, so the digits of f (k) − 1 are the same as the digits of f (k), except that the last digit of f (k) − 1 is one less than the last digit of f (k). Multiplying f (k) − 1 by 10 2k+1 appends 2k+1 0s at the end. Also, since f (k) is a (2 k+1 − 1)-digit number, 102k+1 − 1 − f (k) is a 2 k+1-digit number, whose digits are 9, 9 − a1, 9 − a2, . . . , 9 − a2k+1−1. Again, the last digit of f (k) (namely a2k+1−1) cannot be 0, which means the digit 9 − a2k+1−1 cannot be 9, so adding 1 simply adds 1 to the last digit of 102 k+1 − 1 − f (k). Therefore, the number of digits in f (k + 1) is 2 k+1 + 2k+1 − 1 = 2 k+2 − 1, and the sum of the digits of f (k + 1) is a1 + a2 + · · · + a2k+1−1 − 1 + 9 + (9 − a1) + (9 − a2) + · · · + (9 − a2k+1−1) + 1 = 9 · 2k+1. Hence, the result holds for n = k + 1, and by induction, for all nonnegative integers n. [/hide] [b]Induction, Problem 6[/b] Let P (z) be a polynomial with complex coeﬃcients which is of degree 1992 and has distinct zeros. Prove that there exist complex numbers a1, a2, . . . , a1992 such that P (z) divides the polynomial (· · · ((z − a1) 2 − a2)2 · · · − a1991)2 − a1992. (USAMO, 1992) [hide=”Solution”] More generally, we prove the following result: Let P (z) be a poly- nomial with complex coeﬃcients which is of degree n and has distinct zeros. Then there exist complex numbers a1, a2, . . . , an such that P (z) divides the polynomial (· · · ((z − a1) 2 − a2) 2 · · · − an−1)2 − an. For the base case n = 1, let r be the zero of P (z). We seek a complex number a1 such that z − a1 is divisible by P (z). By the factor theorem, we can take a1 = r. Assume that the result holds for some positive integer n = k. Let P (z) be a polynomial of degree k + 1 with distinct zeros r1, r2, . . . , rk+1. By the induction hypothesis, there exist complex numbers a1, a2, . . . , ak such that pk(z) = (· · · ((z − a1) 2 − a2)2 · · · − ak−1) 2 − ak is divisible by (z − r1)(z − r2) · · · (z − rk). In other words, pk(ri) = 0 for all 1 ≤ i ≤ k. Let c = pk(rk+1) and let pk+1(x) = [pk(x) − c 2 ]2 − c2 4 . Then pk+1(ri) = [ pk(ri) − c 2 ]2 − c 2 4 = c 2 4 − c 2 4 = 0 for all 1 ≤ i ≤ k, and pk+1(rk+1) = [pk(rk+1) − c 2 ]2 − c 2 4 = c2 4 − c 2 4 = 0. Therefore, by the factor theorem, pk+1(z) is divisible by P (z), and has the desired form. Hence, the result holds for n = k + 1, and by induction, for all positive integers n. [/hide] [b]Induction, Problem 7[/b] For a positive integer n, let Sn be the set of all fractions of the form 1/(pq), where p and q are relatively prime, 0 < p < q ≤ n, and p + q > n. Show that the sum of the elements of Sn is 1/2. [hide=”Solution”] We prove the result by induction. For the base case n = 2, S2 = {1/2}, so the result holds. Assume that the result holds for some positive integer n = k. If we compare the sets Sk and Sk+1, we ﬁnd that these two sets have most elements in common. The only diﬀerence, in going from set Sk to set Sk+1, is that lose the fractions of the form 1 pq , where gcd(p, q) = 1, 0 < p < q ≤ k, and 25 Victor Wang WOOT Combinatorics p + q = k + 1, and we gain the fractions of the form 1 pq , where gcd(p, q) = 1, and 0 < p < q = k + 1. Let 0 < r < k + 1, and gcd(r, k + 1) = 1, so gcd(k + 1 − r, k + 1) = gcd(r, k + 1 − r) = 1. Then the fractions 1 r(k+1) and 1 (k+1−r)(k+1) that we gain exactly oﬀset the fraction 1 r(k + 1) + 1 (k + 1 − r)(k + 1) = k + 1 r(k + 1 − r)(k + 1) = 1 r(k + 1 − r) , which we lose, so the sum stays constant. Therefore, the sum of the elements in Sk+1 is also 1/2. Hence, the result holds for n = k + 1, and by induction, for all positive integers n ≥ 2. [/hide] [b]Induction, Problem 8[/b] Here is a problem and a proposed solution. [b]Problem[/b]. Let n be a nonnegative inte- ger. Given a triangle and n points inside it, we divide the triangle into smaller triangles, using the n+3 points as vertices. No three of the n+3 points are collinear. Show that we always end up with 2n+1 tri- angles. [img]http://www.artofproblemsolving.com/Admin/latexrender/pictures/642d65039d242b12830a2685fd6236ﬀ.png[/img] [b]Solution[/b]. For the base case n = 0, there is clearly 2n + 1 = 1 triangle. For the inductive step, assume that k points inside the triangle deﬁne 2k + 1 triangles. If we add a point x, as shown, then we lose one triangle but create three more triangles, for a net addition of two triangles. Hence, there are a total of 2k + 1 + 2 = 2k + 3 = 2(k + 1) + 1 triangles, which completes the induction. ■ This proposed solution has a major conceptual ﬂaw. Identify the ﬂaw, and ﬁx the induction argument. [hide=”Solution”] The ﬂaw in the proof is that not every triangulation can be reached by adding a point to a smaller triangulation in the manner illustrated, such as the triangulation shown below. [img]http://aops10.artofproblemsolving.com/Admin/latexrender/pictures/3ee10925180085f9753c73e54be0eﬀ2.png[/img] Here is a correct proof of the inductive step: Consider a triangulation with k + 1 points in the interior of the triangle. Choose one of the points, and remove it. If the point had e edges coming out of it, then removing the point also removed e triangles, and we are left with an e-sided polygon. An e-sided polygon can be divided into e − 2 triangles. By the induction hypothesis, this new triangulation has 2k + 1 triangles, but it has e − (e − 2) = 2 triangles less than the original triangulation. Therefore, the original triangulation had (2k + 1) + 2 = 2k + 3 triangles. Hence, the result is true for n = k + 1, and by induction, for all nonnegative integers n. The point of this problem is to show that induction is not about going from a k case to any k + 1 case. A correct proof starts at an arbitrary k + 1 case, and considers how to get from some k case to the k + 1 case being considered. [/hide] [b]Induction, Problem 9[/b] Let S be a ﬁnite set of points in three-dimensional space. Let Sx, Sy, Sz be the sets consisting of the orthogonal projections of the points of S onto the yz-plane, zx-plane, xy-plane respectively. Prove that |S| 2 ≤ |Sx| · |Sy| · |Sz|, where |A| denotes the number of elements in the ﬁnite set A. (IMO, 1992) [hide=”Solution”] We prove the result by strong induction on |S|. For the base case |S| = 1, the result is trivial. Assume that the result holds for |S| = 1, 2, . . . , k, for some positive integer k. Let S be a set containing k + 1 points. There must exist a plane, parallel to one of the three coordinate planes, that splits S into two nonempty subsets T and U . Without loss of generality, assume that this plane is parallel to the xy-plane. We have the corresponding sets Tx, Ty, Tz, Ux, Uy, and Uz. Then |S| = |T | + |U |, |Sx| = |Tx| + |Ux|, |Sy| = |Ty| + |Uy|, |Tz| ≤ |Sz|, and |Uz| ≤ |Sz|. By the strong induction hypothesis, |T |2 ≤ |Tx| · |Ty| · |Tz|, |U |2 ≤ |Ux| · |Uy| · |Uz|. Therefore, |S| 2 = (|T | + |U |)2 ≤ ( √|Tx| · |Ty| · |Tz| + √|Ux| · |Uy| · |Uz|)2 ≤ ( √|Tx| · |Ty| · |Sz| + √|Ux| · |Uy| · |Sz|)2 = ( √|Tx| · |Ty| + √ |Ux| · |Uy|)2|Sz|. By the Cauchy-Schwarz inequality, ( √|Tx| · |Ty| + √ |Ux| · |Uy|) 2 ≤ (|Tx| + |Uy|)(|Ty| + |Uy|) = |Sx| · |Sy|, 26 Victor Wang WOOT Combinatorics so |S|2 ≤ |Sx| · |Sy| · |Sz|. Hence, the result holds for |S| = k + 1, and by strong induction, for all sets S. [/hide] [b]Induction, Problem 10[/b] Prove that every positive integer can be written as a ﬁnite sum of distinct integral powers of the golden ratio. (APMO, 2006) [hide=”Solution”] We will prove the result by induction on n. For the base n = 1, we can write 1 = τ 0. Assume that the result holds for n = m for some positive integer m, so m = k∑ i=−k aiτ i, (1) where ai ∈ {0, 1}. We can express equation (1) using ”base τ ,” i.e. m = ak . . . a1a0.a−1a−2 . . . a−k (2). For example, since the golden ratio τ satisﬁes τ 2 = τ + 1, 1 = 1.0 = 0.11 = 0.1011 = 0.101011. We claim that if m can be expressed in the form (2), then there exists a representation where aiai+1 = 0 for all i; that is, there are no consecutive 1s. If the sequence 11 appears, then consider the leftmost appearance. This appearance must be preceded by a 0, and we can replace 011 with 100 (using τ i+τ i+1 = τ i+2). Repeating this procedure if necessary, we can eliminate all appearances of consecutive 1s. Hence, we may assume m = K∑ i=−K biτ i, (3) where bi ∈ {0, 1} and bibi+1 = 0. We want to show that m + 1 can be written as the sum of distinct integral powers of τ . If b0 = 0 in (3), then we may simply add 1 = τ 0 to both sides and we are done. Otherwise, b0 = 1. If b−1 = 0 and b−2 = 0, i.e. m = . . . 1.00 . . . , then we can replace 1.00 with 0.11 because 1 = τ −1 + τ −2, and then we can add 1 = τ 0 to both sides. There are no consecutive 1s in (3), so we may assume that m = . . . 1.010 . . . . If m = . . . 1.0100, we may rewrite it as m = . . . 1.0100 · · · = . . . 1.0011 · · · = . . . 0.1111 . . . , and then we can add 1 = τ 0 to both sides. More generally, since the number of 1s is ﬁnite, the sequence 100 must appear somewhere. Consider the leftmost appearance. We can replace this appearance of 100 with 011, then do the same for every other appearance (working towards the left), until we obtain a 0 in the unit position. At this point, we can add 1 = τ 0. Hence, the result is true for n = m+1, and by induc- tion, for all positive integers n. [/hide][/quote] [url=http://www.artofproblemsolving.com/Forum/viewtopic.php?p=2024131p2024131]Subject: Induction Problem 9[/url] [quote=”CatalystOfNostalgia”][hide]We’re essentially going to induct on the number of dimensions. Lemma: Consider a set S of n distinct points in R2. Then, let Sx be the set of distinct x-coordinates, and Sy be the set of distinct y-coordinates. Then |Sx| · |Sy| ≥ n. Proof: Let Sx = {1, 2, . . . , k} (the coordinates themselves are irrelevant). Then, let ai be the number of points in S with x-coordinate i. Note that Sy ≥ ai for all i, since we have distinct points. In particular, Sy ≥ max{ai} ≥ n k by the Pigeonhole Principle, which proves the lemma. Now we’re going to ap- ply a similar idea to get from 2 dimensions to 3. Let Syz = {1, 2, . . . , k}, deﬁning ai similarly as in the lemma. Now, we can consider the sets Si xz and Si xy for all relevant i, by taking the projec- tions onto the relevant planes but restricting to points with x-coordinate i. Observe that because the 27 Victor Wang WOOT Combinatorics x-coordinates are distinct for distinct i (by deﬁnition), all of these sets are distinct. Let |Si xz| = bi and |Si xy| = ci. By the lemma, note that bici ≥ ai. Since the Si xz are all distinct (as are the Si xy), we have |Sxz| = k∑ i=1 |Si xz| = k∑ i=1 bi and similarly |Sxy| = k∑ i=1 ci. Now, using similar logic from the lemma, observe that |Syz| ≥ max{ai}. Now, by Cauchy, |Sxy| · |Syz| · |Szx| ≥ max{ai} k∑ i=1 bi k∑ i=1 ci ≥ max{ai}( k∑ i=1 √bici) 2 ≥ max{ai}( k∑ i=1 √ai) 2 ≥ ( k∑ i=1 ai) 2 = |S| 2.[/hide][/quote] For reals x, y, z, deﬁne axy = [(x, y, 0) ∈ Sz], byz = [(0, y, z) ∈ Sx], and czx = [(x, 0, z) ∈ Sy]. Then S ⊆ {(x, y, z) ∈ R3 : axybyzczx = 1} (and this ”maximal” set can be achieved), so we need to show that ( ∑ R3 axybyzczx )2 ≤ ( ∑ R2 axy ) ( ∑ R2 byz ) ( ∑ R2 czx ) . But by Cauchy-Schwarz and the fact that t = t2 for t ∈ {0, 1}, ( ∑ x,y,z axybyzczx )2 = ( ∑ x,y axy ∑ z byzczx )2 ≤ ( ∑ x,y a 2 xy )   ∑ x,y ( ∑ z byzczx )2  ≤ ( ∑ x,y a 2 xy ) ( ∑ x,y ( ∑ z b2 yz ) ( ∑ z c 2 zx )) = ( ∑ x,y axy ) ( ∑ y ( ∑ z byz ) ∑ x (∑ z czx )) = ( ∑ x,y axy ) ( ∑ y,z byz ) ( ∑ z,x czx ) , as desired. In fact, as in [i]The Cauchy-Schwarz Master Class[/i] (by Steele), we can use the same method to prove the more general inequality ( ∑ R3 √axybyzczx )2 ≤ ( ∑ R2 axy ) ( ∑ R2 byz ) ( ∑ R2 czx ) , where axy, byz, czx are any nonnegative reals; this is a special case of the [url=http://en.wikipedia.org/wiki/LoomisProblem: [color=4000FF]Let S be a ﬁnite set of points in Rn. Let S1, S2, . . . , Sn be the sets consisting of the orthogonal projections of the points of S onto the n cartesian planes respectively. Prove that |S|n−1 ≤ ∏n i=1 |Si| [/color] Solution: We induct on number of points. For a point a = (a1, . . . , an) ∈ S, we have (0, a2, . . . , an) ∈ S1, (a1, 0, . . . , an) ∈ S2 and so on. Take some t, and create two nonempty set A and B with elements of S that have ai > t, and with elements of S have ai ≤ t respec- tively. (there exists at least one such i ) So |A| + |B| = |S|, and |Aj| + |Bj| = |Sj| , for all j ̸= i, and obviously |Ai|, |Bi| ≤ |Si| By inductive hypothesis |S| = |A| + |B| ≤ ∏n i=1 |Ai| 1 n−1 + ∏n i=1 |Bi| 1 n−1 So |S| ≤ ∏n i=1 |Ai| 1 n−1 + ∏n i=1 |Bi| 1 n−1 ≤ |Si| 1 n−1 ( ∏n−1 j=1 i̸=j |Ai| 1 n−1 + ∏n−1 j=1 i̸=j |Bi| 1 n−1 ) ≤ |Si| 1 n−1 · ∏n−1 j=1 i̸=j (|Aj| + |Bj|) 1 n−1 = ∏n i=1 |Si| 1 n−1 The last inequality follows from Hlder’s inequality. So we get |S| n−1 ≤ ∏n i=1 |Si|, and the induction is complete.[/quote] 28","libVersion":"0.3.1","langs":""}