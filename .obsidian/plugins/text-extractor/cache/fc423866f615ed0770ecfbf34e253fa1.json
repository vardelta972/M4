{"path":"iCloudDrive/bks/OlympiadQPs/USAMO PYQ/2022.pdf","text":"USAMO 2022 Solution Notes Evan Chen《陳誼廷》 10 August 2023 This is a compilation of solutions for the 2022 USAMO. Some of the solutions are my own work, but many are from the official solutions provided by the organizers (for which they hold any copyrights), and others were found by users on the Art of Problem Solving forums. These notes will tend to be a bit more advanced and terse than the “official” solutions from the organizers. In particular, if a theorem or technique is not known to beginners but is still considered “standard”, then I often prefer to use this theory anyways, rather than try to work around or conceal it. For example, in geometry problems I typically use directed angles without further comment, rather than awkwardly work around configuration issues. Similarly, sentences like “let R denote the set of real numbers” are typically omitted entirely. Corrections and comments are welcome! Contents 0 Problems 2 1 Solutions to Day 1 3 1.1 USAMO 2022/1, proposed by Ankan Bhattacharya . . . . . . . . . . . . . 3 1.2 USAMO 2022/2, proposed by Ankan Bhattacharya . . . . . . . . . . . . . 4 1.3 USAMO 2022/3, proposed by Hung-Hsun Hans Yu . . . . . . . . . . . . . 6 2 Solutions to Day 2 8 2.1 USAMO 2022/4, proposed by Holden Mui . . . . . . . . . . . . . . . . . . 8 2.2 USAMO 2022/5, proposed by Gabriel Carroll . . . . . . . . . . . . . . . . 9 2.3 USAMO 2022/6, proposed by Yannick Yao . . . . . . . . . . . . . . . . . 10 1 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 §0 Problems 1. Let a and b be positive integers. Every cell of an (a + b + 1) × (a + b + 1) grid is colored either amber or bronze such that there are at least a2 + ab − b amber cells and at least b2 + ab − a bronze cells. Prove that it is possible to choose a amber cells and b bronze cells such that no two of the a + b chosen cells lie in the same row or column. 2. Let b ≥ 2 and w ≥ 2 be fixed integers, and n = b + w. Given are 2b identical black rods and 2w identical white rods, each of side length 1. We assemble a regular 2n-gon using these rods so that parallel sides are the same color. Then, a convex 2b-gon B is formed by translating the black rods, and a convex 2w-gon W is formed by translating the white rods. An example of one way of doing the assembly when b = 3 and w = 2 is shown below, as well as the resulting polygons B and W . W B Prove that the difference of the areas of B and W depends only on the numbers b and w, and not on how the 2n-gon was assembled. 3. Solve over positive real numbers the functional equation f (x) = f (f (f (x)) + y) + f (xf (y))f (x + y). 4. Find all pairs of primes (p, q) for which p − q and pq − q are both perfect squares. 5. A function f : R → R is essentially increasing if f (s) ≤ f (t) holds whenever s ≤ t are real numbers such that f (s) ̸= 0 and f (t) ̸= 0. Find the smallest integer k such that for any 2022 real numbers x1, x2, . . . , x2022, there exist k essentially increasing functions f1, . . . , fk such that f1(n) + f2(n) + · · · + fk(n) = xn for every n = 1, 2, . . . , 2022. 6. There are 2022 users on a social network called Mathbook, and some of them are Mathbook-friends. (On Mathbook, friendship is always mutual and permanent.) Starting now, Mathbook will only allow a new friendship to be formed between two users if they have at least two friends in common. What is the minimum number of friendships that must already exist so that every user could eventually become friends with every other user? 2 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 §1 Solutions to Day 1 §1.1 USAMO 2022/1, proposed by Ankan Bhattacharya Available online at https://aops.com/community/p24774812. Problem statement Let a and b be positive integers. Every cell of an (a + b + 1) × (a + b + 1) grid is colored either amber or bronze such that there are at least a2 + ab − b amber cells and at least b2 + ab − a bronze cells. Prove that it is possible to choose a amber cells and b bronze cells such that no two of the a + b chosen cells lie in the same row or column. Claim — There exists a transversal Ta with at least a amber cells. Analogously, there exists a transversal Tb with at least b bronze cells. Proof. If one picks a random transversal, the expected value of the number of amber cells is at least a2 + ab − b2 a + b + 1 = (a − 1) + 1 a + b + 1 > a − 1. Now imagine we transform Ta to Tb in some number of steps, by repeatedly choosing cells c and c′ and swapping them with the two other corners of the rectangle formed by their row/column, as shown in the figure. c c ′ =⇒ By “discrete intermediate value theorem”, the number of amber cells will be either a or a + 1 at some point during this transformation. This completes the proof. 3 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 §1.2 USAMO 2022/2, proposed by Ankan Bhattacharya Available online at https://aops.com/community/p24775345. Problem statement Let b ≥ 2 and w ≥ 2 be fixed integers, and n = b + w. Given are 2b identical black rods and 2w identical white rods, each of side length 1. We assemble a regular 2n-gon using these rods so that parallel sides are the same color. Then, a convex 2b-gon B is formed by translating the black rods, and a convex 2w-gon W is formed by translating the white rods. An example of one way of doing the assembly when b = 3 and w = 2 is shown below, as well as the resulting polygons B and W . W B Prove that the difference of the areas of B and W depends only on the numbers b and w, and not on how the 2n-gon was assembled. We are going to prove that one may swap a black rod with an adjacent white rod (as well as the rods parallel to them) without affecting the difference in the areas of B − W . Let ⃗u and ⃗v denote the originally black and white vectors that were adjacent on the 2n-gon and are now going to be swapped. Let ⃗x denote the sum of all the other black vectors between ⃗u and −⃗u, and define ⃗y similarly. See the diagram below, where B0 and W0 are the polygons before the swap, and B1 and W1 are the resulting changed polygons. 4 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 B0 ⃗x −⃗x ⃗u B1 ⃗x −⃗x ⃗v W0 ⃗v ⃗y −⃗y W1 ⃗u ⃗y −⃗y Observe that the only change in B and W is in the parallelograms shown above in each diagram. Letting ∧ denote the wedge product, we need to show that ⃗u ∧ ⃗x − ⃗v ∧ ⃗y = ⃗v ∧ ⃗x − ⃗u ∧ ⃗y which can be rewritten as (⃗u − ⃗v) ∧ (⃗x + ⃗y) = 0. In other words, it would suffice to show ⃗u −⃗v and ⃗x +⃗y are parallel. (Students not familiar with wedge products can replace every ∧ with the cross product × instead.) Claim — Both ⃗u − ⃗v and ⃗x + ⃗y are perpendicular to vector ⃗u + ⃗v. Proof. We have (⃗u − ⃗v) ⊥ (⃗u + ⃗v) because ⃗u and ⃗v are the same length. For the other perpendicularity, note that ⃗u + ⃗v + ⃗x + ⃗y traces out a diameter of the circumcircle of the original 2n-gon; call this diameter AB, so A + ⃗u + ⃗v + ⃗x + ⃗y = B. Now point A + ⃗u + ⃗v is a point on this semicircle, which means (by the inscribed angle theorem) the angle between ⃗u + ⃗v and ⃗x + ⃗y is 90◦. 5 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 §1.3 USAMO 2022/3, proposed by Hung-Hsun Hans Yu Available online at https://aops.com/community/p24774907. Problem statement Solve over positive real numbers the functional equation f (x) = f (f (f (x)) + y) + f (xf (y))f (x + y). The answer is f (x) ≡ c/x for any c > 0. This works, so we’ll prove this is the only solution. The following is based on the solution posted by pad on AoPS. In what follows, f n as usual denotes f iterated n times, and P (x, y) is the given statement. Also, we introduce the notation Q for the statement Q(a, b) : f (a) ≥ f (b) =⇒ f (f (b)) ≥ a. To see why this statement Q is true, assume for contradiction that a > f (f (b)); then consider P (b, a − f (f (b))) to get a contradiction. The main idea of the problem is the following: Claim — Any function f : R>0 → R>0 obeying statement Q satisfies f 2(x) = f 4(x). Proof. From Q(t, t) we get f 2(t) ≥ t for all t > 0. So this already implies f 4(x) ≥ f 2(x) by choosing t = f 2(x). It also gives f (x) ≤ f 3(x) ≤ f 5(x) by choosing t = f (x), t = f 3(x). Then Q(f 4(x), x) is valid and gives f 2(x) ≥ f 4(x), as needed. Claim — The function f is injective. Proof. Suppose f (u) = f (v) for some u > v. From Q(u, v) and Q(v, u) we have f 2(v) ≥ u and f 2(u) ≥ v. Note that for all x > 0 we have statements P (f 2(x), u) =⇒ f 3(x) = f (x + u) + f (xf (u))f (x + u) = (1 + f (xf (u)))f (x + u) P (f 2(x), v) =⇒ f 3(x) = f (x + v) + f (xf (v))f (x + v) = (1 + f (xf (v)))f (x + v). It follows that f (x + u) = f (x + v) for all x > 0. This means that f is periodic with period T = u − v > 0. However, this is incompatible with Q, because we would have Q(1 + nT, 1) for all positive integers n, which is obviously absurd. Since f is injective, we obtain that f 2(x) = x. Thus P (x, y) now becomes the statement P (x, y) : f (x) = f (x + y) · [1 + f (xf (y)) ] . In particular P (1, y) =⇒ f (1 + y) = f (1) 1 + y 6 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 so f is determined on inputs greater than 1. Finally, if a, b > 1 we get P (a, b) =⇒ 1 a = 1 a + b · [1 + f ( a b f (1) )] which is enough to determine f on all inputs, by varying (a, b). 7 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 §2 Solutions to Day 2 §2.1 USAMO 2022/4, proposed by Holden Mui Available online at https://aops.com/community/p24774670. Problem statement Find all pairs of primes (p, q) for which p − q and pq − q are both perfect squares. The answer is (3, 2) only. Set a2 = p − q b 2 = pq − q. Note that 0 < a < p, and 0 < b < p (because q ≤ p). Now subtracting gives (b − a) | {z } <p (b + a) | {z } <2p = b 2 − a2 = p(q − 1) The inequalities above now force b + a = p. Hence q − 1 = b − a. This means p and q − 1 have the same parity, which can only occur if q = 2. Finally, taking mod 3 shows p ≡ 0 (mod 3). So (3, 2) is the only possibility (and it does work). 8 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 §2.2 USAMO 2022/5, proposed by Gabriel Carroll Available online at https://aops.com/community/p24774633. Problem statement A function f : R → R is essentially increasing if f (s) ≤ f (t) holds whenever s ≤ t are real numbers such that f (s) ̸= 0 and f (t) ̸= 0. Find the smallest integer k such that for any 2022 real numbers x1, x2, . . . , x2022, there exist k essentially increasing functions f1, . . . , fk such that f1(n) + f2(n) + · · · + fk(n) = xn for every n = 1, 2, . . . , 2022. The answer is 11 and, more generally, if 2022 is replaced by N then the answer is ⌊log2 N ⌋ + 1. ¶ Bound Suppose for contradiction that 2k − 1 > N and choose xn = −n for each n = 1, . . . , N . Now for each index 1 ≤ n ≤ N , define S(n) = {indices i for which fi(n) ̸= 0} ⊆ {1, . . . , k}. As each S(nt) is nonempty, by pigeonhole, two S(n)’s coincide, say S(n) = S(n′) for n < n′. But it’s plainly impossible that xn > xn′ in that case due to the essentially increasing condition. ¶ Construction It suffices to do N = 2k − 1. Rather than drown the reader in notation, we’ll just illustrate an example of the (inductive) construction for k = 4. Empty cells are zero. f1 f2 f3 f4 x1 = 3 3 x2 = 1 10 −9 x3 = 4 4 x4 = 1 100 200 −299 x5 = 5 200 −195 x6 = 9 100 −91 x7 = 2 2 x8 = 6 1000 2000 4000 −6994 x9 = 5 2000 4000 −5995 x10 = 3 1000 4000 −4997 x11 = 5 4000 −3995 x12 = 8 1000 2000 −2992 x13 = 9 2000 −1991 x14 = 7 1000 −993 x15 = 9 9 The general case is handled in the same way with powers of 10 replaced by powers of B, for a sufficiently large number B. 9 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 §2.3 USAMO 2022/6, proposed by Yannick Yao Available online at https://aops.com/community/p24774626. Problem statement There are 2022 users on a social network called Mathbook, and some of them are Mathbook-friends. (On Mathbook, friendship is always mutual and permanent.) Starting now, Mathbook will only allow a new friendship to be formed between two users if they have at least two friends in common. What is the minimum number of friendships that must already exist so that every user could eventually become friends with every other user? With 2022 replaced by n, the answer is ⌈ 3 2 n⌉ − 2. ¶ Terminology Standard graph theory terms: starting from a graph G on n vertices, we’re allowed to take any C4 in the graph and complete it to a K4. The problem asks the minimum number of edges needed so that this operation lets us transform G to Kn. ¶ Construction For even n, start with an edge ab, and then create n/2 − 1 copies of C4 that use ab as an edge, as shown below for n = 14 (six copies of C4). a b This can be completed into Kn by first completing the n/2 − 1 C4’s into K4, then connecting red vertices to every grey vertex, and then finishing up. The construction for odd n is the same except with one extra vertex c which is connected to both a and b. ¶ Bound Notice that additional operations or connections can never hurt. So we will describe a specific algorithm that performs operations on the graph until no more operations are possible. This means that if this algorithm terminates with anything other G = Kn, the graph was never completable to Kn to begin with. The algorithm uses the following data: it keeps a list C of cliques of G, and a labeling L : E(G) → C which assigns to every edge one of the cliques that contains it. • Initially, C consists of one K2 for every edge of G, and each edge is labeled in the obvious way. 10 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 • At each step, the algorithm arbitrarily takes any C4 = abcd whose four edges ab, bc, cd, da do not all have the same label. Consider these labels that appear (at least two, and up to four), and let V be the union of all vertices in any of these 2-4 cliques. • Do the following graph operations: connect ac and bd, then connect every vertex in V − {a, b, c, d} to each of {a, b, c, d}. Finally, complete this to a clique on V . • Update C by merging these 2-4 cliques into a single clique KV . • Update L by replacing every edge that was labeled with one of these 2-4 cliques with the label KV . Also, update every newly created edge to have label KV . However, if there were existing edges not labeled with one of the 2-4 cliques, then we do not update these! • Stop once every C4 has only one label appearing among its edges. When this occurs, no operations are possible at all on the graph. A few steps of the process are illustrated below for a graph on six vertices with nine initial edges. There are initially nine K2’s labeled A, B, . . . , I. Original edges are always bolder than added edges. The relabeled edges in each step are highlighted in color. Notice how we need an entirely separate operation to get G to become L, even though no new edges are drawn in the graph. A B C D EF G H I 1 2 3 456 Initial setup J J C D EJ G J I J 1 2 3 456 Step 1: Operate on 1256. Merges ABFH into J. θ(J) = 4 K K K D EK G K K K K K 1 2 3 456 Step 2: Operate on 1235. Merges CIJ into K. θ(K) = 6 L L L D EL L L L L L L 1 2 3 456 Step 3: Operate on 2356. Merges GK into L. θ(L) = 7 As we remarked, if the graph is going to be completable to Kn at all, then this algorithm must terminate with C = {Kn}. We will use this to prove our bound. We proceed by induction in the following way. For a clique K, let θ(K) denote the number of edges of the original graph G which are labeled by K (this does not include new edges added by the algorithm); hence the problem amounts to estimating how small θ(Kn) can be. We are trying to prove: 11 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 Claim — At any point in the operation, if K is a clique in the cover C, then θ(K) ≥ 3|K| 2 − 2. where |K| is the number of vertices in K. Proof. By induction on the time step of the algorithm. The base case is clear, because then K is just a single edge of G, so θ(K) = 1 and |K| = 2. The inductive step is annoying casework based on the how the merge occurred. Let C4 = abcd be the 4-cycle operated on. In general, the θ value of a newly created K is exactly the sum of the θ values of the merged cliques, by definition. Meanwhile, |K| is the number of vertices in the union of the merged cliques; so it’s the sum of the sizes of these cliques minus some error due to overcounting of vertices appearing more than once. To be explicit: • Suppose we merged four cliques W , X, Y , Z. By definition, θ(K) = θ(W ) + θ(X) + θ(Y ) + θ(Z) ≥ 3 2 (|W | + |X| + |Y | + |Z|) − 8 = 3 2 (|W | + |X| + |Y | + |Z| − 4) − 2. On the other hand |K| ≤ |W | + |X| + |Y | + |Z| − 4; the −4 term comes from each of {a, b, c, d} being in two (or more) of {W, X, Y, Z}. So this case is OK. • Suppose we merged three cliques X, Y , Z. By definition, θ(K) = θ(X) + θ(Y ) + θ(Z) ≥ 3 2 (|X| + |Y | + |Z|) − 6 = 3 2 ( |X| + |Y | + |Z| − 8 3 ) − 2. On the other hand, |K| ≤ |X| + |Y | + |Z| − 3, since at least 3 of {a, b, c, d} are repeated among X, Y , Z. Note in this case the desired inequality is actually strict. • Suppose we merged two cliques Y , Z. By definition, θ(K) = θ(Y ) + θ(Z) ≥ 3 2 (|Y | + |Z|) − 4 = 3 2 ( |Y | + |Z| − 4 3 ) − 2. On the other hand, |K| ≤ |Y | + |Z| − 2, since at least 2 of {a, b, c, d} are repeated among Y , Z. Note in this case the desired inequality is actually strict. Remark. Several subtle variations of this method do not seem to work. • It does not seem possible to require the cliques in C to be disjoint, which is why it’s necessary to introduce a label function L as well. • It seems you do have to label the newly created edges, even though they do not count towards any θ value. Otherwise the termination of the algorithm doesn’t tell you enough. • Despite this, relabeling existing edges, like G in step 1 of the example, 1 seems to cause a lot of issues. The induction becomes convoluted if θ(K) is not exactly the sum of θ-values of the subparts, while the disappearance of an edge from a clique will 12 USAMO 2022 Solution Notes web.evanchen.cc, updated 10 August 2023 also break induction. 13","libVersion":"0.3.1","langs":""}