{"path":"iCloudDrive/bks/Combinatorics/Combinatorics/combinatorics - Henry Liu - UKMT Mentoring 2007.pdf","text":"Combinatorics Henry Liu, 15 August 2007 Combinatorics is an area of mathematics which is not easy to deﬁne. Loosely speaking, it is the area of mathematics which studies discrete structures. It brings together many subareas. One of these subareas is the theory of counting objects, where many ideas occur. These ideas include permutations, combinations, factorials, and the use of binomial coeﬃcients. This subarea is more formally known as enumerative combinatorics. Another subarea, which can be considered as an area in its own right, is graph theory. Roughly speaking, a graph is a structure which consists of a set of points, and a set of line segments joining some pairs of the points. We can say a lot of things about such a structure. Although there are many more subareas of combinatorics, in this set of notes we shall just focus on these two, since they occur the most often in olympiad mathematics. We shall also have another section here, which discusses a very useful idea: we shall see how to prove the impossibility of certain statements, by means of taking a colouring, with ﬁnitely many colours, of a certain structure. This is equivalent to partitioning our structure into ﬁnitely many parts, and we can deduce results from such partitions. Combinatorics is an area which is hardly visible at schools. Some of the ideas which are well exposed are the simplest ones, such as factorials, some of the ideas involving the binomial coeﬃcient, and maybe some basic graph theory at A-level. It is an area which must be learnt outside the classroom. So, we shall prove many basic theorems here. We will only leave the proof of one theorem: Tur´an’s Theorem, as an exercise. This is because a proof of this result is rather technical. The completion of a proof is denoted by the symbol □. 1. Enumerative Combinatorics: Counting Objects Many problems in combinatorics involve counting objects. In this section, we discuss many ideas related to such problems. 1.1 Permutations and Combinations Deﬁnition 1 Let n ∈ N. Then, we deﬁne n!, read n factorial, to be the number n! = 1 × 2 × 3 × · · · × (n − 1) × n. We also deﬁne 0! = 1. Now, given n ∈ Z, n ≥ 0 and 0 ≤ r ≤ n, we would like to know: “How many ways can we choose r objects out of n objects, subject to certain conditions?”. The conditions include whether we care about the order in which we pick the objects, whether the objects are distinct, and whether we can choose the objects more than once. We ﬁrst distinguish the cases whether ordering matters or not. 1 Deﬁnition 2 Let n ∈ Z, n ≥ 0 and 0 ≤ r ≤ n. If we have n objects, then a subset of r objects where the ordering matters is an r-permutation of the objects. If ordering does not matter, then the subset is an r-combination. In particular, when r = n, an n-permutation is simply called a permutation. Remark. For r = 0 in either case, we choose none of the objects. We deﬁne a 0-permutation or a 0-combination simply to be the empty set. This must be the case when n = 0. We ﬁrst consider r-permutations. We would like to count how many of these there are from n objects, under certain conditions. Firstly, we consider the case when the objects are distinct, and that we can replace the objects after picking them. Theorem 1 Suppose that we have n ≥ 1 distinct objects. Let 0 ≤ r ≤ n. We pick r of the objects, one at a time, allowing replacement. Then, the number of diﬀerent r-permutations is n r. Also, when n = 0, there is exactly one 0-permutation: the empty set. Remark. Note that, for n ≥ 1 and r = 0 the number of ways of picking nothing is 1, the “empty pick”. This agrees with Theorem 1; when r = 0, we have n0 = 1 way of picking nothing. From now on, this “empty pick” will always be counted, unless otherwise stated. Proof of Theorem 1. There are n ways of picking the ﬁrst object. Then there are n ways of picking the second object, since replacement is allowed. Repeating this r times, we get n r as the total number of possibilities. □ Example 1. There are 6 4 = 1296 4-digit numbers which contain the digits 1, 2, 3, 4, 5 and 6. Next, we consider the same question, but not allowing replacement. Theorem 2 Suppose that we have n ≥ 0 distinct objects. Let 0 ≤ r ≤ n. We pick r of the objects, one at a time, without replacement. Then, the number of diﬀerent r-permutations is n × (n − 1) × · · · × (n − r + 1) = n! (n − r)!. Remark. In particular, when r = n, the total number of permutations of n distinct objects is n! (n−n)! = n!. Also, when r = 0, we have n! (n−0)! = 1 0-permutation, as expected. Proof of Theorem 2. The result is true for n = 0. For n ≥ 1, we argue as in Theorem 1. We have n choices of picking the ﬁrst object. After that, we have n − 1 choices, then n − 2 choices, and so on, until we have n − r + 1 choices of 2 picking the rth object, since we are not allowing replacement. So the total number of possibilities is n × (n − 1) × · · · × (n − r + 1) = n! (n−r)! . □ Deﬁnition 3 The expression n! (n−r)! is usually denoted by nPr. Example 2. If n = 5 and r = 2, we have the following 2-permutations of {1, 2, 3, 4, 5}: {1, 2}, {1, 3}, {1, 4}, {1, 5}, {2, 1}, {2, 3}, {2, 4}, {2, 5}, {3, 1}, {3, 2}, {3, 4}, {3, 5}, {4, 1}, {4, 2}, {4, 3}, {4, 5}, {5, 1}, {5, 2}, {5, 3} and {5, 4}, giving a total of 20. This agrees with Theorem 2: 5! (5−2)! = 20. Before we proceed, we would like to divert and make a shorthand notation. The above listing of r-permutations looks rather cumbersome. We can make such a listing look a bit more pleasant simply by ignoring the chain brackets, and the commas within the r-permutations. This shorthand notation also works for r-combinations. Deﬁnition 4 For an r-permutation or an r-combination {x1, x2, . . . , xr}, we may write it as x1x2 · · · xr So, the above listing can simply be written as 12, 13, 14, 15, 21, 23, 24, 25, 31, 32, 34, 35, 41, 42, 43, 45, 51, 52, 53, 54. Next, we consider the same question, but when the objects may not be distinct. In this case, we only consider the number of permutations. Theorem 3 Suppose that we have n ≥ 0 objects, where n1 of them are of type 1, n2 of them are of type 2, . . . , nk of them are of type k, so that n = n1 + · · · + nk. Then, the number of permutations of the objects is n! n1! × n2! × · · · × nk!. Proof. If we disregard that some of the objects are the same, then we would have n! permutations. Now, in each permutation, within the objects of type 1, they can be permuted in n1! ways; within the objects of type 2, they can be permuted in n2! ways, and so on. So, such a permutation has been counted n1! × n2! × · · · × nk! times, and we must divide n! by n1! × n2! × · · · × nk! to get the correct answer. □ Example 3. Another way of thinking about the situation of Theorem 3 is just the number of anagrams of a word. For example, there are 11! 1! × 4! × 4! × 2! = 34650 anagrams of the word ‘Mississippi’. Remark. It is not easy to get a precise expression for the number of r-permutations in the situation of Theorem 3. So far, we have been counting the number of r-permutations from n objects, 3 where we care about the ordering in which the chosen objects appear. We now want to count the number of r-combinations from n objects, so that we do not care about the ordering of the chosen objects. Firstly, Theorem 4 below considers the case when we cannot replace an object after picking it. This is the analogue of Theorem 2. Theorem 4 Suppose that we have n ≥ 0 distinct objects. Let 0 ≤ r ≤ n. We pick r of the objects, without replacement. Then, the number of diﬀerent r-combinations is n! r!(n − r)! . Remark. If r = n, there is only one possibility: to choose all n objects. This agrees with the expression in Theorem 4: n! n!(n−n)! = 1. Also, for r = 0, there is one possibility; to choose nothing. This again agrees with the expression: n! 0!(n−0)! = 1. Proof of Theorem 4. Simply, if we ﬁx an r-permutation of the objects, we may permute the r objects in r! ways. Each such r-permutation represents the same r-combination. So the answer is just to divide nPr by r!, giving n! r!(n−r)! possibilities. □ Deﬁnition 5 The expression n! r!(n−r)! is usually denoted by nCr, or by (n r) . It is called a binomial coeﬃcient and we read it as “n choose r”. Example 4. There are 10 ways of choosing two numbers from the set {1, 2, 3, 4, 5}, the subsets being 12, 13, 14, 15, 23, 24, 25, 34, 35, and 45. This agrees with Theorem 4: 5! 2!(5−2)! = 10. Finally, we want to count the number of r-combinations of n distinct objects, but allowing replacement. Theorem 5 Suppose that we have n ≥ 0 distinct objects. Let 0 ≤ r ≤ n. We pick r of the objects, allowing replacement. Then, the number of diﬀerent r-combinations is (n + r − 1)! r!(n − 1)! = (n + r − 1 r ) . Proof. Given such an r-combination, we can code it by a sequence of dots and dashes as follows. Suppose that the r-combination has r1 objects of type 1, r2 objects of type 2, . . . , rn objects of type n, where 0 ≤ ri ≤ r for each i, and r1 + · · · + rn = r. Now, starting with n − 1 dashes, we place r1 dots to the left of the ﬁrst dash, then r2 dots between the ﬁrst and second dashes, r3 dots between the second and third dashes, and so on, and rn dots to the right of the last dash. Clearly, this gives a direct correspondence between the r-combinations and all the possible permutations of r dots and n − 1 dashes. So, we can apply Theorem 3: we have r + n − 1 objects, r of one type, and n − 1 of another type. The total number of permutations is therefore (r+n−1)! r!(n−1)! = ( n+r−1 r ). □ 4 Example 5. A bakery sells ten types of cakes. The number of ways of choosing four cakes is (13 4 ) = 715 (provided that there are at least four of each type of cake available). 1.2 More on the Binomial Coeﬃcient In Deﬁnition 5, we deﬁned the binomial coeﬃcient (n r) . In this section, we brieﬂy digress and discuss some results about these numbers, before we return to discuss more on counting objects. Deﬁnition 6 We deﬁne Pascal’s Triangle as follows. We start with a 1, and this is row 0 of the triangle. A subsequent row is formed as follows. To get an entry in row i, we add two adjacent entries in row i − 1, and place the sum in the space in row i which is between and below the two row i − 1 entries. If one of the entries in row i − 1 is missing, we assign a 0 to the missing spot. Also, in each row, the entry on the left is the 0th entry of the row, and the entries to its right are, in order, the 1st entry, the 2nd entry, and so on. Below are row 0 to row 5 of Pascal’s Triangle. 1 1 1 1 2 1 1 3 3 1 1 4 6 4 1 1 5 10 10 5 1 It is well-known that the entries of Pascal’s Triangle are precisely the binomial coeﬃcients. Theorem 6 For n ∈ Z, n ≥ 0 and 0 ≤ r ≤ n, the rth entry in row n of Pascal’s triangle is precisely (n r). Proof. We use induction on n. The result is true for n = 0. We only have r = 0, and (0 0 ) = 1, the only entry in row 0 of the triangle. Now, let i ≥ 1, and suppose that the result holds for every entry in row i − 1 of the triangle. Let 0 ≤ r ≤ i. If 1 ≤ r ≤ i − 1, then the rth entry in row i is (i − 1 r − 1 ) + ( i − 1 r ) = (i − 1)! (r − 1)!(i − r)! + (i − 1)! r!(i − 1 − r)! = (i − 1)! (r − 1)!(i − 1 − r)! ( 1 i − r + 1 r ) = (i − 1)! (r − 1)!(i − 1 − r)! · i (i − r)r = i! r!(i − r)! = (i r ) . 5 If r = 0, then the 0th entry in row i of the triangle is 0 + ( i − 1 0 ) = 1 = (i 0 ) . If r = i, then the ith entry in row i of the triangle is ( i − 1 i − 1 ) + 0 = 1 = (i i ). We have now shown that the result holds for the entries in row i. Hence the result follows by induction. □ Next, we have the most well-known result involving binomial coeﬃcients, the binomial theorem. Theorem 7 (Binomial Theorem) Let x, y ∈ C, and n ∈ Z, n ≥ 0. Then, (x + y) n = n∑ r=0 ( n r ) xn−ryr. Proof. There are many proofs of this result. We give probably the simplest. When we expand out (x + y) n, each term we obtain consists of some x’s and some y’s multiplied together, the total number of x’s and y’s being n (this is before we add any equal terms together). So, it suﬃces to show that, for each 0 ≤ r ≤ n, there are precisely (n r) terms xn−ryr. But this is clear by Theorem 4. We have n y’s, and we have (n r) ways of picking r y’s from them. Whenever we choose r y’s, we are automatically left with n − r x’s. So we have precisely (n r) terms xn−ryr. □ The binomial coeﬃcient also satisﬁes many properties, and Theorem 8 below shows some of the most well-known ones. Theorem 8 Let n ∈ Z, n ≥ 0. We have the following. (a) (n r) = ( n n−r), if 0 ≤ r ≤ n. Both are equal to n! r!(n−r)! . (b) (n 0) = ( n n ) = 1 if n ≥ 0, and ( n 1) = ( n n−1 ) = n if n ≥ 1. (c) (n r) + ( n r+1 ) = ( n+1 r+1), if 0 ≤ r ≤ n − 1. (d) ( n 0) + (n 1) + (n 2) + · · · + (n n ) = 2 n. (e) ( n 0) − ( n 1) + (n 2) − · · · + (−1) n(n n ) = 0. (f ) 1 ( n 1) + 2(n 2) + 3(n 3) + · · · + n( n n ) = n2 n−1. (g) ( n 0)2 + (n 1)2 + ( n 2)2 + · · · + ( n n)2 = ( 2n n ) . 6 Proof. Properties (a) and (b) are obvious from the deﬁnition of (n r) . Property (c) has already been proved in the main calculation in the proof of Theorem 6. Properties (d) and (e) follow from Theorem 7 by letting x = y = 1 and x = 1, y = −1, respectively. To get property (f), we let x = 1 in Theorem 7 to get (1 + y)n = ∑n r=0 (n r) yr. Diﬀerentiating both sides with respect to y gives n(1 + y) n−1 = ∑n r=1 r( n r)yr−1. Then, letting y = 1 gives the result. To get property (g), we consider the coeﬃcient of xn in the expansion of (1+x) 2n. On one hand, this is ( 2n n ) , by Theorem 7. On the other hand, by Theorem 7 again, we have (1 + x) 2n = (1 + x) n(1 + x)n = ( n∑ r=0 ( n r ) xr) ( n∑ s=0 ( n s ) xs) . In the product on the right, when we expand, we get a term involving xn whenever we multiply a term which involves xt in the ﬁrst sum by a term which involves xn−t in the second sum, for some 0 ≤ t ≤ n. For such a t, the corresponding coeﬃcient is (n t)( n n−t ) . Summing these coeﬃcients as t varies, and using property (a), we get that the overall coeﬃcient of xn is also ( n 0)(n n ) + ( n 1)( n n−1 ) + · · · + ( n n )(n 0) = ( n 0)2 + (n 1)2 + · · · + (n n )2. This gives property (g). □ In addition to the properties of binomial coeﬃcients given in Theorem 8, there are many more which are a little bit more complicated. 1.3 Other Ideas on Counting In this section, we consider some more ideas about counting objects. 1.3.1 Counting Objects in Two Ways Suppose that we have a certain number of objects. If we are able to count the objects to sum to the total in two ways, then we have an equation linking two expressions, each of which equals the total number of objects. We have already seen one instance of this idea: when we derived property (g) of Theorem 8. There, we counted the number of terms involving xn in the expansion of (1 + x) 2n, in two ways. We give another example below. There will be some more examples on this idea later. Example 6. n real numbers whose sum is n are placed on a circle. Show that for any 1 ≤ k ≤ n, some k successive numbers must have a sum at least k. Let a1, a2, . . . , an be the numbers. We can use the numbers to form an array as 7 follows. a1 a2 a3 · · · an a2 a3 a4 · · · a1 a3 a4 a5 · · · a2 ... ... ... ... ak ak+1 ak+2 · · · an+k−1 Note that the indices are taken modulo n. Now, the total sum of all the numbers in the array is kn, since there are k rows, each with sum n. So, the sum of the columns is also kn. Since there are n columns, some column must have a sum of at least kn n = k (if every column has sum less than k, then the total sum of the columns, hence the sum of everything in the array, is less than kn, a contradiction). Moreover, each column represents successive terms on the circle. So we are done. 1.3.2 Bijection Proofs We now describe a useful technique which can prove statements of the form: “The number of objects with property A is equal to the number of objects with property B”. The idea is that we do not actually try to ﬁnd the common total number (which may be diﬃcult to compute), but we try to ‘match’ the objects with property A to the objects with property B in a ‘one-on-one’ manner. Such a matching is formally known as a bijection. Deﬁnition 7 Let A and B be sets. A function f : A → B is a bijection if • for every x, y ∈ A, if x ̸= y, then f (x) ̸= f (y); • for every y ∈ B, there exists an x ∈ A such that f (x) = y. So, going back to the scenario, let A be the set of objects with property A, and deﬁne B likewise. If we can ﬁnd a bijection from A to B, then it easily follows that |A| = |B|, provided that the common number is ﬁnite. For a problem of such a form, a proof which exhibits a bijection is a ‘bijection proof’. We will given an example which considers partitions of a number n ∈ N. We need to deﬁne what a partition is ﬁrst. Deﬁnition 8 Let n ∈ N. A partition of n is a representation of n as a sum of positive integers. Two partitions of n are distinct if the two sets of terms involved are not equal as multisets. For example, 1 + 1 + 3 and 1 + 3 + 1 represent the same partition of 5, while 5, 2 + 3 and 4 + 1 represent pairwise distinct partitions of 5. Remark. So, given n ∈ N, every partition of n is equal to a unique partition where the terms are listed in decreasing order (decreases of zero are possible). So, if 8 we want to list out all the distinct partitions of n, it is a good idea to assume that the terms are decreasing in each partition. Example 7. We prove the following result. For n, r ∈ N with 1 ≤ r ≤ n, the number of partitions of n into at most r terms is equal to the number of partitions of n into any number of terms, each of which is at most r. Throughout, we assume that all partitions have their terms decreasing. As an example, for n = 5 and r = 3, the partitions satisfying the former are 3 + 1 + 1, 2+2+1, 4+1, 3+2 and 5, while the partitions satisfying the latter are 1+1+1+1+1, 2 + 1 + 1 + 1, 3 + 1 + 1, 2 + 2 + 1 and 3 + 2. We will use a bijection proof to prove the result. For any partition of n, we may represent it by means of a diagram, the Young diagram, or the Ferrers diagram. Figure 1 shows an example of such a diagram, for the partition 5 = 2 + 2 + 1. ......................................................................................................................................................................................................... ......................................................................................................................................................................................................... ..................................................................................................................................... ..................................................................................................................................... ..................................................................................................................................... ..................................................................................................................................... .................................................................. Figure 1 In a Young diagram, the number of boxes is n. The columns are always decreasing in height from left to right (possibly by zero), and the number of boxes in the columns are the terms of the partition. We use this idea to produce a bijection proof. Firstly, it is easy to check that the correspondence between the partitions and the Young diagrams of n is bijective (clearly, two diﬀerent partitions of n map to diﬀerent Young diagrams, and every Young diagram of n is formed from some partition of n). Now, a partition of n with at most r terms has at most r columns in its diagram, while a partition of n, each of whose terms is at most r, has a diagram such that every column has height at most r. So, it is enough to ﬁnd a bijection between these two classes of Young diagrams. But this is fairly obvious. For a Young diagram of the ﬁrst type, if we reﬂect it about the diagonal line at 45 ◦, we get another Young diagram whose columns have heights at most r, and so is of the second type. The converse holds as well. Obviously, two distinct Young diagrams of the ﬁrst type, when reﬂected, give two distinct Young diagrams of the second type. From these, it is obvious that this ‘reﬂection’ is the required bijection, and we are done. 9 For the example where n = 5 and r = 3, we get the bijection 3 + 1 + 1 ←→ 3 + 1 + 1 2 + 2 + 1 ←→ 3 + 2 4 + 1 ←→ 2 + 1 + 1 + 1 3 + 2 ←→ 2 + 2 + 1 5 ←→ 1 + 1 + 1 + 1 + 1 Remark. It is easily conceivable that, for general n and r, the above common number of partitions is diﬃcult to ﬁnd exactly. This indeed is the case. 1.3.3 Inclusion-Exclusion Principle When one attempts to count the number of objects, a very common mistake is usually that some objects are counted too many times. The inclusion-exclusion principle is one of the results which can help us to avoid this mistake. Let us look at a simple example ﬁrst. Example 8. A class of students sat a maths exam and an English exam. 18 students got a grade A in maths only, 13 students got a grade A in English only, and 5 students got grade A’s in both. How many students got at least one grade A? If we were just to add the 18 to the 13, we get 31, but we will have counted those students who got grade A’s in both exams twice. So we need to subtract the number of such students, which is 5. The answer is therefore 18 + 13 − 5 = 26 students. To generalise this, we ﬁrst deﬁne some well-known set operations. Deﬁnition 9 Let A and B be any two sets. (a) We call the elements which belong to both A and B the intersection of A and B. This set is denoted by A ∩ B. (b) We call the elements which belong to A or B (including both) the union of A and B. This set is denoted by A ∪ B. (c) We call the elements which belong to A, but not to B, the diﬀerence of B from A. This set is denoted by A \\ B, or A − B. Remark. These three operations can obviously extend to more than two sets. But when this happens, if we have at least two of ∩, ∪ and \\, or at least two of \\ involved, we must use brackets to show which operation(s) must be done ﬁrst. For example, ‘A∩B ∪C’ does not make sense, since in general, (A∩B)∪C ̸= A∩(B ∪C). ‘A \\ B \\ C’ makes no sense, since (A \\ B) \\ C ̸= A \\ (B \\ C), in general. However, if we just have ∩ or ∪ on its own, we do not need any brackets, because in these cases, the set that we get at the end will be the same, no matter which order we use for the operations. For example, A ∩ B ∩ C makes sense, since (A ∩ B) ∩ C = 10 A ∩ (B ∩ C) for any three sets A, B, C, and we use A ∩ B ∩ C for both of these. Similarly for ∪ on its own, and for more than three sets. So, we can interpret Example 8 in this way. Let A be the set of the students who got a grade A in maths, and B be the set of the students who got a grade A in English. So, we have |A| = 18, |B| = 13 and |A ∩ B| = 5. We want to ﬁnd the value of |A ∪ B|. With the same argument as given in the example, we get |A ∪ B| = |A| + |B| − |A ∩ B| = 18 + 13 − 5 = 26. We have now proved the formula |A ∪ B| = |A| + |B| − |A ∩ B|. Can we extend this formula to three sets? Suppose that we have three sets A, B and C, and we know the values of |A|, |B|, |C|, |A∩B|, |A∩C|, |B∩C| and |A∩B∩C|. Can we ﬁnd the value of |A ∪ B ∪ C|? We can indeed apply the same argument. If we add |A|, |B| and |C|, we will have counted the elements of (A ∩ B) \\ (A ∩ B ∩ C), (A ∩ C) \\ (A ∩ B ∩ C) and (B ∩ C) \\ (A ∩ B ∩ C) twice, and the elements of A ∩ B ∩ C three times. Then, if we subtract |A ∩ B|, |A ∩ C| and |B ∩ C|, we will then have counted the elements of (A ∩ B) \\ (A ∩ B ∩ C), (A ∩ C) \\ (A ∩ B ∩ C) and (B ∩ C) \\ (A ∩ B ∩ C) correctly, but we also will have counted the elements of A ∩ B ∩ C 3 − 3 = 0 times. So, adding |A ∩ B ∩ C|, we get the correct formula for |A ∪ B ∪ C|: |A ∪ B ∪ C| = |A| + |B| + |C| − (|A ∩ B| + |A ∩ C| + |B ∩ C|) + |A ∩ B ∩ C|. This, of course, generalises further to n sets. The result is the inclusion-exclusion principle. Theorem 9 (Inclusion-Exclusion Principle) Let A1, A2, . . . , An be ﬁnite sets. Then, |A1 ∪ A2 ∪ · · · ∪ An| = (|A1| + |A2| + · · · + |An|) −(|A1 ∩ A2| + |A1 ∩ A3| + · · · + |An−1 ∩ An|) +(|A1 ∩ A2 ∩ A3| + |A1 ∩ A2 ∩ A4| + · · · ) − · · · +(−1) n−1|A1 ∩ A2 ∩ · · · ∩ An|, where, in the sum on the right, we have the size of every k-wise intersection for every 1 ≤ k ≤ n, where a k-wise intersection is assigned with the sign (−1)k−1. Before we prove this, we shall prove a well-known identity about sets. Lemma 10 Let n ∈ N, n ≥ 3. For sets B1, B2, . . . , Bn, we have (B1 ∪ B2 ∪ · · · ∪ Bn−1) ∩ Bn = (B1 ∩ Bn) ∪ · · · ∪ (Bn−1 ∩ Bn). 11 Proof. We ﬁrst prove that, for three sets A, B, C, we have (A ∪ B) ∩ C = (A ∩ C) ∪ (B ∩ C). We have x ∈ (A ∪ B) ∩ C ⇐⇒ x ∈ A ∪ B and x ∈ C ⇐⇒ x ∈ A or x ∈ B, and x ∈ C ⇐⇒ x ∈ A ∩ C or x ∈ B ∩ C ⇐⇒ x ∈ (A ∩ C) ∪ (B ∩ C), so the identity holds. Now, using this identity repeatedly, we have (B1 ∪ B2 ∪ · · · ∪ Bn−1) ∩ Bn = [(B1 ∪ B2 ∪ · · · ∪ Bn−2) ∩ Bn] ∪ (Bn−1 ∩ Bn) = [(B1 ∪ B2 ∪ · · · ∪ Bn−3) ∩ Bn] ∪(Bn−2 ∩ Bn) ∪ (Bn−1 ∩ Bn) = · · · = (B1 ∩ Bn) ∪ · · · ∪ (Bn−1 ∩ Bn). □ Proof of Theorem 9. We use induction on n. The assertion is trivial if n = 1, and the case n = 2 has already been proved in the above discussion concerning Example 8. Now, let A1, A2, . . . , An be ﬁnite sets, where n ≥ 3. Assume that the statement holds for any family of less than n ﬁnite sets. We have |A1 ∪ A2 ∪ · · · ∪ An| = |A1 ∪ A2 ∪ · · · ∪ An−1| + |An| −|(A1 ∪ A2 ∪ · · · ∪ An−1) ∩ An|. Now, in the expression on the right, we can expand |A1 ∪ A2 ∪ · · · ∪ An−1| (by induction), and when we do so, we get the required terms (with the correct signs) which involve all the k-wise intersections of A1, . . . , An−1, for every 1 ≤ k ≤ n − 1. We need to show that the other two terms will account for the missing required terms. That is, all the k-wise intersections of A1, . . . , An which involve An, for all 1 ≤ k ≤ n. We already have |An|. Now, using Lemma 10 and induction again, we have −|(A1 ∪ A2 ∪ · · · ∪ An−1) ∩ An| = −|(A1 ∩ An) ∪ · · · ∪ (An−1 ∩ An)| = −(|A1 ∩ An| + |A2 ∩ An| + · · · + |An−1 ∩ An|) +(|A1 ∩ A2 ∩ An| + · · · +|An−2 ∩ An−1 ∩ An|) − · · · +(−1) n−2(|A1 ∩ · · · ∩ An−2 ∩ An| +|A1 ∩ · · · ∩ An−3 ∩ An−1 ∩ An| + · · · +|A2 ∩ · · · ∩ An−1 ∩ An|) +(−1) n−1|A1 ∩ A2 ∩ · · · ∩ An−1 ∩ An|. 12 The ﬁnal expression consists exactly the missing terms that we needed, with the correct signs. □ Example 9. How many positive integers less than 3000 are coprime to 3000? The prime factorisation of 3000 is 3000 = 23 × 3 × 5 3. Let S be the positive integers less than 3000, that is, S = {1, 2, . . . , 2999}. We count the number of elements of S which are not coprime to 3000. The highest common factor of such a number with 3000 is divisible by at least one of 2, 3 and 5, so such a number must be divisible by at least one of 2, 3 and 5. Let A be the elements of S which are divisible by 2, B be the elements of S which are divisible by 3, and C be the elements of S which are divisible by 5. We would like to ﬁnd |A ∪ B ∪ C|, the number of elements of S which are divisible by at least one of 2, 3 and 5. We have |A| = |{2, 4, 6, . . . , 2998}| = 1499, |B| = |{3, 6, 9, . . . , 2997}| = 999, and |C| = |{5, 10, 15, . . . , 2995}| = 599. Also, A ∩ B are the elements of S which are divisible by 6, so |A ∩ B| = |{6, 12, 18, . . . , 2994}| = 499. Similarly, |A ∩ C| = |{10, 20, 30, . . . , 2990}| = 299, |B ∩ C| = |{15, 30, 45, . . . , 2985}| = 199, and |A ∩ B ∩ C| = |{30, 60, 90, . . . , 2970}| = 99. So, by the inclusion-exclusion principle, we have |A ∪ B ∪ C| = (1499 + 999 + 599) − (499 + 299 + 199) + 99 = 2199. This is the number of elements of S which are not coprime to 3000. So the number of elements of S which are coprime to 3000 is 2999 − 2199 = 800. 1.3.4 Pigeonhole Principle The simplest case of the pigeonhole principle is that, if we have n boxes and we place at least n + 1 objects into them, then some box must contain at least two objects. This easily generalises to the following result. Theorem 11 (Pigeonhole Principle) Let n, k ∈ N. Suppose that we place at least kn + 1 objects into n boxes. Then some box must contain at least k + 1 objects. Proof. Assume not. Then every box has at most k objects, so that the total number of objects is at most kn. This is a contradiction, since we have at least kn + 1 objects. □ Theorem 11 is extremely useful, not just in combinatorics, but in just about every branch of mathematics as well. Example 10. Suppose that we have 10 points within a square of side length 3 (including on the edges of the square). Prove that some two points must be within a distance of √2 of each other. 13 Divide the square into nine 1×1 squares. Then by the pigeonhole principle, some two points must lie within one of the squares (including the sides of that square). So we are done, since the longest possible distance between any two such points is√12 + 12 = √ 2. 2. Graph Theory 2.1 Graphs: Deﬁnitions Graphs are very important objects in combinatorics. They are so important that there is actually an area of mathematics devoted to them: graph theory (which is a rather large area). Graphs interact very well with other areas of combinatorics. Roughly speaking, a graph is just a set of points, with some pairs of them being joined by some lines. Below, we give a more precise deﬁnition. Deﬁnition 10 A (simple) graph is a pair G = (V, E), where V is a set, and E is a family of subsets of V , each is of size 2 (and unordered). An element of V is called a vertex of G, and an element of E is called an edge of G. V is the vertex set of G, and E is the edge set of G. Sometimes, we may want to write V (G) = V and E(G) = E, to emphasize the dependence of V and E on G. We write |G| = |V (G)| and e(G) = |E(G)|, and call these the order and the size of the graph G, respectively. Note that each of these can be inﬁnite (we shall see some examples soon). The best way to think of a (simple) graph is by a picture. V is a set of points (namely, vertices). E is a set of line or curve segments (namely, edges) joining pairs of vertices such that, a subset of V of size 2 is in E if and only if there is an edge joining the corresponding two vertices of V . In this way, we usually use letters like v and u for the vertices of a graph. For edges, if the edge with end-vertices u and v is in the graph, we just write uv to denote this edge, rather than {u, v}. Note that uv = vu. We may also use letters like e and f to denote edges. Example 11. If V = {v1, v2, v3, v4, v5} and E = {v1v2, v1v4, v1v5, v2v4, v2v5, v3v5}, then we get the following graph. ............................................................................................................................................................................................................................................................................. ......................................................................................................................................................................................................................... ............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................. ...................................................................................................................................... v4 v3 v5 v2 v1 . . .. . Figure 2 14 Remark. We need to be rather careful. We do not allow the following here. • No ‘loops’ are allowed. That is, a vertex cannot be joined to itself. If we are allowed to have ‘loops’, then we are talking about ‘graphs with loops’. • No pair of distinct vertices can have more than one edge joining them. If we allow this, then we have ‘multiedges’, and we are talking about ‘multigraphs’. • The edges are ‘unordered pairs of vertices’. If we care about the ordering of an edge, we have ‘directed edges’, and we are talking about ‘directed graphs’. Hence, sometimes we use the word ‘simple’ to emphasize that we do not allow these things. But here, we will drop this word, since we will only be talking about simple graphs. However, the edges do not necessarily have to be straight line segments. We can use curves for edges. But it is absolutely essential to use large dots to show the vertices, because for certain graphs, it may be the case that no matter how we draw them, we may be forced to have that some edges must cross (this ought to happen if we have lots of edges), so that we must declare if there is a vertex at such a position or not. Also, the set V can be an inﬁnite set, in which case E can also be inﬁnite. Here are some examples. Example 12. We may have V = Z, and E consisting of the edges which join distinct pairs of even numbers. So, such a graph can only be partially drawn. Indeed, depending on the vertex set, some graphs may be even harder to draw, maybe impossible. For example, if V = R, and E consists of the edges which join pairs of real numbers with unit distance between them. We can only barely draw a few vertices and edges of this graph. We can only deﬁne it in an abstract way. Graphs can model many real life situations. For example, a situation where a ‘network scenario’ is present. The vertices can represent people and edges can join two people if they are related. Or, the vertices can represent computers and the edges can join two computers if they are related in some way. And so on. In this way, graphs present very nice ways of looking at such a situation. Now, we deﬁne several important classes of graphs, with their notations. Deﬁnition 11 Let n, m ∈ N. (a) The complete graph on n vertices is the graph with n vertices, where each pair of vertices is joined by an edge. It is denoted by Kn. We have e(Kn) = (n 2) . (b) The empty graph on n vertices is the graph with n vertices, but with no edges. It is denoted by En. We have e(En) = 0. 15 (c) For n ≥ 3, the cycle on n vertices is the graph with n vertices, v1, v2, . . . , vn say, with edges v1v2, v2v3, . . . , vn−1vn, vnv1. It is denoted by Cn. We have e(Cn) = n. (d) The path of length n − 1 is the graph with n vertices, v1, v2, . . . , vn say, with edges v1v2, v2v3, . . . , vn−1vn. It is denoted by Pn−1. We have e(Pn−1) = n − 1. (e) The complete bipartite graph on m + n vertices is the graph with m + n vertices, u1, u2, . . . , um, v1, v2, . . . , vn say, with edges uivj for every 1 ≤ i ≤ m and 1 ≤ j ≤ n. It is denoted by Km,n. The sets {u1, . . . , um} and {v1, . . . , vn} are the classes of Km,n. We have e(Km,n) = mn. Figure 3 below shows examples of these graphs. ..................................................................................................................................... ..................................................................................................................................... .................................................................. .......................................................................................................................................... .......................................................................................................... .............................................................................................................................................. .......................................................................................................... .......................................................................................................... .............................................................................................................................................. .......................................................................................................... ............................................................................................. ............................................................................................. ............................................................................................. .................................................................................................................................... .................................................................................................................................... ............................................................................................. C5 P3 K2,3E3K4 . ... . . . . . . . . . . .. . .. .. Figure 3 Next, we consider some properties of a vertex of a graph. Deﬁnition 12 Let G = (V, E) be a graph, and let v ∈ V be a vertex of G. (a) The vertex u ∈ V is adjacent to v, or is a neighbour of v, if uv ∈ E. (b) The set of neighbours of v is the neighbourhood of v. This set is denoted by Γ(v). Note that this may be ﬁnite or inﬁnite. (c) The number of neighbours of v is the degree of v, and is denoted by d(v). Note that d(v) = |Γ(v)|. Again, this may be ﬁnite or inﬁnite. (d) If d(v) = 0, then v is an isolated vertex. (e) The smallest of all the degrees is the minimum degree of G, and the largest is the maximum degree of G. These are denoted by δ(G) and ∆(G), respectively. Sometimes, we may want to write ΓG(v) for Γ(v) and dG(v) for d(v), if we want to emphasize the dependence of neighbourhood and degree on G. Remark. If δ(G) and ∆(G) are both ﬁnite, then obviously, δ(G) ≤ ∆(G). Also, these quantities are always well-deﬁned, even if the graph G is inﬁnite. It is possible to have δ(G) = ∞ and/or ∆(G) = ∞. We have an elementary result about the sum of the degrees of a graph with ﬁnite order. 16 Theorem 12 Let G = (V, E) be a graph, with V ﬁnite. Let V = {v1, v2, . . . , vn}. Then, n∑ i=1 d(vi) = 2e(G). So in particular, the sum of the degrees of the vertices of G is always even. Proof. This is another good example illustrating counting objects in two ways. We count the number of edges of G in two ways. On one hand, this is e(G). On the other hand, if we consider summing the degrees of G, then each edge has been counted exactly twice; an edge uv is counted in the terms d(u) and d(v) of the degree sum. So, e(G) = 1 2 ∑n i=1 d(vi), and we are done. □ Now, we deﬁne some more properties about graphs themselves. We can talk about a graph containing other graphs. Deﬁnition 13 Let G = (V, E) be a graph. (a) A graph H = (V ′, E′) is a subgraph of G if V ′ ⊆ V and E′ ⊆ E. We write H ⊆ G. (b) Let A ⊆ V . Then the subgraph of G induced by A is the subgraph with vertex set A, and the edges of E whose end-vertices are in A. We write G[A] for this subgraph. (c) Let x ∈ V (G). Then the graph G − x is the graph formed by removing x from G, along with the edges which touch x. (d) Let e ∈ E(G). Then the graph G − e is the graph (V, E \\ {e}). That is, we just remove the edge e from G. The above ideas are often useful for proving statements about graphs, when we want to apply induction on the number of vertices, or on the number of edges (or some other similar quantity). Finally, given a graph, it has a ‘complement graph’. Deﬁnition 14 Let G = (V, E) be a graph. The complementary graph of G, or the complement of G, is the graph G = (V, E), where E is the complement of E in the set of all possible edges on V . In other words, to get G from G, we just remove the edges of G, and add back the edges between vertices of V that were not present in G. 2.2 Bipartite and r-partite Graphs We shall consider another, rather special, class of graphs. These graphs are a huge generalisation of the complete bipartite graphs which we have already seen. 17 Deﬁnition 15 Let r ∈ N, r ≥ 2. A graph G = (V, E) is an r-partite graph if there is a partition of V into r parts, V = V1 ∪ V2 ∪ · · · ∪ Vr say, such that for every edge uv ∈ E, we have u ∈ Vi and v ∈ Vj for some i ̸= j. The sets V1, . . . , Vr are the classes of G. If G contains every edge between every two classes, then G is a complete r-partite graph. In the case where all the classes are ﬁnite, G is denoted by Kk1,k2,...,kr, where ki = |Vi| for every 1 ≤ i ≤ r, so that k1 + · · · + kr = |V |. We have e(Kk1,k2,...,kr) =∑ i<j kikj. Finally, a 2-partite graph is more commonly called a bipartite graph. Note that in an r-partite graph, two vertices in the same class cannot be joined by an edge. Figure 4 below shows a 4-partite graph, and the graph K4,2,3. The classes in each case are shown in the ovals. ....................................................................................................................................... ....................................................................................................................................... ....................................................................................................................................... ....................................................................................................................................... ............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................ .................................................................................................................................................................................................................................................................................................................................................................................................... ........................................................................................................................................................................................................... .............................................................................................................................................................................. ......................................................................................................................................................................................... .................................................................................................................................................................... ........................................................................................................................................................................................ ......................................................................................................................................................................................... ........................................................................................................................................ ............................................................................................................................................................. ......................................................................................................................................................................................................................... ................................................................................................................................................................................................... .......................................................................................................................................................................................................... ................................................................................................................................................................................................. .......................................................................................................................................................... ......................................................................................................................................................................... ..................................................................................................................................................................................... ..................................................................................................................................................................................................... ......................................................................................................................................................................................................... ..................................................................................................................................................................................................................... ...................................................................................................................................................... .......................................................................................................................................................................................................................................................................................................................................................... ................................................................................................................................................................................................. ........................................................................................................................................................................................................................... ..................................................................................................................................................................................................... .................................................................................................................................................................................................................... ........................................................................................................................................................................................................................................ ............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................ ............................................................................................................................................................................................................................................................................................................................................................................................ ............................................................................................................................................................................................................................................................................................................................................................................................ ............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................ .................................................................................................................................................................................................................................................................. ............................................................................................................................................................................................................................................................ .................................................................................................................................................................................................................................................................................................................................................................................................................................................................... ............................................................................................................................................................................................ ............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................. .............................................................................................................................................................................................................................................................................................................................................................. .. . . . . . .. ... .. . . ... .. K4,2,3 Figure 4 In certain problems, r-partite graphs, and in particular, bipartite graphs, are very useful graphs to consider. Here is an example. Example 13. A group of 13 mathematicians and 6 physicists met at a conference. Many handshakes, all of which involved a mathematician and a physicist, were made. It is known that everyone has made at least one handshake, that every mathematician made the same number of handshakes, and that the number of handshakes that every physicist made is a multiple of 3. How many handshakes did each mathematician make? Also, describe how the handshakes can be made so that the above scenario can be realised. This example can be modelled perfectly by a bipartite graph. Let G be such a bipartite graph. The classes of G are M and P , where M are the mathematicians and P are the physicists, so that |M | = 13 and |P | = 6. An edge joins two people if they shook hands. For some a ∈ N, we have d(x) = a for every x ∈ M ; note that our task is to ﬁnd a. Let P = {p1, . . . , p6}. For some b1, . . . , b6 ∈ N, we have d(pi) = 3bi for every 1 ≤ i ≤ 6. We count the number of edges of G in two ways. On one hand, we have e(G) = 13a. On the other hand, we have e(G) = ∑6 i=1 3bi. 18 So, 13a = ∑6 i=1 3bi, from which it follows that a is a multiple of 3. Now, since a physicist can shake hands at most 13 times, we have 1 ≤ bi ≤ 4 for each 1 ≤ i ≤ 6. It follows that 18 ≤ ∑6 i=1 3bi ≤ 72, so that 18 ≤ 13a ≤ 72. Since a is a multiple of 3, the only possible value of a satisfying 18 ≤ 13a ≤ 72 is a = 3. It remains to construct a bipartite graph G, with one class M of size 13 and the other class P of size 6, such that d(x) = 3 for all x ∈ M , and d(y) is a multiple of 3 for every y ∈ P . Such a graph G is shown in Figure 5. Triple lines between two classes means that we have a complete bipartite subgraph between the classes. ............................................................................................................... ............................................................................................................... ............................................................................................................... ............................................................................................................... ............................................................................................................... ............................................................................................................... ............................................................................................................... ............................................................................................................... ............................................................................................................... ............................................................................................................... ............................................................................................................... ............................................................................................................... ................................................................................................................................................................... ................................................................................................................................................................... ................................................................................................................................................................... ................................................................................................................................................................... ................................................................................................................................... ................................................................................................................................... ................................................................................................................................... ................................................................................................................................... .......................................................................................................................................... ..................................................................................................................................................... .................................................................................................................................................................................................................................................................................................................................................................... ...................................................................................................................................................................................................................... ..................................................................................................................................................... ............................................................................................................................................................................................. ..................................................................................................................................................... .......................................................................................................................................... ................................................................................ ................................................................................ ................................................................................ ................................................................................ ................................................................................ ................................................................................ M P . .. .. . . .. . . ... . . ... Figure 5 2.3 Connectedness In this section, we consider yet another important property about graphs, the concept of ‘connectedness’. Deﬁnition 16 A graph G = (V, E) is connected if for every u, v ∈ V , there are distinct vertices x1, x2, . . . , xk ∈ V such that ux1, x1x2, x2x3, . . . , xk−1xk, xkv ∈ E. That is, every pair of vertices are joined by some path which is a subgraph of G. In other words, a connected graph is a graph ‘in one piece’. So, we can think about connectedness in this way. If a graph is not connected, then it consists of several ‘pieces’. These ‘pieces’ are the components of the graph. We give a more precise deﬁnition. Deﬁnition 17 For a graph G = (V, E), a subgraph H ⊆ G, H = (V ′, E′), is a component of G if the following hold. • H is connected. • For any u ∈ V ′, there is no vertex v ∈ V \\ V ′ such that uv ∈ E. • Whenever x, y ∈ V ′ and xy ∈ E, we must have xy ∈ E′. So in some sense, a component H of a graph G is a ‘maximal, connected subgraph’; ‘maximal’ in the sense that we cannot extend H further to a connected subgraph with a larger order or a larger size. There are plenty of results in graph theory which concern connectedness. Here, we present one of them. 19 Theorem 13 Let G = (V, E) be a graph, with V ﬁnite. Then either G or G is connected. Proof. If G is connected, we are done, so suppose not. Then G is made up of at least two components, say, H1, H2, . . . , Hr, where r ≥ 2. Consider any two components Hi and Hj. For any u ∈ V (Hi) and v ∈ V (Hj), we have uv ∈ E(G), so that any two vertices of V (Hi) ∪ V (Hj) is connected by a path of length at most 2. Since this holds for every i ̸= j, we have, in fact, that every pair of vertices in G is connected by a path of length at most 2. Hence G is connected. □ 2.4 Mantel’s Theorem and Tur´an’s Theorem In this section, we shall talk about two theorems (one being a special case of the other) which, although are fairly advanced and are results one is not expected to know, they are fairly easy to remember. There has been some olympiad level problems where they can be extremely useful. Consider the following question. “Given n ∈ N, n ≥ 2, how many edges on n vertices can a graph G have, so that G does not contain K3 as a subgraph?” In other words, if G is ‘triangle free’, then how large can its size be? It seems that complete bipartite graphs are good candidates for G, since they do not contain triangles. If we just restrict our consideration to these graphs, then we can quite easily see (say, by the AM-GM inequality) that we should make the class sizes as equal as possible, namely, one class with size ⌊ n 2 ⌋ and the other with size ⌈ n 2 ⌉. Such a graph does indeed attain the maximum number of edges for G (out of all graphs on n vertices which do not contain a K3), and moreover, this graph is the only graph which attains the maximum. This is a theorem of Mantel. Theorem 14 (Mantel’s Theorem) Let n ∈ N, n ≥ 2. Let G be a graph on n vertices. If G does not contain K3 as a subgraph, then e(G) ≤ e(Kr,s), where r = ⌊ n 2 ⌋ and s = ⌈ n 2 ⌉. So, e(G) ≤ ⌊ n 2 ⌋⌈ n 2 ⌉. Moreover, equality holds if and only if G = Kr,s. For example, if G is a graph on 7 vertices and is triangle free, then e(G) ≤ 3×4 = 12, with equality if and only if G = K3,4. Proof of Theorem 14. If xy is an edge of G, then they may not have a common neighbour (otherwise we will get a triangle). So d(x) + d(y) ≤ n. Summing over all edges, we have ne(G) ≥ ∑ xy∈E(G) (d(x) + d(y)) In the sum on the right, we want to turn it into a sum over the vertices of G. For each vertex v ∈ V (G), the number of occurrences of the term d(v) is d(v). So the sum is the same as ∑ v∈V (G) d(v) 2. So we have ne(G) ≥ ∑ v∈V (G) d(v) 2 20 Now, by the Cauchy-Schwarz inequality, if x1, . . . , xn are non-negative reals, we have ( ∑ x2 i )(1 2 + · · · + 12) ≥ ( ∑ xi) 2, where we have n 1s. So ∑ x2 i ≥ 1 n ( ∑ xi)2. Using Theorem 12 as well, we have ne(G) ≥ ∑ v∈V (G) d(v) 2 ≥ 1 n ( ∑ v∈V (G) d(v) )2 = 1 n (2e(G)) 2, which gives e(G) ≤ n2 4 . Since e(G) is integral, we have, in fact, e(G) ≤ ⌊n2 4 ⌋ . It is easy to verify that ⌊ n2 4 ⌋ = ⌊ n 2 ⌋⌈ n 2 ⌉, by considering the parity of n. Indeed, they are both equal to n2 4 is n is even, and n2−1 4 if n is odd. So we have the ﬁrst part of the theorem. Now we prove the second part. We ﬁrst consider the case when n is even. Assume that we have equality in the theorem, so that e(G) = n2 4 . We must have equality in Cauchy-Schwarz, so that all the degrees are equal. We must also have d(x)+d(y) = n for every distinct x, y ∈ V (G), so we must have d(v) = n 2 for every v ∈ V (G). Now, take an edge uw ∈ E(G). We have |Γ(u)| = |Γ(w)| = n 2 , Γ(u) ∩ Γ(w) = ∅ (the empty set), and Γ(u) ∪ Γ(w) = V (G). Now, every z ∈ Γ(u) \\ {w} can only be adjacent to vertices of Γ(w), otherwise a K3 will be created. Since d(z) = n 2 = |Γ(w)|, it follows that Γ(z) = Γ(w). Similarly, Γ(z′) = Γ(u) if z′ ∈ Γ(w) \\ {u}. It follows that G = Kn/2,n/2, as required (with classes Γ(u) and Γ(w)). Finally, let n ≥ 3 be odd, say, n = 2m + 1. This time, we have e(G) = n2−1 4 = m 2 + m. So, ∑ v d(v) = 2e(G) = 2m 2 + 2m. So, there exists a vertex v ∈ V (G) with d(v) ≤ ⌊2m2 + 2m 2m + 1 ⌋ = ⌊ m + m 2m + 1 ⌋ = m, since 0 < m 2m+1 < 1. Now, let G ′ = G − v. Then, e(G ′) ≥ m2 + m − m = m 2. Moreover, |V (G ′)| = 2m, and G ′ also does not contain a K3. So by the ﬁrst part of the theorem, we have e(G ′) ≤ ⌊ (2m)2 4 ⌋ = m 2. Hence, e(G ′) = m2, so by the result for even n, we must have G ′ = Km,m. Also, we now know that dG(v) = m as well (since e(G ′) = m2), so, replacing v back in to reform G, v must be joined to all the vertices of one of the classes of G ′. It follows that G = Km,m+1, which is exactly what we want. □ Can we generalise Mantel’s Theorem? Yes, we can, in the following way. We can ask the more general question with Kk in place of K3, for any prescribed k ∈ N. That is, we want to know: “Given n, k ∈ N, where k ≥ 3, how many edges on n vertices can a graph G have, so that G does not contain a Kk as a subgraph?” In this case, it is conceivable that complete, (k − 1)-partite graphs are good candidates, since they do not contain Kk as a subgraph. Moreover, the sizes of the classes should be ‘as equal as possible’. So, we introduce a little notation. 21 Deﬁnition 18 For n, r ∈ N, where n, r ≥ 2, the r-partite Tur´an graph of order n is the complete r-partite graph on n vertices, where each class has size ⌊ n r ⌋ or ⌈ n r ⌉. It is denoted by Tr(n). Remark. (a) If r ≥ n, then Tr(n) is the complete graph Kn. (b) Note that, given n, r ∈ N, where 2 ≤ r ≤ n, there is only one way to partition n into r terms, each of which is either ⌊ n r ⌋ or ⌈ n r ⌉. Namely, we can think of the formation of the unique partition as follows. Deal a pack of n cards to r people in a cyclic manner. The distribution of the cards is then clearly unique, (up to permutation), and the ﬁrst s people get ⌈ n r ⌉ cards, with the others getting ⌊ n r ⌋ cards, where s is the remainder when n is divided by r. So, from (a) and (b) above, the graph Tr(n) is always well-deﬁned. Also, note that δ(Tr(n)) = n − ⌈ n r ⌉, and ∆(Tr(n)) = n − ⌊ n r ⌋. Figure 6 below shows the graph T3(8). ....................................................................................................................................... ....................................................................................................................................... ....................................................................................................................................... ....................................................................................................................................... ............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................ .................................................................................................................................................................................................................................................................................................................................................................................................... ........................................................................................................................................................................................... ............................................................................................................................................. ................................................................................................................................................................ ..................................................................................................................................................................................................................... ............................................................................................................................................................................................. ...................................................................................................................................................................................................... ..................................................................................................................................................................................................... .................................................................................................................................................................... ................................................................................................................................................................................. ............................................................................................................................................................................. .............................................................................................................................................................................................. .................................................................................................................................................................................................... ................................................................................................................................................................................................................ ......................................................................................................................................................... ............................................................................................................................................................................................................................................................................................................................................................ ................................................................................................................................................................................................. ........................................................................................................................................................................................................................... ..................................................................................................................................................................................................... .................................................................................................................................................................................................................... .......................................................................................................................................................................................................................................... . . . . .. T3(8) Figure 6 Now we can state Tur´an’s Theorem, which generalises Mantel’s Theorem, and it says that these graphs Tr(n) are the best graphs. Theorem 15 (Tur´an’s Theorem) Let n, k ∈ N, where n ≥ 2 and k ≥ 3. Let G be a graph on n vertices. If G does not contain Kk as a subgraph, then e(G) ≤ e(Tk−1(n)). Moreover, equality holds if and only if G = Tk−1(n). This result is one of the most famous results in graph theory. It has many proofs. However, all the known proofs are fairly technical. As a result, we will leave one of these proofs as an exercise. We will have at least one problem at the end where either Mantel’s Theorem or Tur´an’s Theorem can be used. 2.5 Graph Ramsey Theory 22 The starting point of Ramsey theory is usually the following problem. Example 14. Among a party of at least six people, there are either three people who all know each other, or there are three people, none of whom knows the other two (assuming that ‘knowing’ is a symmetric relationship). Moreover, the assertion is false for fewer than six people. That is, ‘six’ is the minimum integer for which this assertion holds. To prove the ﬁrst part, it suﬃces to prove it for six people, since if we have more than six people, we can just take any subset of six people and consider whether they know each other or not. So, consider six people. Represent each of them by a vertex in a graph, and join two vertices with a blue edge if the two people they represent know each other, and by a red edge if the two people do not know each other. So, we have a K6, whose edges are coloured either blue or red. We are done if we can show that, no matter which colouring we use, there is always either a blue triangle or a red triangle. So, take any such colouring. Choose any vertex x. Since x has ﬁve neighbours, by the pigeonhole principle, some three neighbours y1, y2, y3 are joined to x with the same colour. Suppose that this colour is blue. If some yiyj is blue, then x, yi and yj form a blue triangle. Otherwise, y1y2, y1y3 and y2y3 are all red, so y1, y2 and y3 form a red triangle. A similar argument holds if xy1, xy2 and xy3 are all red; we just switch the colours and use the same argument. Since our colouring was arbitrary, we have now proved the ﬁrst part. For the second part, it suﬃces to show that there is a colouring of the edges of K5, using blue and red, so that there is no triangle in one colour. For, if we have such a colouring of the edges of K5, then for each n ≤ 4, we can get a colouring of the edges of Kn with no triangle in one colour, simply by taking any subset of n vertices, along with the corresponding colours of the edges. So, for K5 itself, we take the colouring as shown in Figure 7. The solid lines are the blue edges, and the dotted lines are the red edges. We see that there is no triangle in either colour in this colouring. ......................................................................................................................................................................................................................... ......................................................................................................................................................................................................................... ......................................................................................................................................................................................................................... .............................................................................................................................................................................................................................................................................................................................................................................................................................................................. ............ ............ ............ . . . . . . . . . . . .. . .. . Figure 7 There is a bit of terminology which is useful to introduce. Deﬁnition 19 Let G be a graph. 23 (a) For r ∈ N, an (edge) r-colouring of G is a function f : E(G) → {1, 2, . . . , r}. In other words, such a function is just a colouring of the edges of G, using at most r colours. (b) If G is given an (edge) r-colouring, then a subgraph is monochromatic if all of its edges have the same colour. We usually ignore the word ‘edge’, if it is clear that we are colouring the edges (we may get this confused with colourings of the vertices). We will drop this word for the rest of this section. Remark. Note that an r-colouring is also an s-colouring for all s ≥ r. For example, if we have a 3-colouring of a graph, we may not necessarily need to have all three colours present. So in our example above, we have proved that, in any 2-colouring of Kn, where n ≥ 6, there is always a monochromatic triangle. Also, the assertion is false if n ≤ 5. In loose terms, “Ramsey theory” is the area of combinatorics which deals with questions of the following type: “Within a suﬃciently large region of disorder, there is always a small region of order”. In our example, our “suﬃciently large region of disorder” is a complete graph with at least six vertices, whose edges are coloured (disorderly) by two colours. Our “small region of order” is a monochromatic trian- gle. We may ask questions of this type when we have colourings of other objects as well. When we are colouring graphs, we are talking about “Graph Ramsey theory”. We return and continue to discuss Example 14. We can extend it by asking the following question. “Given integers s, t ≥ 2, what is the least integer n such that, whenever we have a 2-colouring of the edges of Kn, using blue and red say, we can always ﬁnd a blue Ks or a red Kt?” Deﬁnition 20 For the above question, the least such integer, if it exists, is denoted by R(s, t). It is called the Ramsey number of Kr versus Ks. So, Example 14 shows that R(3, 3) = 6. Can we say more about R(s, t)? Obviously, R(s, t) = R(t, s). Also, it is easy to see that R(s, 2) = s for all s ≥ 2, so these Ramsey numbers are exactly determined. What about for s, t ≥ 3? Apart from s = t = 3, only a few more of these Ramsey numbers are known exactly. It is not hard to show that R(3, 4) = 9, R(3, 5) = 14 and R(4, 4) = 18; we leave the determination of these Ramsey numbers as an exercise. The other known Ramsey numbers are R(3, 6) = 18, R(3, 7) = 23, R(3, 8) = 28, R(3, 9) = 36, and R(4, 5) = 25. Also, going back to Deﬁnition 20, is R(s, t) actually well-deﬁned for every s, t ≥ 2? Obviously, R(s, t) grows rapidly when s and t increase. Can it be the case that there are s and t so large that, no matter how large an integer n is, any 2-colouring of the edges of Kn using blue and red can never have a blue Ks or a 24 red Kt? The answer is “no”; it turns out that R(s, t) does have an upper bound, for every s and t. We have R(s, t) ≤ (s+t−2 s−1 ), and we will leave a proof of this as another exercise. To round oﬀ this section, we end by mentioning some more extensions. We may, of course, consider using r colours (where r ≥ 3) instead of 2 colours. The resulting Ramsey numbers are also known to exist, but almost nothing is known about their exact values. We may also consider ﬁnding monochromatic copies of some other graphs, rather than complete subgraphs. For example, R(P3, C4) denotes the least integer n such that, whenever Kn is 2-coloured in blue and red, there is either a blue P3 or a red C4. 3. Colouring Proofs We shall have a very short section here about another very useful technique for combinatorics problems: the idea of colouring structures. 3.1 Colouring Proofs There are many combinatorics problems which can be tackled by a “colouring proof”. What this essentially means is that we just take a partition of a certain structure into ﬁnitely many parts (each of which is assigned with a colour), and try to make an argument from such a partition. Let us look at an example. Example 15. Suppose that we have a standard 8×8 chessboard. It is well-known that, if we have a knight, and place it on any square on the board, then it is possible to visit every square exactly once, and then return to the starting square. Can we say the same thing for a 9 × 9 chessboard? (As usual, a knight moves from one square to another either by moving two squares left or right, followed by one square up or down, or by moving one square left or right, followed by two squares up or down. We claim that the answer is “no”. Consider colouring the squares black and white, in the usual chequered manner. Note that, when the knight moves, it goes from a square of a particular colour to a square of the opposite colour. Now, if the task was possible, then the knight will have made 81 moves. Since 81 is odd, this means that, after 81 moves, the knight will land on a square whose colour is diﬀerent from that of the starting square. So the ﬁnal square cannot be the starting square, a contradiction. Hence the task is impossible. This idea of colouring a structure is extremely useful, and often, it is not easy to notice in a certain problem that the idea can be applied. So one has to be very wary about the possibility of using a colouring to tackle a problem. 4. Problems 25 We divide the problems into two parts. The ﬁrst set consists of a few exercises, which complete the missing proofs in the notes. The second set consists of the challenges. 4.1 Exercises 1. Use the following guidelines to prove Tur´an’s Theorem. (This proof, when k = 3, does not coincide with the proof of Theorem 14. Hence it is another proof of Mantel’s Theorem.) Let n, k ∈ N with n ≥ 2 and k ≥ 3. Suppose that G is a graph on n vertices which does not contain Kk. We shall prove Theorem 15 by induction on n. The base case n = 2 is trivial (why?). So, assume that n ≥ 3. • Assume ﬁrstly that e(G) = e(Tk−1(n)). We claim that G = Tk−1(n). – Explain why we have δ(G) ≤ δ(Tk−1(n)). – Then, show that there exists a vertex x ∈ V (G) such that e(G − x) ≥ e(Tk−1(n)). Hence, considering induction on n, what can you say about G − x? – Now, replace x back. Where in G − x ( = ?) must x be joined to? Deduce that G = Tk−1(n). • Now, assume that e(G) > e(Tk−1(n)). By considering the removal of a suitable number of edges from G, explain why we cannot have this case. Finally, explain why this is suﬃcient for a proof of the theorem. 2. Prove that R(s, t) ≤ R(s − 1, t) + R(s, t − 1) for s, t > 2 (Hint: Mimic the argument used in Example 14). Deduce that R(s, t) ≤ ( s + t − 2 s − 1 ), so that the Ramsey numbers R(s, t) are actually well-deﬁned (Hint: Use induction). 3. Prove that R(3, 4) = 9, R(3, 5) = 14, and R(4, 4) = 18. 4.2. Olympiad Style Problems Here are the more challenging problems. Almost every problem here has a fairly short solution. Problems 1 to 14 are fairly standard, while Problems 15 to 18 (marked with a +) are a little bit more trickier. 1. Suppose that we have a standard 8×8 chessboard, and we remove two opposite corners. Is it possible to cover the mutated chessboard with 31 1×2 dominoes, where each domino covers exactly two abutting squares of the chessboard? 26 2. We have a 4 × 7 chessboard. Prove that, no matter how we colour each square with black or white, we can always ﬁnd four distinct squares with the same colour which form the four corners of a rectangle. Is the same result true for a 4 × 6 chessboard? 3. Let A be a subset of {1, 2, . . . , 99, 100} with 10 elements. Prove that there are two disjoint, non-empty subsets of A such that the sum of the elements of one set equals the sum of the elements of the other set. 4. Consider the 2-dimensional integer lattice (that is, the collection of all points in the plane where each point has integer coordinates). Show that, no matter how we choose ﬁve distinct lattice points, some two of these points have the property that their midpoint is also a lattice point. 5. Simplify ⌊n/2⌋∑ k=0 ( n k )( n − k k )2 n−2k. 6. How many permutations are there of the letters A, A, A, A, A, B, B, B, B, B, C, C, C, C, C such that, in each permutation, every letter is adjacent to an identical letter? 7. Let x1, x2, . . . , x101 be a sequence of 101 real numbers. Prove that we can ﬁnd 11 indices 1 ≤ i1 < i2 < · · · < i11 ≤ 101 such that xi1, xi2, . . . , xi11 is either an increasing sequence or a decreasing sequence. (A sequence of real numbers y1, y2, y3, . . . is increasing if yi ≤ yj whenever i < j, and decreasing if yi ≥ yj whenever i < j.) 8. 20 points on the circumference of a circle are evenly spaced. They are joined up in disjoint pairs by 10 chords. Prove that, no matter how these 10 chords are drawn, some two of them have the same length. 9. An unordered pair of 9-digit numbers, each of which consists of all the digits from 1 to 9, is called friendly if their sum is 987654321. For example, {123456789, 864197532} is friendly. Prove that the number of these friendly unordered pairs is odd. 10. In a certain country, there are at least 101 towns. A railway network connects the towns, and it satisﬁes the following properties. • The capital is connected directly to 100 other towns. • Every town, apart from the capital, is connected directly to 10 other towns. 27 • From any town, it is possible to get to any other town, possibly via some other towns. Prove that it is possible to close down 50 of the lines connected to the capital, and preserve the property that, from any town, we can get to any other town (again, possibly via some other towns). (Note that “directly connected” is a symmetric relationship. That is, if we can get directly from town A to town B, then we can get directly from town B to town A.) 11. The circumference of a circle has length 3. We mark 21 points on the circum- ference. Prove that, among the arcs which join two of the points, we can ﬁnd at least 100 of them with length less than 1. Can ‘100’ be replaced by a larger integer? 12. Suppose that n is a positive integer not divisible by 2 or 5. Show that there exists a multiple of n which consists entirely of 1s. 13. 11 students tackled a set of 18 problems. Each problem was solved by at least 7 students. Prove that we can ﬁnd three students who, between them, solved all the problems. 14. Suppose that we have 100 fruits, 10 each of 10 types. They are arranged in a 10 × 10 formation. Prove that there is a column or a row which contains at least four diﬀerent types of fruit. +15. Is it possible to have a subset A ⊂ {1, 2, 3, . . . , 3000} with |A| = 2000, and with the property that whenever x ∈ A, we have 2x ̸∈ A? +16. Let n be a positive integer. Prove that the number of partitions of n into distinct terms is equal to the number of partitions of n into terms which are all odd. For example, for n = 5, the partitions satisfying the former are 1 + 4, 2 + 3 and 5, while the partitions satisfying the latter are 1 + 1 + 1 + 1 + 1, 1 + 1 + 3 and 5. +17. A rectangular board has m rows and n columns of unit squares, where m < n. We mark some of the squares so that each column has at least one marked square. Prove that we can ﬁnd a marked square such that the row containing it has more marked squares than the column containing it. +18. Prove that in a group of 50 people, we can ﬁnd two people who commonly know an even number (possibly zero) of the other 48 people. (Here, “knowing” is a symmetric relationship. That is, if A knows B, then B knows A.) 28","libVersion":"0.3.1","langs":""}